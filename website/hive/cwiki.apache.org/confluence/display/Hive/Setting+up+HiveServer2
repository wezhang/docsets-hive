<!DOCTYPE html>
<html>
<head>
                    <title>Setting Up HiveServer2 - Apache Hive - Apache Software Foundation</title>
    
        

                        
    
                        
    

                
    
    <meta http-equiv="X-UA-Compatible" content="IE=EDGE,chrome=IE7">
<meta charset="UTF-8">
<meta id="confluence-context-path" name="confluence-context-path" content="/confluence">
<meta id="confluence-base-url" name="confluence-base-url" content="https://cwiki.apache.org/confluence">

<meta id="atlassian-token" name="atlassian-token" content="735c8f668271f8e1dea73527ae5689ca93f07505">


<meta id="confluence-space-key" name="confluence-space-key" content="Hive">
<script type="text/javascript">
        var contextPath = '/confluence';
</script>

    

    <meta name="confluence-request-time" content="1451833723545">
        
    
        
            <meta name="ajs-is-space-admin" content=""> <meta name="ajs-has-space-config" content="">
            <style>.ia-fixed-sidebar, .ia-splitter-left {width: 285px;}.theme-default .ia-splitter #main {margin-left: 285px;}.ia-fixed-sidebar {visibility: hidden;}</style>
            <meta name="ajs-use-keyboard-shortcuts" content="true">
            <meta name="ajs-discovered-plugin-features" content="$discoveredList">
            <meta name="ajs-keyboardshortcut-hash" content="38450baaed51271899c8e867d2a48ca9">
            <meta name="ajs-is-confluence-admin" content="false">
            <meta name="ajs-connection-timeout" content="10000">
            <meta name="gliffy-license-type" content="LicenseType&lt;COMMUNITY&gt;">
<meta name="gliffy-license-quantity" content="${pluginLicenseManager.userCount}">

            <script type="text/x-template" title="gliffy-webpanel-footer">
        <div class="gliffy-webpanel-footer"><span>This Confluence installation runs a Free Gliffy License - Evaluate the <a href="http://www.gliffy.com/products/confluence-plugin/">Gliffy Confluence Plugin</a> for your Wiki!</span></div>
</script>


            
    
    
            <meta name="ajs-page-id" content="30758712">
            <meta name="ajs-latest-page-id" content="30758712">
            <meta name="ajs-content-type" content="page">
            <meta name="ajs-page-title" content="Setting Up HiveServer2">
            <meta name="ajs-parent-page-title" content="AdminManual SettingUpHiveServer">
            <meta name="ajs-parent-page-id" content="27362079">
            <meta name="ajs-space-key" content="Hive">
            <meta name="ajs-space-name" content="Apache Hive">
            <meta name="ajs-jira-metadata-count" content="0">
            <meta name="ajs-from-page-title" content="">
            <meta name="ajs-can-remove-page" content="false">
            <meta name="ajs-browse-page-tree-mode" content="view">
            <meta name="ajs-shared-drafts" content="false">
            <meta name="ajs-context-path" content="/confluence">
            <meta name="ajs-base-url" content="https://cwiki.apache.org/confluence">
            <meta name="ajs-version-number" content="5.8.4">
            <meta name="ajs-build-number" content="5982">
            <meta name="ajs-remote-user" content="">
            <meta name="ajs-remote-user-key" content="">
            <meta name="ajs-current-user-fullname" content="">
            <meta name="ajs-current-user-avatar-url" content="">
            <meta name="ajs-static-resource-url-prefix" content="/confluence/s/en_GB/5982/f2b47fb3d636c8bc9fd0b11c0ec6d0ae18646be7.1/_">
            <meta name="ajs-global-settings-attachment-max-size" content="20971520">
            <meta name="ajs-user-locale" content="en_GB">
            <meta name="ajs-enabled-dark-features" content="confluence-inline-comments-resolved,notification.plugin.api.enabled.com.atlassian.confluence.plugins.sharepage.api.ShareContentEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.mentions.api.ConfluenceMentionEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.security.ForgotPasswordEvent,pdf-preview,notification.plugin.api.enabled.com.atlassian.confluence.plugins.tasklist.event.SendTaskEmailEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.page.async.PageMovedEvent,previews.sharing,previews.versions,notification.plugin.api.enabled.com.atlassian.confluence.plugins.files.notifications.event.FileContentUpdateEvent,file-annotations,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.attachment.AttachmentBatchUploadCompletedEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.comment.CommentCreateEvent,notification.plugin.api.enabled.com.atlassian.confluence.efi.emails.events.OnboardingLessUsersEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.files.notifications.event.FileContentRemoveEvent,atlassian.aui.raphael.disabled,previews.conversion-service,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.comment.CommentUpdateEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.follow.FollowEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.page.async.PageEditedEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.blogpost.BlogPostCreateEvent,previews.trigger-all-file-types,notification.plugin.api.enabled.com.atlassian.confluence.plugins.inlinecomments.events.InlineCommentResolveEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.like.LikeCreatedEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.inlinecomments.events.InlineCommentCreateEvent,previews.sharing.pushstate,confluence-inline-comments-rich-editor,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.blogpost.BlogPostUpdateEvent,file-annotations.likes,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.page.async.PageCreatedEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.files.notifications.event.FileContentMentionUpdateEvent,notification.plugin.api.enabled.com.atlassian.confluence.efi.emails.events.OnboardingNoSpaceCreatedEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.hipchat.api.events.HipChatUserMapped,notification.plugin.api.enabled.com.atlassian.confluence.plugins.sharepage.api.ShareAttachmentEvent,confluence-inline-comments,confluence-inline-comments-dangling-comment,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.blogpost.BlogPostMovedEvent">
            <meta name="ajs-atl-token" content="735c8f668271f8e1dea73527ae5689ca93f07505">
            <meta name="ajs-confluence-flavour" content="VANILLA">
            <meta name="ajs-user-date-pattern" content="dd MMM yyyy">
            <meta name="ajs-date.format" content="MMM dd, yyyy">
    
    <link rel="shortcut icon" href="../../s/en_GB/5982/f2b47fb3d636c8bc9fd0b11c0ec6d0ae18646be7.1/_/favicon.ico">
    <link rel="icon" type="image/x-icon" href="../../s/en_GB/5982/f2b47fb3d636c8bc9fd0b11c0ec6d0ae18646be7.1/_/favicon.ico">

<link rel="search" type="application/opensearchdescription+xml" href="https://cwiki.apache.org/confluence/opensearch/osd.action" title="Apache Software Foundation"/>
    
                    
            <meta name="ajs-create-issue-metadata-show-discovery" content="false">
            

<script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\"/confluence\"";
WRM._unparsedData["com.atlassian.plugins.atlassian-nps-plugin:atlassian-nps-plugin-resources.is-server-instance-data-provider"]="true";
WRM._unparsedData["com.atlassian.plugins.browser.metrics.browser-metrics-plugin:browser-metrics.feature-data-provider-legacy"]="true";
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-rest:web-resource-manager.resource-base-url-pattern"]="\"(?:/confluence(?:/s/.*?/_)?/download)\"";
WRM._unparsedData["com.atlassian.confluence.plugins.confluence-license-banner:confluence-license-banner-resources.license-details"]="{\"daysBeforeLicenseExpiry\":0,\"daysBeforeMaintenanceExpiry\":0,\"showLicenseExpiryBanner\":false,\"showMaintenanceExpiryBanner\":false,\"renewUrl\":null,\"salesEmail\":null}";
WRM._unparsedData["com.atlassian.confluence.plugins.confluence-hipchat-integration-plugin:discovery-javascript-data.link-active"]="{\"linkActive\":true,\"conditionsMet\":true,\"admin\":false}";
WRM._unparsedData["com.atlassian.plugins.atlassian-nps-plugin:nps-acknowledgement-resources.analytics-enabled-data-provider"]="\"true\"";
WRM._unparsedData["com.atlassian.plugins.atlassian-nps-plugin:nps-acknowledgement-resources.sen-data-provider"]="\"SEN-2015076\"";
WRM._unparsedData["com.atlassian.confluence.plugins.confluence-feature-discovery-plugin:confluence-feature-discovery-plugin-resources.test-mode"]="false";
WRM._unparsedData["com.atlassian.plugins.browser.metrics.browser-metrics-plugin:api.feature-data-provider"]="true";
</script>
<link type="text/css" rel="stylesheet" href="https://cwiki.apache.org/confluence/s/2e51e60e83eadbb79c5004bd9c4ac765-CDN/en_GB/5982/f2b47fb3d636c8bc9fd0b11c0ec6d0ae18646be7.1/68/_/download/superbatch/css/batch.css@build-number=5982" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/confluence/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5982/f2b47fb3d636c8bc9fd0b11c0ec6d0ae18646be7.1/68/_/download/superbatch/css/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="/confluence/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5982/f2b47fb3d636c8bc9fd0b11c0ec6d0ae18646be7.1/68/_/download/superbatch/css/batch.css?conditionalComment=lte+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="https://cwiki.apache.org/confluence/s/9b6bdeb7fddc0a2f5337e313f4e85615-T/en_GB/5982/f2b47fb3d636c8bc9fd0b11c0ec6d0ae18646be7.1/ec13b76cd8d002fa2cf4ca229002aee7/_/download/contextbatch/css/page,viewcontent,atl.general,main,pagebanner,atl.comments/batch.css@highlightactions=true&amp;locale=en-GB&amp;flavour=VANILLA" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/confluence/s/6c0981174e94142364564819dc0d1413-CDN/en_GB/5982/f2b47fb3d636c8bc9fd0b11c0ec6d0ae18646be7.1/ec13b76cd8d002fa2cf4ca229002aee7/_/download/contextbatch/css/page,viewcontent,atl.general,main,pagebanner,atl.comments/batch.css?conditionalComment=lt+IE+9&amp;locale=en-GB" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="https://cwiki.apache.org/confluence/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5982/f2b47fb3d636c8bc9fd0b11c0ec6d0ae18646be7.1/2.8.6/_/download/batch/org.randombits.confluence.toc%253Atoc-plugin-styles/org.randombits.confluence.toc%253Atoc-plugin-styles.css" media="all">
<link type="text/css" rel="stylesheet" href="https://cwiki.apache.org/confluence/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5982/f2b47fb3d636c8bc9fd0b11c0ec6d0ae18646be7.1/3.7.2/_/download/batch/confluence.extra.information%253Ainformation-plugin-adg-styles/confluence.extra.information%253Ainformation-plugin-adg-styles.css" media="all">
<link type="text/css" rel="stylesheet" href="https://cwiki.apache.org/confluence/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5982/f2b47fb3d636c8bc9fd0b11c0ec6d0ae18646be7.1/2.1.5/_/download/batch/com.atlassian.confluence.ext.newcode-macro-plugin%253Asyntaxhighlighter/com.atlassian.confluence.ext.newcode-macro-plugin%253Asyntaxhighlighter.css" media="all">
<link type="text/css" rel="stylesheet" href="https://cwiki.apache.org/confluence/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5982/f2b47fb3d636c8bc9fd0b11c0ec6d0ae18646be7.1/2.1.5/_/download/batch/com.atlassian.confluence.ext.newcode-macro-plugin%253Ash-theme-default/com.atlassian.confluence.ext.newcode-macro-plugin%253Ash-theme-default.css" media="all">
<link type="text/css" rel="stylesheet" href="https://cwiki.apache.org/confluence/s/en_GB/5982/f2b47fb3d636c8bc9fd0b11c0ec6d0ae18646be7.1/13/_/styles/colors.css@spaceKey=Hive" media="all">
<link type="text/css" rel="stylesheet" href="https://cwiki.apache.org/confluence/s/en_GB/5982/f2b47fb3d636c8bc9fd0b11c0ec6d0ae18646be7.1/1.0/_/download/resources/com.atlassian.confluence.themes.default%253Astyles/default-theme.css" media="all">
<script type="text/javascript" src="https://cwiki.apache.org/confluence/s/b5b7f3c4a47ebde54b884c3070e3bb8c-CDN/en_GB/5982/f2b47fb3d636c8bc9fd0b11c0ec6d0ae18646be7.1/68/_/download/superbatch/js/batch.js@atlassian.aui.raphael.disabled=true&amp;locale=en-GB&amp;build-number=5982" ></script>
<script type="text/javascript" src="https://cwiki.apache.org/confluence/s/47fb273cd38c3662368839aefb134f70-T/en_GB/5982/f2b47fb3d636c8bc9fd0b11c0ec6d0ae18646be7.1/ec13b76cd8d002fa2cf4ca229002aee7/_/download/contextbatch/js/page,viewcontent,atl.general,main,pagebanner,atl.comments/batch.js@highlightactions=true&amp;analytics-uploadable=true&amp;flavour=VANILLA&amp;nps-acknowledged=true&amp;analytics-enabled=true&amp;locale=en-GB&amp;anonymous-access-enabled=true&amp;is-server-instance=true&amp;hostenabled=true" ></script>
<script type="text/javascript" src="https://cwiki.apache.org/confluence/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5982/f2b47fb3d636c8bc9fd0b11c0ec6d0ae18646be7.1/2.8.6/_/download/batch/org.randombits.confluence.toc%253Aclient-side-toc-resources/org.randombits.confluence.toc%253Aclient-side-toc-resources.js" ></script>
<script type="text/javascript" src="https://cwiki.apache.org/confluence/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5982/f2b47fb3d636c8bc9fd0b11c0ec6d0ae18646be7.1/2.8.6/_/download/batch/org.randombits.confluence.toc%253Atoc-plugin-analytics/org.randombits.confluence.toc%253Atoc-plugin-analytics.js" ></script>
<script type="text/javascript" src="https://cwiki.apache.org/confluence/s/6c0981174e94142364564819dc0d1413-CDN/en_GB/5982/f2b47fb3d636c8bc9fd0b11c0ec6d0ae18646be7.1/2.1.5/_/download/batch/com.atlassian.confluence.ext.newcode-macro-plugin%253Asyntaxhighlighter/com.atlassian.confluence.ext.newcode-macro-plugin%253Asyntaxhighlighter.js@locale=en-GB" ></script>
<script type="text/javascript" src="https://cwiki.apache.org/confluence/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5982/f2b47fb3d636c8bc9fd0b11c0ec6d0ae18646be7.1/2.1.5/_/download/batch/com.atlassian.confluence.ext.newcode-macro-plugin%253Asyntaxhighlighter-brushes/com.atlassian.confluence.ext.newcode-macro-plugin%253Asyntaxhighlighter-brushes.js" ></script>


        
    

        
        <meta name="ajs-site-title" content="Apache Software Foundation" />

    
    

    
                <link rel="canonical" href="Setting+Up+HiveServer2">
        <link rel="shortlink" href="https://cwiki.apache.org/confluence/x/OFfVAQ">
    <meta name="wikilink" content="[Hive:Setting Up HiveServer2]">
    <meta name="page-version" content="56">

</head>

<body             onload="placeFocus()"
     id="com-atlassian-confluence" class="theme-default  aui-layout aui-theme-default">

        
            <div id='stp-licenseStatus-banner'></div>
    <ul id="assistive-skip-links" class="assistive">
    <li><a href="Setting+Up+HiveServer2#title-heading">Skip to content</a></li>
    <li><a href="Setting+Up+HiveServer2#breadcrumbs">Skip to breadcrumbs</a></li>
    <li><a href="Setting+Up+HiveServer2#header-menu-bar">Skip to header menu</a></li>
    <li><a href="Setting+Up+HiveServer2#navigation">Skip to action menu</a></li>
    <li><a href="Setting+Up+HiveServer2#quick-search-query">Skip to quick search</a></li>
</ul>
<div id="page">
<div id="full-height-container">
    <div id="header-precursor">
        <div class="cell">
            <style type="text/css">
#preview #previewArea iframe {

   overflow: visible;
}
</style>

                            </div>
    </div>
    



<header id="header" role="banner">
    <nav class="aui-header aui-dropdown2-trigger-group" role="navigation"><div class="aui-header-inner"><div class="aui-header-before"><a class=" aui-dropdown2-trigger app-switcher-trigger" aria-owns="app-switcher" aria-controls="app-switcher" aria-haspopup="true" data-aui-trigger href="Setting+Up+HiveServer2#app-switcher"><span class="aui-icon aui-icon-small aui-iconfont-appswitcher">Linked Applications</span></a><div id="app-switcher" class="aui-dropdown2 aui-style-default"><div class="app-switcher-loading">Loading&hellip;</div></div><script>
            (function (NL) {
                var initialise = function () {
                    // For some milestones of AUI, the atlassian soy namespace was renamed to aui. Handle that here by ensuring that window.atlassian is defined.
                    window.atlassian = window.atlassian || window.aui;
                    new NL.AppSwitcher({
                        dropdownContents: '#app-switcher'
                    });
                };
                if (NL.AppSwitcher) {
                    initialise();
                } else {
                    NL.onInit = initialise;
                }
            }(window.NL = (window.NL || {})));
            window.NL.isUserAdmin = false</script></div><div class="aui-header-primary"><h1 id="logo" class="aui-header-logo aui-header-logo-custom"><a href="https://cwiki.apache.org/confluence/"><img src="../../s/en_GB/5982/f2b47fb3d636c8bc9fd0b11c0ec6d0ae18646be7.1/_/images/logo/confluence-logo.png" alt="Apache Software Foundation" /></a></h1><ul class="aui-nav">
                            <li>
            
        
        
<a  id="space-directory-link" href="https://cwiki.apache.org/confluence/spacedirectory/view.action"  class=" aui-nav-imagelink"   title="Spaces">
            <span>Spaces</span>
    </a>
        </li>
                        </ul>
</div><div class="aui-header-secondary"><ul class="aui-nav">
                        <li>
        <form id="quick-search" class="aui-quicksearch dont-default-focus header-quicksearch" action="https://cwiki.apache.org/confluence/dosearchsite.action" method="get"><fieldset><label for="quick-search-query" class="assistive">Quick Search</label><input id="quick-search-query" class="text app-search search quick-search-query" type="text" accessKey="q" autocomplete="off" name="queryString" title="Quick Search" placeholder="Search" /><input id="quick-search-submit" class="quick-search-submit" type="submit" value="Search"/><div class="aui-dd-parent quick-nav-drop-down"></div></fieldset></form>
    </li>
        <li>
            
        <a id="help-menu-link" class="aui-nav-link aui-dropdown2-trigger" href="Setting+Up+HiveServer2#" aria-haspopup="true" aria-owns="help-menu-link-content" title="Help">
        <span class="aui-icon aui-icon-small aui-iconfont-help">Help</span>
    </a>
    <nav id="help-menu-link-content" class="aui-dropdown2 aui-style-default" aria-hidden="true">
                    <div class="aui-dropdown2-section">
                                <ul  id="help-menu-link-leading" class="aui-list-truncate section-leading first">
                                            <li>
        
            
<a  id="confluence-help-link" href="https://docs.atlassian.com/confluence/docs-58/Getting+Help+And+Support" class="    "      title="Visit the Confluence documentation home"  target="_blank"
>
        Online Help
</a>
</li>
                                            <li>
    
            
<a  id="keyboard-shortcuts-link" href="https://cwiki.apache.org/confluence" class="    "      title="View available keyboard shortcuts" >
        Keyboard Shortcuts
</a>
</li>
                                            <li>
    
            
<a  id="feed-builder-link" href="https://cwiki.apache.org/confluence/dashboard/configurerssfeed.action" class="    "      title="Create your custom RSS feed." >
        Feed Builder
</a>
</li>
                                            <li>
    
            
<a  id="whats-new-menu-link" href="https://docs.atlassian.com/confluence/docs-58/whatsnew/iframe" class="    "      title="" >
        What’s new
</a>
</li>
                                            <li>
    
            
<a  id="whats-new-menu-link" href="https://docs.atlassian.com/confluence/docs-58/whatsnew/iframe" class="    "      title="" >
        What’s new
</a>
</li>
                                            <li>
    
            
<a  id="gadget-directory-link" href="https://cwiki.apache.org/confluence" class="   user-item administration-link "      title="Browse gadgets provided by Confluence" >
        Available Gadgets
</a>
</li>
                                            <li>
    
            
<a  id="confluence-about-link" href="https://cwiki.apache.org/confluence/aboutconfluencepage.action" class="    "      title="Get more information about Confluence" >
        About Confluence
</a>
</li>
                                    </ul>
            </div>
            </nav>
    
    </li>
        <li>
                
    
    </li>
        <li>
            
    </li>
        <li>
                                            <li>
        
            
<a  id="login-link" href="https://cwiki.apache.org/confluence/login.action?os_destination=%2Fdisplay%2FHive%2FSetting%2Bup%2BHiveServer2" class="   user-item login-link "      title="" >
        Log in
</a>
</li>
                        <li>
    
            
<a  id="signup-link" href="https://cwiki.apache.org/confluence/signup.action" class="   user-item signup-link "      title="" >
        Sign up
</a>
</li>
                        
    </li>
    </ul>
</div></div><!-- .aui-header-inner--></nav><!-- .aui-header -->
    <br class="clear">
</header>

    
    	<div class="ia-splitter">
    		<div class="ia-splitter-left">
    			<div class="ia-fixed-sidebar">
    				
	    	<div class="acs-side-bar ia-scrollable-section"><div class="acs-side-bar-space-info tipsy-enabled" data-configure-tooltip="Edit space details"><div class="avatar"><div class="space-logo " data-key="Hive" data-name="Apache Hive" data-entity-type="confluence.space"><div class="avatar-img-container"><div class="avatar-img-wrapper"><a href="https://cwiki.apache.org/confluence/display/Hive" title="Apache Hive"><img class="avatar-img" src="https://cwiki.apache.org/confluence/download/attachments/27362113/Hive@version=2&amp;modificationDate=1317659390000&amp;api=v2" alt="Apache Hive"></a></div></div></div></div><div class="name"><a href="https://cwiki.apache.org/confluence/display/Hive" title="Apache Hive">Apache Hive</a></div><div class="flyout-handle icon"></div></div><div class="acs-side-bar-content"><div class="acs-nav-wrapper"><div class="acs-nav" data-has-create-permission="false" data-quick-links-state="null" data-nav-type="pages"><div class="acs-nav-sections"><div class="main-links-section "><ul class="acs-nav-list"><li class="acs-nav-item wiki current-item"data-collector-key="spacebar-pages"><a class="acs-nav-item-link tipsy-enabled" href="https://cwiki.apache.org/confluence/collector/pages.action?key=Hive" data-collapsed-tooltip="Pages"><span class="icon"></span><span class="acs-nav-item-label">Pages</span></a></li><li class="acs-nav-item blog"data-collector-key="spacebar-blogs"><a class="acs-nav-item-link tipsy-enabled" href="https://cwiki.apache.org/confluence/pages/viewrecentblogposts.action?key=Hive" data-collapsed-tooltip="Blog"><span class="icon"></span><span class="acs-nav-item-label">Blog</span></a></li></ul></div><div class="quick-links-wrapper"></div></div></div></div><div class="ia-secondary-container tipsy-enabled" data-tree-type="pages"><div class="ia-secondary-header"><h5 class="ia-secondary-header-title pages"><span class="label">Child pages</span></h5></div><div class="ia-secondary-parent-content"><ul class="parent ia-secondary-header-title wiki"><li class="parent-item"><a class="parent-item-link" href="AdminManual+SettingUpHiveServer" title="AdminManual SettingUpHiveServer"><span class="icon"></span><span class="label">AdminManual SettingUpHiveServer</span></a></li></ul></div><div class="ia-secondary-current-content"><ul class="ia-secondary-currentPage-title wiki current-item"><li><span class="icon"></span><span class="label">Setting Up HiveServer2</span></li></ul></div><div class="ia-secondary-content"><div class="contextual-nav-child-pages"><ul class="children"><li class="child-item" data-page-id="58852417"><span class="icon"></span><a href="User+and+Group+Filter+Support+with+LDAP+Atn+Provider+in+HiveServer2" title="User and Group Filter Support with LDAP Atn Provider in HiveServer2"><span class="label">User and Group Filter Support with LDAP Atn Provider in HiveServer2</span></a></li></ul></div></div></div></div><div class="hidden"><a href="https://cwiki.apache.org/confluence/collector/pages.action?key=Hive" id="space-pages-link"></a><script type="text/x-template" title="logo-config-content"><h2>Space Details</h2><div class="personal-space-logo-hint">Your profile picture is used as the logo for your personal space. <a href="https://cwiki.apache.org/confluence/users/profile/editmyprofilepicture.action" target="_blank">Change your profile picture</a>.</div></script></div></div><div class="space-tools-section"><div id="space-tools-menu-additional-items" class="hidden"><div data-label="Browse pages" data-class="" data-href="/confluence/pages/reorderpages.action?key=Hive">Browse pages</div></div><div id="space-tools-dd-dummy"></div><a id="space-tools-menu-trigger" class="aui-button aui-button-subtle aui-dropdown2-trigger tipsy-enabled" aria-owns="space-tools-dd-dummy"><span class="aui-icon aui-icon-small aui-iconfont-configure">Configure</span><span class="label">Space tools</span></a><a class="expand-collapse-trigger"></a></div>
    
    			</div>
    		</div>
        <!-- \#header -->

        
        <div id="main" class=" aui-page-panel">
                <div id="main-header">
            
    <div id="navigation" class="content-navigation view">
                    <ul class="ajs-menu-bar">
                                                        
                    
        <li class="normal ajs-menu-item">
        <a id="action-menu-link" class="action aui-dropdown2-trigger-arrowless aui-button aui-button-subtle ajs-menu-title aui-dropdown2-trigger" href="Setting+Up+HiveServer2#" aria-haspopup="true" aria-owns="action-menu" data-container="#navigation">
            <span>
                                    <span class="aui-icon aui-icon-small aui-iconfont-more"></span>
                                
            </span>
        </a>         <div id="action-menu" class="aui-dropdown2 aui-style-default">
                            <ul  id="action-menu-primary"                     class="section-primary first aui-dropdown2-section">
                                            <li>

    
        
                                            
    
    
    <a  id="view-attachments-link" href="https://cwiki.apache.org/confluence/pages/viewpageattachments.action?pageId=30758712" rel="nofollow" class="action-view-attachments"  accessKey="t"  title="View Attachments">
                <span>
                        A<u>t</u>tachments (0)
        </span>    </a>
</li>
                                        <li>

    
        
                                            
    
    
    <a  id="action-view-history-link" href="https://cwiki.apache.org/confluence/pages/viewpreviousversions.action?pageId=30758712" rel="nofollow" class="action-view-history"   title="">
                <span>
                        Page History
        </span>    </a>
</li>
                                        <li>

    
        
                                            
    
    
    <a  id="action-page-permissions-link" href="https://cwiki.apache.org/confluence/pages/viewinfo.action?pageId=30758712" rel="nofollow" class="action-page-permissions"   title="Edit restrictions">
                <span>
                        Restrictions
        </span>    </a>
</li>
                                </ul>
                            <ul  id="action-menu-secondary"                     class="section-secondary aui-dropdown2-section">
                                            <li>

    
        
                                            
    
    
    <a  id="view-page-info-link" href="https://cwiki.apache.org/confluence/pages/viewinfo.action?pageId=30758712" rel="nofollow" class="action-view-info"   title="">
                <span>
                        Page Information
        </span>    </a>
</li>
                                        <li>

    
        
                                            
    
    
    <a  id="view-resolved-comments" href="https://cwiki.apache.org/confluence" rel="nofollow" class=""   title="">
                <span>
                        Resolved comments
        </span>    </a>
</li>
                                        <li>

    
        
                                            
    
    
    <a  id="link-to-page-link" href="https://cwiki.apache.org/confluence/pages/viewinfo.action?pageId=30758712" rel="nofollow" class=""   title="Link to this Page">
                <span>
                        Link to this Page…
        </span>    </a>
</li>
                                        <li>

    
        
                                            
    
    
    <a  id="view-in-hierarchy-link" href="https://cwiki.apache.org/confluence/pages/reorderpages.action?key=Hive&amp;openId=30758712#selectedPageInHierarchy" rel="nofollow" class=""   title="">
                <span>
                        View in Hierarchy
        </span>    </a>
</li>
                                        <li>

    
        
                                            
    
    
    <a  id="action-view-source-link" href="https://cwiki.apache.org/confluence/plugins/viewsource/viewpagesrc.action?pageId=30758712" rel="nofollow" class="action-view-source popup-link"   title="">
                <span>
                        View Source
        </span>    </a>
</li>
                                        <li>

    
        
                                            
    
    
    <a  id="delete-all-comments-link-link" href="https://cwiki.apache.org/confluence/plugins/aptis/deleteAllComments/ask-user.action?pageId=30758712" rel="nofollow" class=""   title="">
                <span>
                        Delete comments
        </span>    </a>
</li>
                                        <li>

    
        
                                            
    
    
    <a  id="action-export-pdf-link" href="https://cwiki.apache.org/confluence/spaces/flyingpdf/pdfpageexport.action?pageId=30758712" rel="nofollow" class=""   title="">
                <span>
                        Export to PDF
        </span>    </a>
</li>
                                        <li>

    
        
                                            
    
    
    <a  id="com-k15t-confluence-scroll-epub-launcher" href="https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=30758712" rel="nofollow" class=""   title="">
                <span>
                        Export to EPUB
        </span>    </a>
</li>
                                        <li>

    
        
                                            
    
    
    <a  id="action-export-word-link" href="https://cwiki.apache.org/confluence/exportword?pageId=30758712" rel="nofollow" class="action-export-word"   title="">
                <span>
                        Export to Word
        </span>    </a>
</li>
                                </ul>
                            <ul  id="action-menu-modify"                     class="section-modify aui-dropdown2-section">
                                            <li>

    
        
                                            
    
    
    <a  id="treecopy-action" href="https://cwiki.apache.org/confluence/plugins/treecopy/setnames.action?pageId=30758712" rel="nofollow" class=""   title="">
                <span>
                        Copy Page Tree
        </span>    </a>
</li>
                                </ul>
                    </div>
    </li>
            </ul>
    </div>

            
            <div id="title-heading" class="pagetitle with-breadcrumbs">
                
                                    <div id="breadcrumb-section">
                        
    
    
    <ol id="breadcrumbs">
                                        
                        
        <li class="first" >
                        
                            <span class=""><a href="https://cwiki.apache.org/confluence/collector/pages.action?key=Hive">Pages</a></span>
                                                                    
                        
        <li>
                        
                            <span class=""><a href="AdminManual+SettingUpHiveServer">AdminManual SettingUpHiveServer</a></span>
                                                    </ol>


                    </div>
                
                
        <a href="Setting+Up+HiveServer2#page-banner-end" class="assistive">Skip to end of banner</a>
<div id="page-banner-start" class="assistive"></div>

                    
            <div id="page-metadata-banner"><ul class="banner"><li id="system-content-items" class="noprint"><a href="Setting+Up+HiveServer2" title="Restrictions apply" id="content-metadata-page-restrictions" class="hidden"><img class="page-banner-item-icon" src="https://cwiki.apache.org/confluence/s/en_GB/5982/f2b47fb3d636c8bc9fd0b11c0ec6d0ae18646be7.1/_/download/resources/com.atlassian.confluence.plugins.confluence-page-banner%253Apage-banner-resources/images/red_padlock.png" style="height: 16px; width: 16px;"/></a></li><li class="page-metadata-item noprint has-button"  id="content-metadata-jira-wrapper"><a href="Setting+Up+HiveServer2" title="" id="content-metadata-jira" class="aui-button aui-button-subtle content-metadata-jira tipsy-disabled hidden"><img class="page-banner-item-icon" src="https://cwiki.apache.org/confluence/s/en_GB/5982/f2b47fb3d636c8bc9fd0b11c0ec6d0ae18646be7.1/_/download/resources/com.atlassian.confluence.plugins.confluence-jira-metadata%253Aconfluence-jira-metadata-resources/img/icon-jira-link.png" style="height: 16px; width: 16px;"/><span>JIRA links</span></a></li></ul></div>
            

<a href="Setting+Up+HiveServer2#page-banner-start" class="assistive">Go to start of banner</a>
<div id="page-banner-end" class="assistive"></div>
    

                <h1 id="title-text" class="with-breadcrumbs">
                                                <a href="Setting+Up+HiveServer2">Setting Up HiveServer2</a>
                                    </h1>
            </div>
        </div><!-- \#main-header -->
        
        

        <div id="sidebar-container">
                                                </div><!-- \#sidebar-container -->

        
    

        




        

    
    
        
    
    
                    
    

                        
    
    

    




<div id="content" class="page view">
    


<div id="action-messages">
                        </div>



        <script type="text/x-template" title="searchResultsGrid">
    <table class="aui">
        <thead>
            <tr class="header">
                <th class="search-result-title">Page Title</th>
                <th class="search-result-space">Space</th>
                <th class="search-result-date">Updated</th>
            </tr>
        </thead>
    </table>
</script>
<script type="text/x-template" title="searchResultsGridCount">
    <p class="search-result-count">{0}</p>
</script>
<script type="text/x-template" title="searchResultsGridRow">
    <tr class="search-result">
        <td class="search-result-title"><a href="https://cwiki.apache.org/confluence/display/Hive/{1}" class="content-type-{2}"><span>{0}</span></a></td>
        <td class="search-result-space"><a class="space" href="https://cwiki.apache.org/confluence/display/{4}/" title="{3}">{3}</a></td>
        <td class="search-result-date"><span class="date" title="{6}">{5}</span></td>
    </tr>
</script>
        
    
            

        
                            
    

                    

        
        <a href="Setting+Up+HiveServer2#page-metadata-end" class="assistive">Skip to end of metadata</a>
<div id="page-metadata-start" class="assistive"></div>

    <div class="page-metadata">
        <ul>
            <li class="page-metadata-modification-info">
                
        
    
        
    
        
        
            Created by <span class='author'>     <a href="https://cwiki.apache.org/confluence/display/~prasadm@apache.org"
                       class="url fn"
                            >Prasad Mujumdar</a></span>, last modified by <span class='editor'>     <a href="https://cwiki.apache.org/confluence/display/~leftyl"
                       class="url fn"
                            >Lefty Leverenz</a></span> <a class='last-modified' title='Jan 03, 2016 07:48' href='https://cwiki.apache.org/confluence/pages/diffpagesbyversion.action?pageId=30758712&amp;selectedPageVersions=55&amp;selectedPageVersions=56'>about 7 hours ago</a>
                </li>
        </ul>
    </div>


<a href="Setting+Up+HiveServer2#page-metadata-start" class="assistive">Go to start of metadata</a>
<div id="page-metadata-end" class="assistive"></div>

        
                                            
        <div id="main-content" class="wiki-content">
                           
        <h1 id="SettingUpHiveServer2-HiveServer2">HiveServer2</h1><p><div class="toc-macro client-side-toc-macro " data-headerelements="H1,H2,H3,H4,H5,H6,H7"></div></p><p>HiveServer2 (HS2) is a server interface that enables remote clients to execute queries against Hive and retrieve the results. The current implementation, based on Thrift RPC, is an improved version of <a href="HiveServer">HiveServer</a> and supports multi-client concurrency and authentication. It is designed to provide better support for open API clients like JDBC and ODBC.</p><ul><li>The Thrift interface definition language (IDL) for HiveServer2 is available at <a href="https://github.com/apache/hive/blob/trunk/service/if/TCLIService.thrift" class="external-link" rel="nofollow">https://github.com/apache/hive/blob/trunk/service/if/TCLIService.thrift</a>.</li><li>Thrift documentation is available at <a href="http://thrift.apache.org/docs/" class="external-link" rel="nofollow">http://thrift.apache.org/docs/</a>.</li></ul><p>This document describes how to set up the server. How to use a client with this server is described in the <a href="HiveServer2+Clients">HiveServer2 Clients document</a>.</p><div class="confluence-information-macro confluence-information-macro-information"><p class="title">Version</p><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>Introduced in Hive version 0.11. See <a href="https://issues.apache.org/jira/browse/HIVE-2935" class="external-link" rel="nofollow">HIVE-2935</a>.</p></div></div><h2 id="SettingUpHiveServer2-HowtoConfigure"><span style="color: rgb(0,51,102);">How to Configure</span></h2><h4 id="SettingUpHiveServer2-ConfigurationPropertiesinthehive-site.xmlFile"><span style="color: rgb(0,51,102);"><strong>Configuration Properties in the <code>hive-site.xml</code> File</strong></span></h4><div class="panel" style="border-width: 1px;"><div class="panelContent">
<p>hive.server2.thrift.min.worker.threads – Minimum number of worker threads, default <span style="color: rgb(0,0,128);">5</span>.</p><p>hive.server2.thrift.max.worker.threads – Maximum number of worker threads, default <span style="color: rgb(0,0,128);">500</span>.</p><p>hive.server2.thrift.port – TCP port number to listen on, default <span style="color: rgb(0,0,128);">10000</span>.</p><p>hive.server2.thrift.bind.host – TCP interface to bind to.</p>
</div></div><p>See <a href="Configuration+Properties#ConfigurationProperties-HiveServer2">HiveServer2 in the Configuration Properties document</a> for additional properties that can be set for HiveServer2.</p><p><span class="Apple-style-span" style="color: rgb(0,51,102);font-weight: bold;line-height: 21.0px;"><strong>Optional Environment Settings</strong></span></p><div class="panel" style="border-width: 1px;"><div class="panelContent">
<p>HIVE_SERVER2_THRIFT_BIND_HOST – Optional TCP host interface to bind to. Overrides the configuration file setting.<br />HIVE_SERVER2_THRIFT_PORT – Optional TCP port number to listen on, default 10000. Overrides the configuration file setting.</p>
</div></div><h4 id="SettingUpHiveServer2-RunninginHTTPMode"><span style="color: rgb(0,51,102);"><strong>Running in HTTP Mode</strong></span></h4><p><span><span class="confluence-anchor-link" id="SettingUpHiveServer2-RunninginHTTPmode"></span>HiveServer2 provides support for sending Thrift RPC messages over HTTP transport (Hive 0.13 onward, see <a href="https://issues.apache.org/jira/browse/HIVE-4752" class="external-link" rel="nofollow">HIVE-4752</a>). This is particularly useful to support a proxying intermediary between the client and the server (for example, for load balancing or security reasons). Currently, you can run HiveServer2 in either TCP mode or the HTTP mode, but not in both. For the corresponding JDBC URL check this link: <a href="HiveServer2+Clients#HiveServer2Clients-JDBC" rel="nofollow">HiveServer2 Clients -- JDBC Connection URLs</a>. Use the following settings to enable and configure HTTP mode:</span></p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Setting</th><th class="confluenceTh">Default</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><a href="Configuration+Properties#ConfigurationProperties-hive.server2.transport.mode">hive.server2.transport.mode</a></td><td class="confluenceTd">binary</td><td class="confluenceTd">Set to http to enable HTTP transport mode</td></tr><tr><td class="confluenceTd"><a href="Configuration+Properties#ConfigurationProperties-hive.server2.thrift.http.port">hive.server2.thrift.http.port</a></td><td class="confluenceTd">10001</td><td class="confluenceTd">HTTP port number to listen on</td></tr><tr><td class="confluenceTd"><a href="Configuration+Properties#ConfigurationProperties-hive.server2.thrift.http.max.worker.threads">hive.server2.thrift.http.max.worker.threads</a></td><td class="confluenceTd">500</td><td class="confluenceTd">Maximum worker threads in the server pool</td></tr><tr><td class="confluenceTd"><a href="Configuration+Properties#ConfigurationProperties-hive.server2.thrift.http.min.worker.threads">hive.server2.thrift.http.min.worker.threads</a></td><td class="confluenceTd">5</td><td class="confluenceTd">Minimum worker threads in the server pool</td></tr><tr><td class="confluenceTd"><a href="Configuration+Properties#ConfigurationProperties-hive.server2.thrift.http.path">hive.server2.thrift.http.path</a></td><td class="confluenceTd">cliservice</td><td class="confluenceTd">The service endpoint</td></tr></tbody></table></div><div class="panel" style="border-width: 1px;"><div class="panelContent">
<h5 class="p1" id="SettingUpHiveServer2-CookieBasedAuthentication"><span style="color: rgb(112,112,112);">Cookie Based Authentication</span></h5><p><a href="https://issues.apache.org/jira/browse/HIVE-9709" class="external-link" rel="nofollow">HIVE-9709</a> and <a href="https://issues.apache.org/jira/browse/HIVE-9710" class="external-link" rel="nofollow">HIVE-9710</a> introduced cookie based authentication for HiveServer2 in HTTP mode. The HiveServer2 parameters (hive.server2.thrift.http.cookie.*) associated with this change can be found <a href="Configuration+Properties#ConfigurationProperties-hive.server2.thrift.http.cookie.auth.enabled" rel="nofollow">here</a>.</p>
</div></div><h4 id="SettingUpHiveServer2-OptionalGlobalInitFile">Optional Global Init File</h4><p>A global init file can be placed in the configured <a href="Configuration+Properties#ConfigurationProperties-hive.server2.global.init.file.location" rel="nofollow">hive.server2.global.init.file.location</a> location (Hive 0.14 onward, see <a href="https://issues.apache.org/jira/browse/HIVE-5160" class="external-link" rel="nofollow">HIVE-5160</a>, <a href="https://issues.apache.org/jira/browse/HIVE-7497" class="external-link" rel="nofollow">HIVE-7497</a>, and <a href="https://issues.apache.org/jira/browse/HIVE-8138" class="external-link" rel="nofollow">HIVE-8138</a>). This can be either the path to the init file itself, or a directory where an init file named &quot;.hiverc&quot; is expected.</p><p>The init file lists a set of commands that will run for users of this HiveServer2 instance, such as register a standard set of jars and functions.</p><h4 id="SettingUpHiveServer2-LoggingConfiguration">Logging Configuration</h4><p><span>HiveServer2 operation logs are available for Beeline clients (Hive 0.14 onward). These parameters configure logging:</span></p><ul><li><a href="Configuration+Properties#ConfigurationProperties-hive.server2.logging.operation.enabled">hive.server2.logging.operation.enabled</a></li><li><a href="Configuration+Properties#ConfigurationProperties-hive.server2.logging.operation.log.location">hive.server2.logging.operation.log.location</a></li><li><a href="Configuration+Properties#ConfigurationProperties-hive.server2.logging.operation.verbose">hive.server2.logging.operation.verbose</a> (Hive 0.14 to 1.1)</li><li><a href="Configuration+Properties#ConfigurationProperties-hive.server2.logging.operation.level">hive.server2.logging.operation.level</a> (Hive 1.2 onward)</li></ul><h2 id="SettingUpHiveServer2-HowtoStart"><span style="color: rgb(0,51,102);font-size: 20.0px;line-height: 1.5;">How to Start</span></h2><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="brush: java; gutter: false; theme: Default"><![CDATA[$HIVE_HOME/bin/hiveserver2
]]></script>
</div></div><p><span style="color: rgb(0,0,0);">OR</span></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="brush: java; gutter: false; theme: Default"><![CDATA[$HIVE_HOME/bin/hive --service hiveserver2
]]></script>
</div></div><h4 id="SettingUpHiveServer2-UsageMessage"><span style="color: rgb(0,51,102);"><strong>Usage Message</strong></span></h4><p>The <code>-H</code> or <code>--help</code> option displays a usage message, for example:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="brush: text; gutter: false; theme: Default"><![CDATA[$HIVE_HOME/bin/hive --service hiveserver2 -H
Starting HiveServer2
usage: hiveserver2
 -H,--help                        Print help information
    --hiveconf &lt;property=value&gt;   Use value for given property]]></script>
</div></div><h2 id="SettingUpHiveServer2-Authentication/SecurityConfiguration"><span style="color: rgb(0,51,102);">Authentication/Security Configuration</span></h2><p>HiveServer2 supports Anonymous (no authentication) with and without SASL, Kerberos (GSSAPI), pass through LDAP, Pluggable Custom Authentication and Pluggable Authentication Modules (PAM, supported Hive 0.13 onwards).</p><h4 style="margin-left: 0.0px;" id="SettingUpHiveServer2-Configuration"><span style="color: rgb(0,51,102);"><strong>Configuration</strong></span></h4><div class="panel" style="border-width: 1px;"><div class="panelContent">
<p>Authentication mode:</p><p style="margin-left: 30.0px;">hive.server2.authentication – Authentication mode, default NONE. Options are NONE (uses plain SASL), NOSASL, KERBEROS, LDAP, PAM and CUSTOM.</p><p>Set following for <span>KERBEROS mode:</span></p><p style="margin-left: 30.0px;">hive.server2.authentication.kerberos.principal – Kerberos principal for server.</p><p style="margin-left: 30.0px;">hive.server2.authentication.kerberos.keytab – Keytab for server principal.</p><p><span>Set following for </span><span>LDAP mode:</span></p><p style="margin-left: 30.0px;"><a href="Configuration+Properties#ConfigurationProperties-hive.server2.authentication.ldap.url">hive.server2.authentication.ldap.url</a> – LDAP URL (for example, <span style="line-height: 1.4285715;">ldap://hostname.com:</span><span style="line-height: 1.4285715;">389).</span></p><p style="margin-left: 30.0px;"><a href="Configuration+Properties#ConfigurationProperties-hive.server2.authentication.ldap.baseDN">hive.server2.authentication.ldap.baseDN</a> – LDAP base DN. (Optional for AD.)</p><p style="margin-left: 30.0px;"><a href="Configuration+Properties#ConfigurationProperties-hive.server2.authentication.ldap.Domain">hive.server2.authentication.ldap.Domain</a><span> – LDAP domain. (Hive 0.12.0 and later.)</span></p><p style="margin-left: 30.0px;"><span>See</span><span> </span><a href="User+and+Group+Filter+Support+with+LDAP+Atn+Provider+in+HiveServer2">User and Group Filter Support with LDAP Atn Provider in HiveServer2</a> for other LDAP configuration parameters in Hive 1.3.0 and later.</p><p>Set following for <span>CUSTOM</span> mode:</p><p style="margin-left: 30.0px;">hive.server2.custom.authentication.class – Custom authentication class that implements the <code>org.apache.hive.service.auth.PasswdAuthenticationProvider</code> interface.</p><p>For <span>PAM mode, see details in <a href="Setting+Up+HiveServer2#SettingUpHiveServer2-PluggableAuthenticationModules(PAM)">section on PAM</a> below.</span></p>
</div></div><h4 style="margin-left: 0.0px;" id="SettingUpHiveServer2-Impersonation"><span style="color: rgb(0,51,102);"><strong>Impersonation</strong></span></h4><p>By default HiveServer2 performs the query processing as the user who submitted the query. But if the following parameter is set to <span style="color: rgb(0,0,128);">false</span>, the query will run as the user that the <code>hiveserver2</code> process runs as.</p><div class="panel" style="border-width: 1px;"><div class="panelContent">
<p>hive.server2.enable.doAs – Impersonate the connected user, default <span style="color: rgb(0,0,128);">true</span>.</p>
</div></div><p>To prevent memory leaks in unsecure mode, disable file system caches by setting the following parameters to <span style="color: rgb(0,0,128);">true (see <a href="https://issues.apache.org/jira/browse/HIVE-4501" class="external-link" rel="nofollow">HIVE-4501</a>)</span>:</p><div class="panel" style="border-width: 1px;"><div class="panelContent">
<p>fs.hdfs.impl.disable.cache – Disable HDFS filesystem cache, default false.</p><p>fs.file.impl.disable.cache – Disable local filesystem cache, default false.</p>
</div></div><h4 style="margin-left: 0.0px;" id="SettingUpHiveServer2-Integrity/ConfidentialityProtection"><span style="color: rgb(0,51,102);"><strong>Integrity/Confidentiality Protection</strong></span></h4><p>Integrity protection and confidentiality protection (beyond just the default of authentication) for communication between the Hive JDBC driver and HiveServer2 are enabled (Hive 0.12 onward, see <a href="https://issues.apache.org/jira/browse/HIVE-4911" class="external-link" rel="nofollow">HIVE-4911</a>). You can use the <a href="http://en.wikipedia.org/wiki/Simple_Authentication_and_Security_Layer" class="external-link" rel="nofollow">SASL</a> <a href="http://docs.oracle.com/javase/7/docs/api/javax/security/sasl/Sasl.html#QOP" class="external-link" rel="nofollow">QOP</a> property to configure this.</p><ul class="alternate"><li>This is only when Kerberos is used for the HS2 client (JDBC/ODBC application) authentication with HiveServer2.</li><li>hive.server2.thrift.sasl.qop in <code>hive-site.xml</code> has to be set to one of the valid <a href="http://docs.oracle.com/javase/7/docs/api/javax/security/sasl/Sasl.html#QOP" class="external-link" rel="nofollow">QOP</a> values ('auth', 'auth-int' or 'auth-conf').</li></ul><h4 style="margin-left: 0.0px;" id="SettingUpHiveServer2-SSLEncryption"><span style="color: rgb(0,51,102);"><strong>SSL Encryption</strong></span></h4><p>Support is provided for SSL encryption (Hive 0.13 onward, see <a href="https://issues.apache.org/jira/browse/HIVE-5351" class="external-link" rel="nofollow">HIVE-5351</a>). To enable, set the following configurations in <code>hive-site.xml</code>:</p><div class="panel" style="border-width: 1px;"><div class="panelContent">
<p>hive.server2.use.SSL – Set this to <span style="color: rgb(0,0,128);">true</span>.</p><p>hive.server2.keystore.path – Set this to your keystore path.</p><p>hive.server2.keystore.password – Set this to your keystore password.</p>
</div></div><h4 style="margin-left: 0.0px;" id="SettingUpHiveServer2-PluggableAuthenticationModules(PAM)"><span style="color: rgb(0,51,102);"><strong>Pluggable Authentication Modules (PAM)</strong></span></h4><p>Support is provided for PAM (Hive 0.13 onward, see <a href="https://issues.apache.org/jira/browse/HIVE-6466" class="external-link" rel="nofollow">HIVE-6466</a>). To configure PAM:</p><ul><li><span>Download the <a href="http://sourceforge.net/projects/jpam/files/jpam/jpam-1.1/" title="Follow link" class="external-link" rel="nofollow">JPAM</a> native library</span><span> for the relevant architecture.</span></li><li><span><span>Unzip and copy libjpam.so to a directory (&lt;libjmap-directory&gt;) on the system. </span></span></li><li><span><span><span>Add the directory to the LD_LIBRARY_PATH environment variable like so:<code> export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:&lt;libjmap-directory&gt;</code> </span></span></span></li><li><p>For some PAM modules, you'll have to ensure that your <code>/etc/shadow</code> and <span><code>/etc/login.defs</code> </span>files are readable by the user running the HiveServer2 process.</p></li></ul><p>Finally, set the following configurations in <code>hive-site.xml</code>:</p><div class="panel" style="border-width: 1px;"><div class="panelContent">
<p><span>hive.server2.authentication</span> – Set this to <span style="color: rgb(0,0,128);">PAM</span>.</p><p><span>hive.server2.authentication.pam.services</span> – Set this to<span> a list of comma-separated PAM services that will be used. Note that a file with the same name as the PAM service must exist in /etc/pam.d</span>.</p>
</div></div><h2 id="SettingUpHiveServer2-PythonClientDriver"><span style="color: rgb(0,51,102);">Python Client Driver</span></h2><p>A Python client driver for HiveServer2 is available at <a href="https://github.com/BradRuderman/pyhs2" class="external-link" rel="nofollow">https://github.com/BradRuderman/pyhs2</a> (thanks, Brad). It includes all the required packages such as SASL and Thrift wrappers.</p><p>The driver has been certified for use with Python 2.6 and newer.</p><p>To use the <a href="https://github.com/BradRuderman/pyhs2" class="external-link" rel="nofollow">pyhs2</a> driver:</p><div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>pip install pyhs2</pre>
</div></div><p>and then:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="brush: py; gutter: false; theme: Default"><![CDATA[import pyhs2

with pyhs2.connect(host=&#39;localhost&#39;,
                   port=10000,
                   authMechanism=&quot;PLAIN&quot;,
                   user=&#39;root&#39;,
                   password=&#39;test&#39;,
                   database=&#39;default&#39;) as conn:
    with conn.cursor() as cur:
    	#Show databases
    	print cur.getDatabases()

    	#Execute query
        cur.execute(&quot;select * from table&quot;)
 
        #Return column info from query
        print cur.getSchema()

        #Fetch table results
        for i in cur.fetch():
            print i]]></script>
</div></div><p>You can discuss this driver on the <a href="http://mail-archives.apache.org/mod_mbox/hive-user/201310.mbox/%3cCANFGO9pjHCGYHvT00kmU+5RT6+jE5uz=nZeVz7Q2ShF0Huojxw@mail.gmail.com%3e" class="external-link" rel="nofollow">user@hive.apache.org mailing list</a>.</p><h2 style="margin-left: 0.0px;" id="SettingUpHiveServer2-RubyClientDriver"><span style="color: rgb(0,51,102);">Ruby Client Driver</span></h2><p style="margin-left: 0.0px;">A Ruby client driver is available on github at <a class="external-link" href="https://github.com/forward3d/rbhive" rel="nofollow" style="text-decoration: none;">https://github.com/forward3d/rbhive</a>.</p>

                
        
    
        </div>

        <!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
         <rdf:Description
    rdf:about="https://cwiki.apache.org/confluence/display/Hive/Setting+Up+HiveServer2"
    dc:identifier="https://cwiki.apache.org/confluence/display/Hive/Setting+Up+HiveServer2"
    dc:title="Setting Up HiveServer2"
    trackback:ping="https://cwiki.apache.org/confluence/rpc/trackback/30758712"/>
</rdf:RDF>
-->

                        
    



<div id="labels-section" class="pageSection group">
    <div class="labels-section-content content-column" entityid="30758712" entitytype="page">
	<div class="labels-content">
		
    <ul class="label-list label-list-right ">
            <li class="no-labels-message">
            No labels
        </li>
            </ul>

    </div>
</div>
</div>
        
		
            




            
    








                        
    
<div id="comments-section" class="pageSection group">
        
    



</div>


                
    
            
</div>


    




    
    

    
    
    


    
<div id="space-tools-web-items" class="hidden">
                <div data-label="Overview" data-href="/confluence/spaces/viewspacesummary.action?key=Hive">Overview</div>
            <div data-label="Content Tools" data-href="/confluence/pages/reorderpages.action?key=Hive">Content Tools</div>
            <div data-label="Add-ons" data-href="/confluence/spaces/snippeterrors.action?key=Hive">Add-ons</div>
    </div>




    </div><!-- \#main -->
        
    
        
            
            

<div id="footer" role="contentinfo">
    <section class="footer-body">

                                                            <p class="license license-opensource">
                    Powered by a free <b>Atlassian Confluence Open Source Project License</b> granted to Apache Software Foundation. <a href="http://www.atlassian.com/c/conf/11461">Evaluate Confluence today</a>.<br>
                </p>
                    
        

        <ul id="poweredby">
            <li class="noprint">Powered by <a href="http://www.atlassian.com/software/confluence" class="hover-footer-link">Atlassian Confluence</a> <span id='footer-build-information'>5.8.4</span>, <a href="http://www.atlassian.com/software/confluence/overview/team-collaboration-software?utm_source=confluence-footer" class="hover-footer-link">Team Collaboration Software</a></li>
            <li class="print-only">Printed by Atlassian Confluence 5.8.4, Team Collaboration Software.</li>
            <li class="noprint"><a href="https://jira.atlassian.com/browse/CONF" class="hover-footer-link">Report a bug</a></li>
            <li class="noprint"><a href="http://www.atlassian.com/about/connected.jsp?s_kwcid=Confluence-stayintouch" class="hover-footer-link">Atlassian News</a></li>
        </ul>

        

        <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>

                    
        
    </section>
</div>

    
</div>

</div><!-- \#full-height-container -->
</div><!-- \#page -->
</body>
</html>
