<!DOCTYPE html>
<html>
<head>
                    <title>AdminManual MetastoreAdmin - Apache Hive - Apache Software Foundation</title>
    
        

                        
    
                        
    

                
    
    <meta http-equiv="X-UA-Compatible" content="IE=EDGE,chrome=IE7">
<meta charset="UTF-8">
<meta id="confluence-context-path" name="confluence-context-path" content="/confluence">
<meta id="confluence-base-url" name="confluence-base-url" content="https://cwiki.apache.org/confluence">

<meta id="atlassian-token" name="atlassian-token" content="735c8f668271f8e1dea73527ae5689ca93f07505">


<meta id="confluence-space-key" name="confluence-space-key" content="Hive">
<script type="text/javascript">
        var contextPath = '/confluence';
</script>

    

    <meta name="confluence-request-time" content="1451833258558">
        
    
        
            <meta name="ajs-is-space-admin" content=""> <meta name="ajs-has-space-config" content="">
            <style>.ia-fixed-sidebar, .ia-splitter-left {width: 285px;}.theme-default .ia-splitter #main {margin-left: 285px;}.ia-fixed-sidebar {visibility: hidden;}</style>
            <meta name="ajs-use-keyboard-shortcuts" content="true">
            <meta name="ajs-discovered-plugin-features" content="$discoveredList">
            <meta name="ajs-keyboardshortcut-hash" content="38450baaed51271899c8e867d2a48ca9">
            <meta name="ajs-is-confluence-admin" content="false">
            <meta name="ajs-connection-timeout" content="10000">
            <meta name="gliffy-license-type" content="LicenseType&lt;COMMUNITY&gt;">
<meta name="gliffy-license-quantity" content="${pluginLicenseManager.userCount}">

            <script type="text/x-template" title="gliffy-webpanel-footer">
        <div class="gliffy-webpanel-footer"><span>This Confluence installation runs a Free Gliffy License - Evaluate the <a href="http://www.gliffy.com/products/confluence-plugin/">Gliffy Confluence Plugin</a> for your Wiki!</span></div>
</script>


            
    
    
            <meta name="ajs-page-id" content="27362076">
            <meta name="ajs-latest-page-id" content="27362076">
            <meta name="ajs-content-type" content="page">
            <meta name="ajs-page-title" content="AdminManual MetastoreAdmin">
            <meta name="ajs-parent-page-id" content="">
            <meta name="ajs-space-key" content="Hive">
            <meta name="ajs-space-name" content="Apache Hive">
            <meta name="ajs-jira-metadata-count" content="0">
            <meta name="ajs-from-page-title" content="">
            <meta name="ajs-can-remove-page" content="false">
            <meta name="ajs-browse-page-tree-mode" content="view">
            <meta name="ajs-shared-drafts" content="false">
            <meta name="ajs-context-path" content="/confluence">
            <meta name="ajs-base-url" content="https://cwiki.apache.org/confluence">
            <meta name="ajs-version-number" content="5.8.4">
            <meta name="ajs-build-number" content="5982">
            <meta name="ajs-remote-user" content="">
            <meta name="ajs-remote-user-key" content="">
            <meta name="ajs-current-user-fullname" content="">
            <meta name="ajs-current-user-avatar-url" content="">
            <meta name="ajs-static-resource-url-prefix" content="/confluence/s/en_GB/5982/f2b47fb3d636c8bc9fd0b11c0ec6d0ae18646be7.1/_">
            <meta name="ajs-global-settings-attachment-max-size" content="20971520">
            <meta name="ajs-user-locale" content="en_GB">
            <meta name="ajs-enabled-dark-features" content="confluence-inline-comments-resolved,notification.plugin.api.enabled.com.atlassian.confluence.plugins.sharepage.api.ShareContentEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.mentions.api.ConfluenceMentionEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.security.ForgotPasswordEvent,pdf-preview,notification.plugin.api.enabled.com.atlassian.confluence.plugins.tasklist.event.SendTaskEmailEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.page.async.PageMovedEvent,previews.sharing,previews.versions,notification.plugin.api.enabled.com.atlassian.confluence.plugins.files.notifications.event.FileContentUpdateEvent,file-annotations,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.attachment.AttachmentBatchUploadCompletedEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.comment.CommentCreateEvent,notification.plugin.api.enabled.com.atlassian.confluence.efi.emails.events.OnboardingLessUsersEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.files.notifications.event.FileContentRemoveEvent,atlassian.aui.raphael.disabled,previews.conversion-service,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.comment.CommentUpdateEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.follow.FollowEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.page.async.PageEditedEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.blogpost.BlogPostCreateEvent,previews.trigger-all-file-types,notification.plugin.api.enabled.com.atlassian.confluence.plugins.inlinecomments.events.InlineCommentResolveEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.like.LikeCreatedEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.inlinecomments.events.InlineCommentCreateEvent,previews.sharing.pushstate,confluence-inline-comments-rich-editor,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.blogpost.BlogPostUpdateEvent,file-annotations.likes,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.page.async.PageCreatedEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.files.notifications.event.FileContentMentionUpdateEvent,notification.plugin.api.enabled.com.atlassian.confluence.efi.emails.events.OnboardingNoSpaceCreatedEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.hipchat.api.events.HipChatUserMapped,notification.plugin.api.enabled.com.atlassian.confluence.plugins.sharepage.api.ShareAttachmentEvent,confluence-inline-comments,confluence-inline-comments-dangling-comment,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.blogpost.BlogPostMovedEvent">
            <meta name="ajs-atl-token" content="735c8f668271f8e1dea73527ae5689ca93f07505">
            <meta name="ajs-confluence-flavour" content="VANILLA">
            <meta name="ajs-user-date-pattern" content="dd MMM yyyy">
            <meta name="ajs-date.format" content="MMM dd, yyyy">
    
    <link rel="shortcut icon" href="../../s/en_GB/5982/f2b47fb3d636c8bc9fd0b11c0ec6d0ae18646be7.1/_/favicon.ico">
    <link rel="icon" type="image/x-icon" href="../../s/en_GB/5982/f2b47fb3d636c8bc9fd0b11c0ec6d0ae18646be7.1/_/favicon.ico">

<link rel="search" type="application/opensearchdescription+xml" href="https://cwiki.apache.org/confluence/opensearch/osd.action" title="Apache Software Foundation"/>
    
                    
            <meta name="ajs-create-issue-metadata-show-discovery" content="false">
            

<script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\"/confluence\"";
WRM._unparsedData["com.atlassian.plugins.atlassian-nps-plugin:atlassian-nps-plugin-resources.is-server-instance-data-provider"]="true";
WRM._unparsedData["com.atlassian.plugins.browser.metrics.browser-metrics-plugin:browser-metrics.feature-data-provider-legacy"]="true";
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-rest:web-resource-manager.resource-base-url-pattern"]="\"(?:/confluence(?:/s/.*?/_)?/download)\"";
WRM._unparsedData["com.atlassian.confluence.plugins.confluence-license-banner:confluence-license-banner-resources.license-details"]="{\"daysBeforeLicenseExpiry\":0,\"daysBeforeMaintenanceExpiry\":0,\"showLicenseExpiryBanner\":false,\"showMaintenanceExpiryBanner\":false,\"renewUrl\":null,\"salesEmail\":null}";
WRM._unparsedData["com.atlassian.confluence.plugins.confluence-hipchat-integration-plugin:discovery-javascript-data.link-active"]="{\"linkActive\":true,\"conditionsMet\":true,\"admin\":false}";
WRM._unparsedData["com.atlassian.plugins.atlassian-nps-plugin:nps-acknowledgement-resources.analytics-enabled-data-provider"]="\"true\"";
WRM._unparsedData["com.atlassian.plugins.atlassian-nps-plugin:nps-acknowledgement-resources.sen-data-provider"]="\"SEN-2015076\"";
WRM._unparsedData["com.atlassian.confluence.plugins.confluence-feature-discovery-plugin:confluence-feature-discovery-plugin-resources.test-mode"]="false";
WRM._unparsedData["com.atlassian.plugins.browser.metrics.browser-metrics-plugin:api.feature-data-provider"]="true";
</script>
<link type="text/css" rel="stylesheet" href="../../s/2e51e60e83eadbb79c5004bd9c4ac765-CDN/en_GB/5982/f2b47fb3d636c8bc9fd0b11c0ec6d0ae18646be7.1/68/_/download/superbatch/css/batch.css@build-number=5982" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/confluence/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5982/f2b47fb3d636c8bc9fd0b11c0ec6d0ae18646be7.1/68/_/download/superbatch/css/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="/confluence/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5982/f2b47fb3d636c8bc9fd0b11c0ec6d0ae18646be7.1/68/_/download/superbatch/css/batch.css?conditionalComment=lte+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/9b6bdeb7fddc0a2f5337e313f4e85615-T/en_GB/5982/f2b47fb3d636c8bc9fd0b11c0ec6d0ae18646be7.1/ec13b76cd8d002fa2cf4ca229002aee7/_/download/contextbatch/css/page,viewcontent,atl.general,main,pagebanner,atl.comments/batch.css@highlightactions=true&amp;locale=en-GB&amp;flavour=VANILLA" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/confluence/s/6c0981174e94142364564819dc0d1413-CDN/en_GB/5982/f2b47fb3d636c8bc9fd0b11c0ec6d0ae18646be7.1/ec13b76cd8d002fa2cf4ca229002aee7/_/download/contextbatch/css/page,viewcontent,atl.general,main,pagebanner,atl.comments/batch.css?conditionalComment=lt+IE+9&amp;locale=en-GB" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5982/f2b47fb3d636c8bc9fd0b11c0ec6d0ae18646be7.1/2.8.6/_/download/batch/org.randombits.confluence.toc%253Atoc-plugin-styles/org.randombits.confluence.toc%253Atoc-plugin-styles.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5982/f2b47fb3d636c8bc9fd0b11c0ec6d0ae18646be7.1/3.7.2/_/download/batch/confluence.extra.information%253Ainformation-plugin-adg-styles/confluence.extra.information%253Ainformation-plugin-adg-styles.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5982/f2b47fb3d636c8bc9fd0b11c0ec6d0ae18646be7.1/2.1.5/_/download/batch/com.atlassian.confluence.ext.newcode-macro-plugin%253Asyntaxhighlighter/com.atlassian.confluence.ext.newcode-macro-plugin%253Asyntaxhighlighter.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5982/f2b47fb3d636c8bc9fd0b11c0ec6d0ae18646be7.1/2.1.5/_/download/batch/com.atlassian.confluence.ext.newcode-macro-plugin%253Ash-theme-default/com.atlassian.confluence.ext.newcode-macro-plugin%253Ash-theme-default.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/en_GB/5982/f2b47fb3d636c8bc9fd0b11c0ec6d0ae18646be7.1/13/_/styles/colors.css@spaceKey=Hive" media="all">
<link type="text/css" rel="stylesheet" href="../../s/en_GB/5982/f2b47fb3d636c8bc9fd0b11c0ec6d0ae18646be7.1/1.0/_/download/resources/com.atlassian.confluence.themes.default%253Astyles/default-theme.css" media="all">
<script type="text/javascript" src="../../s/b5b7f3c4a47ebde54b884c3070e3bb8c-CDN/en_GB/5982/f2b47fb3d636c8bc9fd0b11c0ec6d0ae18646be7.1/68/_/download/superbatch/js/batch.js@atlassian.aui.raphael.disabled=true&amp;locale=en-GB&amp;build-number=5982" ></script>
<script type="text/javascript" src="../../s/47fb273cd38c3662368839aefb134f70-T/en_GB/5982/f2b47fb3d636c8bc9fd0b11c0ec6d0ae18646be7.1/ec13b76cd8d002fa2cf4ca229002aee7/_/download/contextbatch/js/page,viewcontent,atl.general,main,pagebanner,atl.comments/batch.js@highlightactions=true&amp;analytics-uploadable=true&amp;flavour=VANILLA&amp;nps-acknowledged=true&amp;analytics-enabled=true&amp;locale=en-GB&amp;anonymous-access-enabled=true&amp;is-server-instance=true&amp;hostenabled=true" ></script>
<script type="text/javascript" src="../../s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5982/f2b47fb3d636c8bc9fd0b11c0ec6d0ae18646be7.1/2.8.6/_/download/batch/org.randombits.confluence.toc%253Aclient-side-toc-resources/org.randombits.confluence.toc%253Aclient-side-toc-resources.js" ></script>
<script type="text/javascript" src="../../s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5982/f2b47fb3d636c8bc9fd0b11c0ec6d0ae18646be7.1/2.8.6/_/download/batch/org.randombits.confluence.toc%253Atoc-plugin-analytics/org.randombits.confluence.toc%253Atoc-plugin-analytics.js" ></script>
<script type="text/javascript" src="../../s/6c0981174e94142364564819dc0d1413-CDN/en_GB/5982/f2b47fb3d636c8bc9fd0b11c0ec6d0ae18646be7.1/2.1.5/_/download/batch/com.atlassian.confluence.ext.newcode-macro-plugin%253Asyntaxhighlighter/com.atlassian.confluence.ext.newcode-macro-plugin%253Asyntaxhighlighter.js@locale=en-GB" ></script>
<script type="text/javascript" src="../../s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5982/f2b47fb3d636c8bc9fd0b11c0ec6d0ae18646be7.1/2.1.5/_/download/batch/com.atlassian.confluence.ext.newcode-macro-plugin%253Asyntaxhighlighter-brushes/com.atlassian.confluence.ext.newcode-macro-plugin%253Asyntaxhighlighter-brushes.js" ></script>


        
    

        
        <meta name="ajs-site-title" content="Apache Software Foundation" />

    
    

    
                <link rel="canonical" href="AdminManual+MetastoreAdmin">
        <link rel="shortlink" href="https://cwiki.apache.org/confluence/x/HIOhAQ">
    <meta name="wikilink" content="[Hive:AdminManual MetastoreAdmin]">
    <meta name="page-version" content="42">

</head>

<body             onload="placeFocus()"
     id="com-atlassian-confluence" class="theme-default  aui-layout aui-theme-default">

        
            <div id='stp-licenseStatus-banner'></div>
    <ul id="assistive-skip-links" class="assistive">
    <li><a href="AdminManual+MetastoreAdmin#title-heading">Skip to content</a></li>
    <li><a href="AdminManual+MetastoreAdmin#breadcrumbs">Skip to breadcrumbs</a></li>
    <li><a href="AdminManual+MetastoreAdmin#header-menu-bar">Skip to header menu</a></li>
    <li><a href="AdminManual+MetastoreAdmin#navigation">Skip to action menu</a></li>
    <li><a href="AdminManual+MetastoreAdmin#quick-search-query">Skip to quick search</a></li>
</ul>
<div id="page">
<div id="full-height-container">
    <div id="header-precursor">
        <div class="cell">
            <style type="text/css">
#preview #previewArea iframe {

   overflow: visible;
}
</style>

                            </div>
    </div>
    



<header id="header" role="banner">
    <nav class="aui-header aui-dropdown2-trigger-group" role="navigation"><div class="aui-header-inner"><div class="aui-header-before"><a class=" aui-dropdown2-trigger app-switcher-trigger" aria-owns="app-switcher" aria-controls="app-switcher" aria-haspopup="true" data-aui-trigger href="AdminManual+MetastoreAdmin#app-switcher"><span class="aui-icon aui-icon-small aui-iconfont-appswitcher">Linked Applications</span></a><div id="app-switcher" class="aui-dropdown2 aui-style-default"><div class="app-switcher-loading">Loading&hellip;</div></div><script>
            (function (NL) {
                var initialise = function () {
                    // For some milestones of AUI, the atlassian soy namespace was renamed to aui. Handle that here by ensuring that window.atlassian is defined.
                    window.atlassian = window.atlassian || window.aui;
                    new NL.AppSwitcher({
                        dropdownContents: '#app-switcher'
                    });
                };
                if (NL.AppSwitcher) {
                    initialise();
                } else {
                    NL.onInit = initialise;
                }
            }(window.NL = (window.NL || {})));
            window.NL.isUserAdmin = false</script></div><div class="aui-header-primary"><h1 id="logo" class="aui-header-logo aui-header-logo-custom"><a href="https://cwiki.apache.org/confluence/"><img src="../../s/en_GB/5982/f2b47fb3d636c8bc9fd0b11c0ec6d0ae18646be7.1/_/images/logo/confluence-logo.png" alt="Apache Software Foundation" /></a></h1><ul class="aui-nav">
                            <li>
            
        
        
<a  id="space-directory-link" href="https://cwiki.apache.org/confluence/spacedirectory/view.action"  class=" aui-nav-imagelink"   title="Spaces">
            <span>Spaces</span>
    </a>
        </li>
                        </ul>
</div><div class="aui-header-secondary"><ul class="aui-nav">
                        <li>
        <form id="quick-search" class="aui-quicksearch dont-default-focus header-quicksearch" action="https://cwiki.apache.org/confluence/dosearchsite.action" method="get"><fieldset><label for="quick-search-query" class="assistive">Quick Search</label><input id="quick-search-query" class="text app-search search quick-search-query" type="text" accessKey="q" autocomplete="off" name="queryString" title="Quick Search" placeholder="Search" /><input id="quick-search-submit" class="quick-search-submit" type="submit" value="Search"/><div class="aui-dd-parent quick-nav-drop-down"></div></fieldset></form>
    </li>
        <li>
            
        <a id="help-menu-link" class="aui-nav-link aui-dropdown2-trigger" href="AdminManual+MetastoreAdmin#" aria-haspopup="true" aria-owns="help-menu-link-content" title="Help">
        <span class="aui-icon aui-icon-small aui-iconfont-help">Help</span>
    </a>
    <nav id="help-menu-link-content" class="aui-dropdown2 aui-style-default" aria-hidden="true">
                    <div class="aui-dropdown2-section">
                                <ul  id="help-menu-link-leading" class="aui-list-truncate section-leading first">
                                            <li>
        
            
<a  id="confluence-help-link" href="https://docs.atlassian.com/confluence/docs-58/Getting+Help+And+Support" class="    "      title="Visit the Confluence documentation home"  target="_blank"
>
        Online Help
</a>
</li>
                                            <li>
    
            
<a  id="keyboard-shortcuts-link" href="https://cwiki.apache.org/confluence" class="    "      title="View available keyboard shortcuts" >
        Keyboard Shortcuts
</a>
</li>
                                            <li>
    
            
<a  id="feed-builder-link" href="https://cwiki.apache.org/confluence/dashboard/configurerssfeed.action" class="    "      title="Create your custom RSS feed." >
        Feed Builder
</a>
</li>
                                            <li>
    
            
<a  id="whats-new-menu-link" href="https://docs.atlassian.com/confluence/docs-58/whatsnew/iframe" class="    "      title="" >
        What’s new
</a>
</li>
                                            <li>
    
            
<a  id="whats-new-menu-link" href="https://docs.atlassian.com/confluence/docs-58/whatsnew/iframe" class="    "      title="" >
        What’s new
</a>
</li>
                                            <li>
    
            
<a  id="gadget-directory-link" href="https://cwiki.apache.org/confluence" class="   user-item administration-link "      title="Browse gadgets provided by Confluence" >
        Available Gadgets
</a>
</li>
                                            <li>
    
            
<a  id="confluence-about-link" href="https://cwiki.apache.org/confluence/aboutconfluencepage.action" class="    "      title="Get more information about Confluence" >
        About Confluence
</a>
</li>
                                    </ul>
            </div>
            </nav>
    
    </li>
        <li>
                
    
    </li>
        <li>
            
    </li>
        <li>
                                            <li>
        
            
<a  id="login-link" href="https://cwiki.apache.org/confluence/login.action?os_destination=%2Fdisplay%2FHive%2FAdminManual%2BMetastoreAdmin" class="   user-item login-link "      title="" >
        Log in
</a>
</li>
                        <li>
    
            
<a  id="signup-link" href="https://cwiki.apache.org/confluence/signup.action" class="   user-item signup-link "      title="" >
        Sign up
</a>
</li>
                        
    </li>
    </ul>
</div></div><!-- .aui-header-inner--></nav><!-- .aui-header -->
    <br class="clear">
</header>

    
    	<div class="ia-splitter">
    		<div class="ia-splitter-left">
    			<div class="ia-fixed-sidebar">
    				
	    	<div class="acs-side-bar ia-scrollable-section"><div class="acs-side-bar-space-info tipsy-enabled" data-configure-tooltip="Edit space details"><div class="avatar"><div class="space-logo " data-key="Hive" data-name="Apache Hive" data-entity-type="confluence.space"><div class="avatar-img-container"><div class="avatar-img-wrapper"><a href="https://cwiki.apache.org/confluence/display/Hive" title="Apache Hive"><img class="avatar-img" src="../../download/attachments/27362113/Hive@version=2&amp;modificationDate=1317659390000&amp;api=v2" alt="Apache Hive"></a></div></div></div></div><div class="name"><a href="https://cwiki.apache.org/confluence/display/Hive" title="Apache Hive">Apache Hive</a></div><div class="flyout-handle icon"></div></div><div class="acs-side-bar-content"><div class="acs-nav-wrapper"><div class="acs-nav" data-has-create-permission="false" data-quick-links-state="null" data-nav-type="pages"><div class="acs-nav-sections"><div class="main-links-section "><ul class="acs-nav-list"><li class="acs-nav-item wiki current-item"data-collector-key="spacebar-pages"><a class="acs-nav-item-link tipsy-enabled" href="https://cwiki.apache.org/confluence/collector/pages.action?key=Hive" data-collapsed-tooltip="Pages"><span class="icon"></span><span class="acs-nav-item-label">Pages</span></a></li><li class="acs-nav-item blog"data-collector-key="spacebar-blogs"><a class="acs-nav-item-link tipsy-enabled" href="https://cwiki.apache.org/confluence/pages/viewrecentblogposts.action?key=Hive" data-collapsed-tooltip="Blog"><span class="icon"></span><span class="acs-nav-item-label">Blog</span></a></li></ul></div><div class="quick-links-wrapper"></div></div></div></div><div class="ia-secondary-container tipsy-enabled" data-tree-type="pages"><div class="ia-secondary-header"><h5 class="ia-secondary-header-title pages"><span class="label">Child pages</span></h5></div><div class="ia-secondary-parent-content"><ul class="parent ia-secondary-header-title wiki"><li class="parent-item"><a class="parent-item-link" href="https://cwiki.apache.org/confluence/collector/pages.action?key=Hive" title="Pages"><span class="icon"></span><span class="label">Pages</span></a></li></ul></div><div class="ia-secondary-current-content"><ul class="ia-secondary-currentPage-title wiki current-item"><li><span class="icon"></span><span class="label">AdminManual MetastoreAdmin</span></li></ul></div><div class="ia-secondary-content"><div class="contextual-nav-child-pages"><ul class="children"><li class="child-item" data-page-id="55156221"><span class="icon"></span><a href="Hive+MetaTool" title="Hive MetaTool"><span class="label">Hive MetaTool</span></a></li><li class="child-item" data-page-id="34835119"><span class="icon"></span><a href="Hive+Schema+Tool" title="Hive Schema Tool"><span class="label">Hive Schema Tool</span></a></li></ul></div></div></div></div><div class="hidden"><a href="https://cwiki.apache.org/confluence/collector/pages.action?key=Hive" id="space-pages-link"></a><script type="text/x-template" title="logo-config-content"><h2>Space Details</h2><div class="personal-space-logo-hint">Your profile picture is used as the logo for your personal space. <a href="https://cwiki.apache.org/confluence/users/profile/editmyprofilepicture.action" target="_blank">Change your profile picture</a>.</div></script></div></div><div class="space-tools-section"><div id="space-tools-menu-additional-items" class="hidden"><div data-label="Browse pages" data-class="" data-href="/confluence/pages/reorderpages.action?key=Hive">Browse pages</div></div><div id="space-tools-dd-dummy"></div><a id="space-tools-menu-trigger" class="aui-button aui-button-subtle aui-dropdown2-trigger tipsy-enabled" aria-owns="space-tools-dd-dummy"><span class="aui-icon aui-icon-small aui-iconfont-configure">Configure</span><span class="label">Space tools</span></a><a class="expand-collapse-trigger"></a></div>
    
    			</div>
    		</div>
        <!-- \#header -->

        
        <div id="main" class=" aui-page-panel">
                <div id="main-header">
            
    <div id="navigation" class="content-navigation view">
                    <ul class="ajs-menu-bar">
                                                        
                    
        <li class="normal ajs-menu-item">
        <a id="action-menu-link" class="action aui-dropdown2-trigger-arrowless aui-button aui-button-subtle ajs-menu-title aui-dropdown2-trigger" href="AdminManual+MetastoreAdmin#" aria-haspopup="true" aria-owns="action-menu" data-container="#navigation">
            <span>
                                    <span class="aui-icon aui-icon-small aui-iconfont-more"></span>
                                
            </span>
        </a>         <div id="action-menu" class="aui-dropdown2 aui-style-default">
                            <ul  id="action-menu-primary"                     class="section-primary first aui-dropdown2-section">
                                            <li>

    
        
                                            
    
    
    <a  id="view-attachments-link" href="https://cwiki.apache.org/confluence/pages/viewpageattachments.action?pageId=27362076" rel="nofollow" class="action-view-attachments"  accessKey="t"  title="View Attachments">
                <span>
                        A<u>t</u>tachments (0)
        </span>    </a>
</li>
                                        <li>

    
        
                                            
    
    
    <a  id="action-view-history-link" href="https://cwiki.apache.org/confluence/pages/viewpreviousversions.action?pageId=27362076" rel="nofollow" class="action-view-history"   title="">
                <span>
                        Page History
        </span>    </a>
</li>
                                        <li>

    
        
                                            
    
    
    <a  id="action-page-permissions-link" href="https://cwiki.apache.org/confluence/pages/viewinfo.action?pageId=27362076" rel="nofollow" class="action-page-permissions"   title="Edit restrictions">
                <span>
                        Restrictions
        </span>    </a>
</li>
                                </ul>
                            <ul  id="action-menu-secondary"                     class="section-secondary aui-dropdown2-section">
                                            <li>

    
        
                                            
    
    
    <a  id="view-page-info-link" href="https://cwiki.apache.org/confluence/pages/viewinfo.action?pageId=27362076" rel="nofollow" class="action-view-info"   title="">
                <span>
                        Page Information
        </span>    </a>
</li>
                                        <li>

    
        
                                            
    
    
    <a  id="view-resolved-comments" href="https://cwiki.apache.org/confluence" rel="nofollow" class=""   title="">
                <span>
                        Resolved comments
        </span>    </a>
</li>
                                        <li>

    
        
                                            
    
    
    <a  id="link-to-page-link" href="https://cwiki.apache.org/confluence/pages/viewinfo.action?pageId=27362076" rel="nofollow" class=""   title="Link to this Page">
                <span>
                        Link to this Page…
        </span>    </a>
</li>
                                        <li>

    
        
                                            
    
    
    <a  id="view-in-hierarchy-link" href="https://cwiki.apache.org/confluence/pages/reorderpages.action?key=Hive&amp;openId=27362076#selectedPageInHierarchy" rel="nofollow" class=""   title="">
                <span>
                        View in Hierarchy
        </span>    </a>
</li>
                                        <li>

    
        
                                            
    
    
    <a  id="action-view-source-link" href="https://cwiki.apache.org/confluence/plugins/viewsource/viewpagesrc.action?pageId=27362076" rel="nofollow" class="action-view-source popup-link"   title="">
                <span>
                        View Source
        </span>    </a>
</li>
                                        <li>

    
        
                                            
    
    
    <a  id="delete-all-comments-link-link" href="https://cwiki.apache.org/confluence/plugins/aptis/deleteAllComments/ask-user.action?pageId=27362076" rel="nofollow" class=""   title="">
                <span>
                        Delete comments
        </span>    </a>
</li>
                                        <li>

    
        
                                            
    
    
    <a  id="action-export-pdf-link" href="https://cwiki.apache.org/confluence/spaces/flyingpdf/pdfpageexport.action?pageId=27362076" rel="nofollow" class=""   title="">
                <span>
                        Export to PDF
        </span>    </a>
</li>
                                        <li>

    
        
                                            
    
    
    <a  id="com-k15t-confluence-scroll-epub-launcher" href="https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=27362076" rel="nofollow" class=""   title="">
                <span>
                        Export to EPUB
        </span>    </a>
</li>
                                        <li>

    
        
                                            
    
    
    <a  id="action-export-word-link" href="https://cwiki.apache.org/confluence/exportword?pageId=27362076" rel="nofollow" class="action-export-word"   title="">
                <span>
                        Export to Word
        </span>    </a>
</li>
                                </ul>
                            <ul  id="action-menu-modify"                     class="section-modify aui-dropdown2-section">
                                            <li>

    
        
                                            
    
    
    <a  id="treecopy-action" href="https://cwiki.apache.org/confluence/plugins/treecopy/setnames.action?pageId=27362076" rel="nofollow" class=""   title="">
                <span>
                        Copy Page Tree
        </span>    </a>
</li>
                                </ul>
                    </div>
    </li>
            </ul>
    </div>

            
            <div id="title-heading" class="pagetitle with-breadcrumbs">
                
                                    <div id="breadcrumb-section">
                        
    
    
    <ol id="breadcrumbs">
                                        
                        
        <li class="first" >
                        
                            <span class=""><a href="https://cwiki.apache.org/confluence/collector/pages.action?key=Hive">Pages</a></span>
                                                    </ol>


                    </div>
                
                
        <a href="AdminManual+MetastoreAdmin#page-banner-end" class="assistive">Skip to end of banner</a>
<div id="page-banner-start" class="assistive"></div>

                    
            <div id="page-metadata-banner"><ul class="banner"><li id="system-content-items" class="noprint"><a href="AdminManual+MetastoreAdmin" title="Restrictions apply" id="content-metadata-page-restrictions" class="hidden"><img class="page-banner-item-icon" src="../../s/en_GB/5982/f2b47fb3d636c8bc9fd0b11c0ec6d0ae18646be7.1/_/download/resources/com.atlassian.confluence.plugins.confluence-page-banner%253Apage-banner-resources/images/red_padlock.png" style="height: 16px; width: 16px;"/></a></li><li class="page-metadata-item noprint has-button"  id="content-metadata-jira-wrapper"><a href="AdminManual+MetastoreAdmin" title="" id="content-metadata-jira" class="aui-button aui-button-subtle content-metadata-jira tipsy-disabled hidden"><img class="page-banner-item-icon" src="../../s/en_GB/5982/f2b47fb3d636c8bc9fd0b11c0ec6d0ae18646be7.1/_/download/resources/com.atlassian.confluence.plugins.confluence-jira-metadata%253Aconfluence-jira-metadata-resources/img/icon-jira-link.png" style="height: 16px; width: 16px;"/><span>JIRA links</span></a></li></ul></div>
            

<a href="AdminManual+MetastoreAdmin#page-banner-start" class="assistive">Go to start of banner</a>
<div id="page-banner-end" class="assistive"></div>
    

                <h1 id="title-text" class="with-breadcrumbs">
                                                <a href="AdminManual+MetastoreAdmin">AdminManual MetastoreAdmin</a>
                                    </h1>
            </div>
        </div><!-- \#main-header -->
        
        

        <div id="sidebar-container">
                                                </div><!-- \#sidebar-container -->

        
    

        




        

    
    
        
    
    
                    
    

                        
    
    

    




<div id="content" class="page view">
    


<div id="action-messages">
                        </div>



        <script type="text/x-template" title="searchResultsGrid">
    <table class="aui">
        <thead>
            <tr class="header">
                <th class="search-result-title">Page Title</th>
                <th class="search-result-space">Space</th>
                <th class="search-result-date">Updated</th>
            </tr>
        </thead>
    </table>
</script>
<script type="text/x-template" title="searchResultsGridCount">
    <p class="search-result-count">{0}</p>
</script>
<script type="text/x-template" title="searchResultsGridRow">
    <tr class="search-result">
        <td class="search-result-title"><a href="https://cwiki.apache.org/confluence/display/Hive/{1}" class="content-type-{2}"><span>{0}</span></a></td>
        <td class="search-result-space"><a class="space" href="https://cwiki.apache.org/confluence/display/{4}/" title="{3}">{3}</a></td>
        <td class="search-result-date"><span class="date" title="{6}">{5}</span></td>
    </tr>
</script>
        
    
            

        
                            
    

                    

        
        <a href="AdminManual+MetastoreAdmin#page-metadata-end" class="assistive">Skip to end of metadata</a>
<div id="page-metadata-start" class="assistive"></div>

    <div class="page-metadata">
        <ul>
            <li class="page-metadata-modification-info">
                
        
    
        
    
        
        
            Created by <span class='author'>     <a href="https://cwiki.apache.org/confluence/display/~admin"
                       class="url fn"
                            >Confluence Administrator</a></span>, last modified by <span class='editor'>     <a href="https://cwiki.apache.org/confluence/display/~sergeant007"
                       class="url fn"
                            >Sergey Tryuber</a></span> on <a class='last-modified' title='Nov 11, 2015 23:31' href='https://cwiki.apache.org/confluence/pages/diffpagesbyversion.action?pageId=27362076&amp;selectedPageVersions=41&amp;selectedPageVersions=42'>Nov 11, 2015</a>
                </li>
        </ul>
    </div>


<a href="AdminManual+MetastoreAdmin#page-metadata-start" class="assistive">Go to start of metadata</a>
<div id="page-metadata-end" class="assistive"></div>

        
                                            
        <div id="main-content" class="wiki-content">
                           
        <h2 id="AdminManualMetastoreAdmin-HiveMetastoreAdministration">Hive Metastore Administration</h2><p><div class="toc-macro client-side-toc-macro " data-headerelements="H1,H2,H3,H4,H5,H6,H7"></div></p><h3 id="AdminManualMetastoreAdmin-Introduction">Introduction</h3><p>All the metadata for Hive tables and partitions are accessed through the Hive Metastore. Metadata is persisted using <a href="http://www.datanucleus.org/" class="external-link" rel="nofollow">JPOX</a> ORM solution (Data Nucleus) so any database that is supported by it can be used by Hive. Most of the commercial relational databases and many open source databases are supported. See the list of <a href="AdminManual+MetastoreAdmin#AdminManualMetastoreAdmin-SupportedBackendDatabasesforMetastore">supported databases</a> in section below.</p><p>You can find an E/R diagram for the metastore <a href="https://issues.apache.org/jira/secure/attachment/12471108/HiveMetaStore.pdf" class="external-link" rel="nofollow">here</a>.</p><p>There are 2 different ways to setup the metastore server and metastore database using different Hive configurations:</p><p>Configuration options for <strong>metastore database</strong> where metadata is persisted:</p><ul><li><a href="AdminManual+MetastoreAdmin#AdminManualMetastoreAdmin-Local/EmbeddedMetastoreDatabase(Derby)">Local/Embedded Metastore Database (Derby)</a></li><li><a href="AdminManual+MetastoreAdmin#AdminManualMetastoreAdmin-RemoteMetastoreDatabase">Remote Metastore Database</a></li></ul><p>Configuration <span>options for</span> <strong>metastore server</strong>:</p><ul><li><a href="AdminManual+MetastoreAdmin#AdminManualMetastoreAdmin-Local/EmbeddedMetastoreServer">Local/Embedded Metastore Server</a> </li><li><a href="AdminManual+MetastoreAdmin#AdminManualMetastoreAdmin-RemoteMetastoreServer">Remote Metastore Server</a></li></ul><h4 style="margin-left: 0.0px;" id="AdminManualMetastoreAdmin-BasicConfigurationParameters">Basic Configuration Parameters</h4><p>The relevant configuration parameters are shown here. (Non-metastore parameters are described in <a href="AdminManual+Configuration" style="text-decoration: none;" rel="nofollow">Configuring Hive</a>. Also see the Language Manual's <a href="Configuration+Properties" style="text-decoration: none;" rel="nofollow">Hive Configuration Properties</a>, including <a href="Configuration+Properties#ConfigurationProperties-MetaStore" style="text-decoration: none;" rel="nofollow">Metastore</a> and <a href="Configuration+Properties#ConfigurationProperties-HiveMetastoreSecurity" style="text-decoration: none;" rel="nofollow">Hive Metastore Security</a>.)</p><p>Also see hivemetastore-site.xml documentation under <a href="AdminManual+Configuration" rel="nofollow">Configuring Hive</a>.</p><div class="table-wrap"><table style="margin-left: 0.0px;" class="confluenceTable"><tbody><tr><th style="text-align: left;" class="confluenceTh"><div class="tablesorter-header-inner"><p style="margin-left: 0.0px;">Configuration Parameter</p></div></th><th style="text-align: left;" class="confluenceTh"><div class="tablesorter-header-inner"><p style="margin-left: 0.0px;">Description</p></div></th></tr><tr><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">javax.jdo.option.ConnectionURL</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">JDBC connection string for the data store which contains metadata</p></td></tr><tr><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">javax.jdo.option.ConnectionDriverName</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">JDBC Driver class name for the data store which contains metadata</p></td></tr><tr><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">hive.metastore.uris</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">Hive connects to one of these URIs to make metadata requests to a remote Metastore (comma separated list of URIs)</p></td></tr><tr><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">hive.metastore.local</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">local or remote metastore (removed as of Hive <a class="external-link" href="https://issues.apache.org/jira/browse/HIVE-2585" rel="nofollow">0.10</a>: If <code>hive.metastore.uris</code> is empty <code>local</code> mode is assumed, <code>remote </code>otherwise)</p></td></tr><tr><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">hive.metastore.warehouse.dir</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">URI of the default location for native tables</p></td></tr></tbody></table></div><p>The Hive metastore is stateless and thus there can be multiple instances to achieve High Availability. Using <code>hive.metastore.uris</code> it is possible to specify multiple remote metastores. Hive will use the first one from the list by default but will pick a random one on connection failure and will try to reconnect.</p><h4 style="margin-left: 0.0px;" id="AdminManualMetastoreAdmin-AdditionalConfigurationParameters">Additional Configuration Parameters</h4><p style="margin-left: 0.0px;">The following metastore configuration parameters were carried over from old documentation without a guarantee that they all still exist. See the <code>HiveConf</code> Java class for current Hive configuration options, and see the <a href="Configuration+Properties#ConfigurationProperties-MetaStore" rel="nofollow">Metastore</a> and <a href="Configuration+Properties#ConfigurationProperties-HiveMetastoreSecurity" rel="nofollow">Hive Metastore Security</a> sections of the Language Manual's <a href="Configuration+Properties" rel="nofollow">Hive Configuration Properties</a> for user-friendly descriptions of the metastore parameters.</p><div class="table-wrap"><table style="margin-left: 0.0px;" class="confluenceTable"><tbody><tr><th style="text-align: left;" class="confluenceTh"><div class="tablesorter-header-inner"><p style="margin-left: 0.0px;">Configuration Parameter</p></div></th><th style="text-align: left;" class="confluenceTh"><div class="tablesorter-header-inner"><p style="margin-left: 0.0px;">Description</p></div></th><th style="text-align: left;" class="confluenceTh"><div class="tablesorter-header-inner"><p style="margin-left: 0.0px;">Default Value</p></div></th></tr><tr><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">hive.metastore.metadb.dir</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">The location of filestore metadata base directory. (Functionality removed in 0.4.0 with <a href="https://issues.apache.org/jira/browse/HIVE-143" class="external-link" rel="nofollow">HIVE-143</a>.)</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;"> </p></td></tr><tr><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">hive.metastore.rawstore.impl</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">Name of the class that implements the org.apache.hadoop.hive.metastore.rawstore interface. This class is used to store and retrieval of raw metadata objects such as table, database. (Hive 0.8.1 and later.)</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;"> </p></td></tr><tr><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">org.jpox.autoCreateSchema</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">Creates necessary schema on startup if one doesn't exist. (The schema includes tables, columns, and so on.) Set to false after creating it once.</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;"> </p></td></tr><tr><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">org.jpox.fixedDatastore</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">Whether the datastore schema is fixed.</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;"> </p></td></tr><tr><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">datanucleus.autoStartMechanism</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">Whether to initialize on startup.</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;"> </p></td></tr><tr><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">hive.metastore.ds.connection.url.hook</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">Name of the hook to use for retriving the JDO connection URL. If empty, the value in javax.jdo.option.ConnectionURL is used as the connection URL. (Hive 0.6 and later.)</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;"> </p></td></tr><tr><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">hive.metastore.ds.retry.attempts</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">The number of times to retry a call to the backing datastore if there were a connection error.<br /><span>(Hive 0.6 through 0.12; removed in 0.13.0 – use hive.hmshandler.retry.attempts instead.) </span></p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">1</p></td></tr><tr><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">hive.metastore.ds.retry.interval</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">The number of miliseconds between datastore retry attempts.<br />(Hive 0.6 through 0.12<span>; removed in 0.13.0 – use hive.hmshandler.retry.interval instead.</span>)</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">1000</p></td></tr><tr><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">hive.metastore.server.min.threads</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">Minimum number of worker threads in the Thrift server's pool.<br /><span>(Hive 0.6 and later.)</span></p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">200</p></td></tr><tr><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">hive.metastore.server.max.threads</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">Maximum number of worker threads in the Thrift server's pool.<br /><span>(Hive 0.6 and later.)</span></p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">100000 since Hive 0.8.1</p></td></tr><tr><td colspan="1" class="confluenceTd"><p>hive.metastore.filter.hook</p></td><td colspan="1" class="confluenceTd"><p><span>Metastore hook class for further filtering the metadata read results on client side.<br /><span>(<a href="https://issues.apache.org/jira/browse/HIVE-8612" class="external-link" rel="nofollow">Hive 0.15</a> and later.)</span></span></p></td><td colspan="1" class="confluenceTd"><span>org.apache.hadoop.hive.metastore.DefaultMetaStoreFilterHookImpl</span></td></tr><tr><td colspan="1" class="confluenceTd"><p>hive.metastore.port</p></td><td colspan="1" class="confluenceTd"><p>Hive metastore listener port.<br /><span style="line-height: 1.4285715;">(</span><a href="https://issues.apache.org/jira/browse/HIVE-9365" style="line-height: 1.4285715;" class="external-link" rel="nofollow">Hive 1.3.0</a><span style="line-height: 1.4285715;"> and later.)</span></p></td><td colspan="1" class="confluenceTd">9083</td></tr></tbody></table></div><h4 id="AdminManualMetastoreAdmin-DataNucleusAutoStart">Data Nucleus Auto Start</h4><div class="confluence-information-macro confluence-information-macro-warning"><p class="title">Configuring datanucleus.autoStartMechanism is highly recommended</p><span class="aui-icon aui-icon-small aui-iconfont-error confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>Configuring auto start for data nucleus is highly recommended. See <a class="external-link" href="https://issues.apache.org/jira/browse/HIVE-4762" rel="nofollow" style="text-decoration: none;">HIVE-4762</a> for more details.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="brush: java; gutter: false; theme: Default"><![CDATA[ &lt;property&gt;
    &lt;name&gt;datanucleus.autoStartMechanism&lt;/name&gt;
    &lt;value&gt;SchemaTable&lt;/value&gt;
  &lt;/property&gt;]]></script>
</div></div></div></div><h4 style="margin-left: 0.0px;" id="AdminManualMetastoreAdmin-DefaultConfiguration">Default Configuration</h4><p style="margin-left: 0.0px;">The default configuration sets up an embedded metastore which is used in unit tests and is described in the next section. More practical options are described in the subsequent sections.</p><h3 style="margin-left: 0.0px;" id="AdminManualMetastoreAdmin-Local/EmbeddedMetastoreDatabase(Derby)">Local/Embedded Metastore Database (Derby)</h3><p style="margin-left: 0.0px;"><strong>An embedded metastore database is mainly used for unit tests. Only one process can connect to the metastore database at a time, so it is not really a practical solution but works well for unit tests.</strong></p><p style="margin-left: 0.0px;">For unit tests <a href="AdminManual+MetastoreAdmin#AdminManualMetastoreAdmin-Local/EmbeddedMetastoreServer">Local/Embedded Metastore Server</a><span style="font-size: 14.0px;line-height: 1.4285715;"> configuration for the metastore server is used in conjunction with embedded database.</span></p><p style="margin-left: 0.0px;">Derby is the default database for the embedded metastore.</p><div class="table-wrap"><table style="margin-left: 0.0px;" class="confluenceTable"><tbody><tr><th style="text-align: left;" class="confluenceTh"><div class="tablesorter-header-inner"><p style="margin-left: 0.0px;">Config Param</p></div></th><th style="text-align: left;" class="confluenceTh"><div class="tablesorter-header-inner"><p style="margin-left: 0.0px;">Config Value</p></div></th><th style="text-align: left;" class="confluenceTh"><div class="tablesorter-header-inner"><p style="margin-left: 0.0px;">Comment</p></div></th></tr><tr><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">javax.jdo.option.ConnectionURL</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;"><code>jdbc:derby:;databaseName=<br />../build/test/junit_metastore_db;create=true</code></p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">Derby database located at hive/trunk/build...</p></td></tr><tr><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">javax.jdo.option.ConnectionDriverName</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;"><code>org.apache.derby.jdbc.EmbeddedDriver</code></p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">Derby embeded JDBC driver class.</p></td></tr><tr><td style="text-align: left;" class="confluenceTd"><p>hive.metastore.warehouse.dir</p></td><td style="text-align: left;" class="confluenceTd"><p><code><span class="nolink"><a rel="nofollow">file://${user.dir}/../build/ql/test/data/warehouse</a></span></code></p></td><td style="text-align: left;" class="confluenceTd"><p>Unit test data goes in here on your local filesystem.</p></td></tr></tbody></table></div><p style="margin-left: 0.0px;">If you want to run Derby as a network server so the metastore can be accessed from multiple nodes, see <a href="HiveDerbyServerMode" rel="nofollow">Hive Using Derby in Server Mode</a>.</p><h3 style="margin-left: 0.0px;" id="AdminManualMetastoreAdmin-RemoteMetastoreDatabase">Remote Metastore Database</h3><p>In this configuration, you would use a traditional standalone RDBMS server. <span>The following example configuration will set up a metastore in a MySQL server. This configuration of metastore database is recommended for any real use.</span></p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh"><div class="tablesorter-header-inner"><p>Config Param</p></div></th><th class="confluenceTh"><div class="tablesorter-header-inner"><p>Config Value</p></div></th><th class="confluenceTh"><div class="tablesorter-header-inner"><p>Comment</p></div></th></tr><tr><td class="confluenceTd"><p>javax.jdo.option.ConnectionURL</p></td><td class="confluenceTd"><p><code><a rel="nofollow">jdbc:mysql://</a>&lt;host name&gt;/&lt;database name&gt;?createDatabaseIfNotExist=true</code></p></td><td class="confluenceTd"><p>metadata is stored in a MySQL server</p></td></tr><tr><td class="confluenceTd"><p>javax.jdo.option.ConnectionDriverName</p></td><td class="confluenceTd"><p><code>com.mysql.jdbc.Driver</code></p></td><td class="confluenceTd"><p>MySQL JDBC driver class</p></td></tr><tr><td class="confluenceTd"><p>javax.jdo.option.ConnectionUserName</p></td><td class="confluenceTd"><p><code>&lt;user name&gt;</code></p></td><td class="confluenceTd"><p>user name for connecting to MySQL server</p></td></tr><tr><td class="confluenceTd"><p>javax.jdo.option.ConnectionPassword</p></td><td class="confluenceTd"><p><code>&lt;password&gt;</code></p></td><td class="confluenceTd"><p>password for connecting to MySQL server</p></td></tr></tbody></table></div><h3 style="margin-left: 0.0px;" id="AdminManualMetastoreAdmin-Local/EmbeddedMetastoreServer">Local/Embedded Metastore Server</h3><p style="margin-left: 0.0px;">In local/embedded metastore setup, the metastore server component is used like a library within the Hive Client. <span style="font-size: 14.0px;line-height: 1.4285715;">Each Hive Client will open a connection to the database and make SQL queries against it. Make sure that the database is accessible from the machines where Hive queries are executed since this is a local store. Also make sure the JDBC client library is in the classpath of Hive Client. This configuration is often used with HiveServer2 (to use embedded metastore only with HiveServer2 add &quot;--hiveconf hive.metastore.uris=' '&quot; in command line parameters of the hiveserver2 start command or use hiveserver2-site.xml (available in Hive 0.14)).</span></p><div class="table-wrap"><table style="margin-left: 0.0px;" class="confluenceTable"><tbody><tr><th style="text-align: left;" class="confluenceTh"><div class="tablesorter-header-inner"><p style="margin-left: 0.0px;">Config Param</p></div></th><th style="text-align: left;" class="confluenceTh"><div class="tablesorter-header-inner"><p style="margin-left: 0.0px;">Config Value</p></div></th><th style="text-align: left;" class="confluenceTh"><div class="tablesorter-header-inner"><p style="margin-left: 0.0px;">Comment</p></div></th></tr><tr><td style="text-align: left;" class="confluenceTd"><p>hive.metastore.uris</p></td><td style="text-align: left;" class="confluenceTd"><p><em>not needed because this is local store</em></p></td><td style="text-align: left;" class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p>hive.metastore.local</p></td><td class="confluenceTd"><p><code>true</code></p></td><td class="confluenceTd"><p>this is local store (removed in Hive 0.10, see <a href="AdminManual+MetastoreAdmin#AdminManualMetastoreAdmin-BasicConfigurationParameters">configuration description</a> section)</p></td></tr><tr><td class="confluenceTd"><p>hive.metastore.warehouse.dir</p></td><td class="confluenceTd"><p><code>&lt;base hdfs path&gt;</code></p></td><td class="confluenceTd"><p>Points to default location of non-external Hive tables in HDFS.</p></td></tr></tbody></table></div><h3 style="margin-left: 0.0px;" id="AdminManualMetastoreAdmin-RemoteMetastoreServer">Remote Metastore Server</h3><p style="margin-left: 0.0px;">In remote metastore setup, all Hive Clients will make a connection to a metastore server which in turn queries the datastore (MySQL in this example) for metadata. Metastore server and client communicate using <a class="external-link" href="http://incubator.apache.org/thrift" rel="nofollow">Thrift</a> Protocol. Starting with Hive 0.5.0, you can start a Thrift server by executing the following command:</p><div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>hive --service metastore</pre>
</div></div><p style="margin-left: 0.0px;">In versions of Hive earlier than 0.5.0, it's instead necessary to run the Thrift server via direct execution of Java:</p><div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>$JAVA_HOME/bin/java  -Xmx1024m -Dlog4j.configuration=file://$HIVE_HOME/conf/hms-log4j.properties -Djava.library.path=$HADOOP_HOME/lib/native/Linux-amd64-64/ -cp $CLASSPATH org.apache.hadoop.hive.metastore.HiveMetaStore</pre>
</div></div><p style="margin-left: 0.0px;">If you execute Java directly, then JAVA_HOME, HIVE_HOME, HADOOP_HOME must be correctly set; CLASSPATH should contain Hadoop, Hive (lib and auxlib), and Java jars.</p><h4 style="margin-left: 0.0px;" id="AdminManualMetastoreAdmin-ServerConfigurationParameters"><strong>Server Configuration Parameters</strong></h4><p>The following example uses a<strong> </strong><a href="AdminManual+MetastoreAdmin#AdminManualMetastoreAdmin-RemoteMetastoreDatabase">Remote Metastore Database</a>.</p><div class="table-wrap"><table style="margin-left: 0.0px;" class="confluenceTable"><tbody><tr><th style="text-align: left;" class="confluenceTh"><div class="tablesorter-header-inner"><p style="margin-left: 0.0px;">Config Param</p></div></th><th style="text-align: left;" class="confluenceTh"><div class="tablesorter-header-inner"><p style="margin-left: 0.0px;">Config Value</p></div></th><th style="text-align: left;" class="confluenceTh"><div class="tablesorter-header-inner"><p style="margin-left: 0.0px;">Comment</p></div></th></tr><tr><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">javax.jdo.option.ConnectionURL</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;"><code>jdbc:mysql://&lt;host name&gt;/&lt;database name&gt;?createDatabaseIfNotExist=true</code></p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">metadata is stored in a MySQL server</p></td></tr><tr><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">javax.jdo.option.ConnectionDriverName</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;"><code>com.mysql.jdbc.Driver</code></p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">MySQL JDBC driver class</p></td></tr><tr><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">javax.jdo.option.ConnectionUserName</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;"><code>&lt;user name&gt;</code></p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">user name for connecting to MySQL server</p></td></tr><tr><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">javax.jdo.option.ConnectionPassword</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;"><code>&lt;password&gt;</code></p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">password for connecting to MySQL server</p></td></tr><tr><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">hive.metastore.warehouse.dir</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;"><code>&lt;base hdfs path&gt;</code></p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">default location for Hive tables.</p></td></tr></tbody></table></div><h4 style="margin-left: 0.0px;" id="AdminManualMetastoreAdmin-ClientConfigurationParameters"><strong>Client Configuration Parameters</strong></h4><div class="table-wrap"><table style="margin-left: 0.0px;" class="confluenceTable"><tbody><tr><th style="text-align: left;" class="confluenceTh"><div class="tablesorter-header-inner"><p style="margin-left: 0.0px;">Config Param</p></div></th><th style="text-align: left;" class="confluenceTh"><div class="tablesorter-header-inner"><p style="margin-left: 0.0px;">Config Value</p></div></th><th style="text-align: left;" class="confluenceTh"><div class="tablesorter-header-inner"><p style="margin-left: 0.0px;">Comment</p></div></th></tr><tr><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">hive.metastore.uris</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;"><code>thrift://&lt;host_name&gt;:&lt;port&gt;</code></p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">host and port for the Thrift metastore server</p></td></tr><tr><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">hive.metastore.local</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;"><code>false</code></p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">Metastore is remote.  Note: This is no longer needed as of Hive 0.10.  Setting <em>hive.metastore.uri</em> is sufficient.</p></td></tr><tr><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">hive.metastore.warehouse.dir</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;"><code>&lt;base hdfs path&gt;</code></p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">Points to default location of non-external Hive tables in HDFS.</p></td></tr></tbody></table></div><p style="margin-left: 0.0px;">If you are using MySQL as the datastore for metadata, put MySQL jdbc libraries in HIVE_HOME/lib before starting Hive Client or HiveMetastore Server.</p><p style="margin-left: 0.0px;">To change the metastore port, use this <code>hive</code> command:</p><div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>hive --service metastore -p &lt;port_num&gt;</pre>
</div></div><h3 id="AdminManualMetastoreAdmin-SupportedBackendDatabasesforMetastore">Supported Backend Databases for Metastore</h3><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Database</th><th class="confluenceTh">Minimum Supported Version</th><th colspan="1" class="confluenceTh">Name for Parameter Values</th></tr><tr><td class="confluenceTd">MySQL</td><td class="confluenceTd"><span style="color: rgb(34,34,34);">5.6.17</span></td><td colspan="1" class="confluenceTd"><code>mysql</code></td></tr><tr><td class="confluenceTd">Postgres</td><td class="confluenceTd"><span style="color: rgb(34,34,34);">9.1.13</span></td><td colspan="1" class="confluenceTd"><pre><span>postgres</span></pre></td></tr><tr><td class="confluenceTd">Oracle</td><td class="confluenceTd"><span style="color: rgb(34,34,34);">11g</span></td><td colspan="1" class="confluenceTd"><code>oracle</code></td></tr><tr><td class="confluenceTd">MS SQL Server</td><td class="confluenceTd"><span style="color: rgb(34,34,34);">2008 R2</span></td><td colspan="1" class="confluenceTd"><code>mssql</code></td></tr></tbody></table></div><h3 id="AdminManualMetastoreAdmin-MetastoreSchemaConsistencyandUpgrades">Metastore Schema Consistency and Upgrades</h3><div class="confluence-information-macro confluence-information-macro-information"><p class="title">Version</p><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>Introduced in Hive 0.12.0. See <a href="https://issues.apache.org/jira/browse/HIVE-3764" class="external-link" rel="nofollow">HIVE-3764</a>.</p></div></div><p>Hive now records the schema version in the metastore database and verifies that the metastore schema version is compatible with Hive binaries that are going to accesss the metastore. Note that the Hive properties to implicitly create or alter the existing schema are disabled by default. Hive will not attempt to change the metastore schema implicitly. When you execute a Hive query against an old schema, it will fail to access the metastore.</p><p>To suppress the schema check and allow the metastore to implicitly modify the schema, you need to set a configuration property <code>hive.metastore.schema.verification</code> to false in <code>hive-site.xml</code>.</p><p>Starting in release 0.12, Hive also includes an off-line schema tool to initialize and upgrade the metastore schema. Please refer to the details <a href="Hive+Schema+Tool">here</a>.</p>

                
        
    
        </div>

        <!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
         <rdf:Description
    rdf:about="https://cwiki.apache.org/confluence/display/Hive/AdminManual+MetastoreAdmin"
    dc:identifier="https://cwiki.apache.org/confluence/display/Hive/AdminManual+MetastoreAdmin"
    dc:title="AdminManual MetastoreAdmin"
    trackback:ping="https://cwiki.apache.org/confluence/rpc/trackback/27362076"/>
</rdf:RDF>
-->

                        
    



<div id="labels-section" class="pageSection group">
    <div class="labels-section-content content-column" entityid="27362076" entitytype="page">
	<div class="labels-content">
		
    <ul class="label-list label-list-right ">
            <li class="no-labels-message">
            No labels
        </li>
            </ul>

    </div>
</div>
</div>
        
		
            




            
    








                        
    
<div id="comments-section" class="pageSection group">
        
    



</div>


                
    
            
</div>


    




    
    

    
    
    


    
<div id="space-tools-web-items" class="hidden">
                <div data-label="Overview" data-href="/confluence/spaces/viewspacesummary.action?key=Hive">Overview</div>
            <div data-label="Content Tools" data-href="/confluence/pages/reorderpages.action?key=Hive">Content Tools</div>
            <div data-label="Add-ons" data-href="/confluence/spaces/snippeterrors.action?key=Hive">Add-ons</div>
    </div>




    </div><!-- \#main -->
        
    
        
            
            

<div id="footer" role="contentinfo">
    <section class="footer-body">

                                                            <p class="license license-opensource">
                    Powered by a free <b>Atlassian Confluence Open Source Project License</b> granted to Apache Software Foundation. <a href="http://www.atlassian.com/c/conf/11461">Evaluate Confluence today</a>.<br>
                </p>
                    
        

        <ul id="poweredby">
            <li class="noprint">Powered by <a href="http://www.atlassian.com/software/confluence" class="hover-footer-link">Atlassian Confluence</a> <span id='footer-build-information'>5.8.4</span>, <a href="http://www.atlassian.com/software/confluence/overview/team-collaboration-software?utm_source=confluence-footer" class="hover-footer-link">Team Collaboration Software</a></li>
            <li class="print-only">Printed by Atlassian Confluence 5.8.4, Team Collaboration Software.</li>
            <li class="noprint"><a href="https://jira.atlassian.com/browse/CONF" class="hover-footer-link">Report a bug</a></li>
            <li class="noprint"><a href="http://www.atlassian.com/about/connected.jsp?s_kwcid=Confluence-stayintouch" class="hover-footer-link">Atlassian News</a></li>
        </ul>

        

        <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>

                    
        
    </section>
</div>

    
</div>

</div><!-- \#full-height-container -->
</div><!-- \#page -->
</body>
</html>
