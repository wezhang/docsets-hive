<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"></meta><title>ListSFTP</title><link rel="stylesheet" href="../../css/component-usage.css" type="text/css"></link></head><body><h2>Description: </h2><p>Performs a listing of the files residing on an SFTP server. For each file that is found on the remote server, a new FlowFile will be created with the filename attribute set to the name of the file on the remote server. This can then be used in conjunction with FetchSFTP in order to fetch those files.</p><h3>Tags: </h3><p>list, sftp, remote, ingest, source, input, files</p><h3>Properties: </h3><p>In the list below, the names of required properties appear in <strong>bold</strong>. Any other properties (not in bold) are considered optional. The table also indicates any default values, whether a property supports the <a href="../../html/expression-language-guide.html">NiFi Expression Language</a>, and whether a property is considered "sensitive", meaning that its value will be encrypted. Before entering a value in a sensitive property, ensure that the <strong>nifi.properties</strong> file has an entry for the property <strong>nifi.sensitive.props.key</strong>.</p><table id="properties"><tr><th>Name</th><th>Default Value</th><th>Allowable Values</th><th>Description</th></tr><tr><td id="name"><strong>Hostname</strong></td><td id="default-value"></td><td id="allowable-values"></td><td id="description">The fully qualified hostname or IP address of the remote system<br/><strong>Supports Expression Language: true</strong></td></tr><tr><td id="name"><strong>Port</strong></td><td id="default-value">22</td><td id="allowable-values"></td><td id="description">The port to connect to on the remote host to fetch the data from<br/><strong>Supports Expression Language: true</strong></td></tr><tr><td id="name"><strong>Username</strong></td><td id="default-value"></td><td id="allowable-values"></td><td id="description">Username<br/><strong>Supports Expression Language: true</strong></td></tr><tr><td id="name">Password</td><td id="default-value"></td><td id="allowable-values"></td><td id="description">Password for the user account<br/><strong>Sensitive Property: true</strong></td></tr><tr><td id="name">Private Key Path</td><td id="default-value"></td><td id="allowable-values"></td><td id="description">The fully qualified path to the Private Key file</td></tr><tr><td id="name">Private Key Passphrase</td><td id="default-value"></td><td id="allowable-values"></td><td id="description">Password for the private key<br/><strong>Sensitive Property: true</strong></td></tr><tr><td id="name">Remote Path</td><td id="default-value">.</td><td id="allowable-values"></td><td id="description">The path on the remote system from which to pull or push files<br/><strong>Supports Expression Language: true</strong></td></tr><tr><td id="name">Distributed Cache Service</td><td id="default-value"></td><td id="allowable-values"><strong>Controller Service API: </strong><br/>DistributedMapCacheClient<br/><strong>Implementation:</strong><br/><a href="../org.apache.nifi.distributed.cache.client.DistributedMapCacheClientService/index.html">DistributedMapCacheClientService</a></td><td id="description">Specifies the Controller Service that should be used to maintain state about what has been pulled from the remote server so that if a new node begins pulling data, it won't duplicate all of the work that has been done. If not specified, the information will not be shared across the cluster. This property does not need to be set for standalone instances of NiFi but should be configured if NiFi is run within a cluster.</td></tr><tr><td id="name"><strong>Search Recursively</strong></td><td id="default-value">false</td><td id="allowable-values"><ul><li>true</li><li>false</li></ul></td><td id="description">If true, will pull files from arbitrarily nested subdirectories; otherwise, will not traverse subdirectories</td></tr><tr><td id="name">File Filter Regex</td><td id="default-value"></td><td id="allowable-values"></td><td id="description">Provides a Java Regular Expression for filtering Filenames; if a filter is supplied, only files whose names match that Regular Expression will be fetched</td></tr><tr><td id="name">Path Filter Regex</td><td id="default-value"></td><td id="allowable-values"></td><td id="description">When Search Recursively is true, then only subdirectories whose path matches the given Regular Expression will be scanned</td></tr><tr><td id="name"><strong>Ignore Dotted Files</strong></td><td id="default-value">true</td><td id="allowable-values"><ul><li>true</li><li>false</li></ul></td><td id="description">If true, files whose names begin with a dot (".") will be ignored</td></tr><tr><td id="name"><strong>Strict Host Key Checking</strong></td><td id="default-value">false</td><td id="allowable-values"><ul><li>true</li><li>false</li></ul></td><td id="description">Indicates whether or not strict enforcement of hosts keys should be applied</td></tr><tr><td id="name">Host Key File</td><td id="default-value"></td><td id="allowable-values"></td><td id="description">If supplied, the given file will be used as the Host Key; otherwise, no use host key file will be used</td></tr><tr><td id="name"><strong>Connection Timeout</strong></td><td id="default-value">30 sec</td><td id="allowable-values"></td><td id="description">Amount of time to wait before timing out while creating a connection</td></tr><tr><td id="name"><strong>Data Timeout</strong></td><td id="default-value">30 sec</td><td id="allowable-values"></td><td id="description">When transferring a file between the local and remote system, this value specifies how long is allowed to elapse without any data being transferred between systems</td></tr><tr><td id="name"><strong>Send Keep Alive On Timeout</strong></td><td id="default-value">true</td><td id="allowable-values"><ul><li>true</li><li>false</li></ul></td><td id="description">Indicates whether or not to send a single Keep Alive message when SSH socket times out</td></tr></table><h3>Relationships: </h3><table id="relationships"><tr><th>Name</th><th>Description</th></tr><tr><td>success</td><td>All FlowFiles that are received are routed to success</td></tr></table><h3>Reads Attributes: </h3>None specified.<h3>Writes Attributes: </h3><table id="writes-attributes"><tr><th>Name</th><th>Description</th></tr><tr><td>sftp.remote.host</td><td>The hostname of the SFTP Server</td></tr><tr><td>sftp.remote.port</td><td>The port that was connected to on the SFTP Server</td></tr><tr><td>sftp.listing.user</td><td>The username of the user that performed the SFTP Listing</td></tr><tr><td>file.owner</td><td>The numeric owner id of the source file</td></tr><tr><td>file.group</td><td>The numeric group id of the source file</td></tr><tr><td>file.permissions</td><td>The read/write/execute permissions of the source file</td></tr><tr><td>filename</td><td>The name of the file on the SFTP Server</td></tr><tr><td>path</td><td>The fully qualified name of the directory on the SFTP Server from which the file was pulled</td></tr></table><h3>See Also:</h3><p><a href="../org.apache.nifi.processors.standard.FetchSFTP/index.html">FetchSFTP</a>, <a href="../org.apache.nifi.processors.standard.GetSFTP/index.html">GetSFTP</a>, <a href="../org.apache.nifi.processors.standard.PutSFTP/index.html">PutSFTP</a></p></body></html>