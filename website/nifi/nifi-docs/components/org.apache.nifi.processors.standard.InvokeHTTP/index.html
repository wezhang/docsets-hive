<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"></meta><title>InvokeHTTP</title><link rel="stylesheet" href="../../css/component-usage.css" type="text/css"></link></head><body><h2>Description: </h2><p>An HTTP client processor which converts FlowFile attributes to HTTP headers, with configurable HTTP method, url, etc.</p><h3>Tags: </h3><p>http, https, rest, client</p><h3>Properties: </h3><p>In the list below, the names of required properties appear in <strong>bold</strong>. Any other properties (not in bold) are considered optional. The table also indicates any default values, whether a property supports the <a href="../../html/expression-language-guide.html">NiFi Expression Language</a>, and whether a property is considered "sensitive", meaning that its value will be encrypted. Before entering a value in a sensitive property, ensure that the <strong>nifi.properties</strong> file has an entry for the property <strong>nifi.sensitive.props.key</strong>.</p><table id="properties"><tr><th>Name</th><th>Default Value</th><th>Allowable Values</th><th>Description</th></tr><tr><td id="name"><strong>HTTP Method</strong></td><td id="default-value">GET</td><td id="allowable-values"></td><td id="description">HTTP request method (GET, POST, PUT, DELETE, HEAD, OPTIONS). Arbitrary methods are also supported but will be sent without a message body.<br/><strong>Supports Expression Language: true</strong></td></tr><tr><td id="name"><strong>Remote URL</strong></td><td id="default-value"></td><td id="allowable-values"></td><td id="description">Remote URL which will be connected to, including scheme, host, port, path.<br/><strong>Supports Expression Language: true</strong></td></tr><tr><td id="name">SSL Context Service</td><td id="default-value"></td><td id="allowable-values"><strong>Controller Service API: </strong><br/>SSLContextService<br/><strong>Implementation:</strong><br/><a href="../org.apache.nifi.ssl.StandardSSLContextService/index.html">StandardSSLContextService</a></td><td id="description">The SSL Context Service used to provide client certificate information for TLS/SSL (https) connections.</td></tr><tr><td id="name"><strong>Connection Timeout</strong></td><td id="default-value">5 secs</td><td id="allowable-values"></td><td id="description">Max wait time for connection to remote service.</td></tr><tr><td id="name"><strong>Read Timeout</strong></td><td id="default-value">15 secs</td><td id="allowable-values"></td><td id="description">Max wait time for response from remote service.</td></tr><tr><td id="name"><strong>Include Date Header</strong></td><td id="default-value">True</td><td id="allowable-values"><ul><li>True</li><li>False</li></ul></td><td id="description">Include an RFC-2616 Date header in the request.</td></tr><tr><td id="name"><strong>Follow Redirects</strong></td><td id="default-value">True</td><td id="allowable-values"><ul><li>True</li><li>False</li></ul></td><td id="description">Follow HTTP redirects issued by remote server.</td></tr><tr><td id="name">Attributes to Send</td><td id="default-value"></td><td id="allowable-values"></td><td id="description">Regular expression that defines which attributes to send as HTTP headers in the request. If not defined, no attributes are sent as headers. Also any dynamic properties set will be sent as headers. The dynamic property key will be the header key and the dynamic property value will be interpreted as expression language will be the header value.</td></tr><tr><td id="name">Basic Authentication Username</td><td id="default-value"></td><td id="allowable-values"></td><td id="description">The username to be used by the client to authenticate against the Remote URL.  Cannot include control characters (0-31), ':', or DEL (127).</td></tr><tr><td id="name">Basic Authentication Password</td><td id="default-value"></td><td id="allowable-values"></td><td id="description">The password to be used by the client to authenticate against the Remote URL.<br/><strong>Sensitive Property: true</strong></td></tr><tr><td id="name">Proxy Host</td><td id="default-value"></td><td id="allowable-values"></td><td id="description">The fully qualified hostname or IP address of the proxy server</td></tr><tr><td id="name">Proxy Port</td><td id="default-value"></td><td id="allowable-values"></td><td id="description">The port of the proxy server</td></tr><tr><td id="name">Put Response Body In Attribute</td><td id="default-value"></td><td id="allowable-values"></td><td id="description">If set, the response body received back will be put into an attribute of the original FlowFile instead of a separate FlowFile. The attribute key to put to is determined by evaluating value of this property. <br/><strong>Supports Expression Language: true</strong></td></tr><tr><td id="name">Max Length To Put In Attribute</td><td id="default-value">256</td><td id="allowable-values"></td><td id="description">If routing the response body to an attribute of the original (by setting the "Put response body in attribute" property or by receiving an error status code), the number of characters put to the attribute value will be at most this amount. This is important because attributes are held in memory and large attributes will quickly cause out of memory issues. If the output goes longer than this value, it will be truncated to fit. Consider making this smaller if able.</td></tr><tr><td id="name">Use Digest Authentication</td><td id="default-value">false</td><td id="allowable-values"><ul><li>true</li><li>false</li></ul></td><td id="description">Whether to communicate with the website using Digest Authentication. 'Basic Authentication Username' and 'Basic Authentication Password' are used for authentication.</td></tr><tr><td id="name">Always Output Response</td><td id="default-value">false</td><td id="allowable-values"><ul><li>true</li><li>false</li></ul></td><td id="description">Will force a response FlowFile to be generated and routed to the 'Response' relationship regardless of what the server status code received is or if the processor is configured to put the server response body in the request attribute. In the later configuration a request FlowFile with the response body in the attribute and a typical response FlowFile will be emitted to their respective relationships.</td></tr><tr><td id="name">Trusted Hostname</td><td id="default-value"></td><td id="allowable-values"></td><td id="description">Bypass the normal truststore hostname verifier to allow the specified remote hostname as trusted. Enabling this property has MITM security implications, use wisely. Will still accept other connections based on the normal truststore hostname verifier. Only valid with SSL (HTTPS) connections.</td></tr><tr><td id="name">Add Response Headers to Request</td><td id="default-value">false</td><td id="allowable-values"><ul><li>true</li><li>false</li></ul></td><td id="description">Enabling this property saves all the response headers to the original request. This may be when the response headers are needed but a response is not generated due to the status code received.</td></tr></table><h3>Dynamic Properties: </h3><p>Dynamic Properties allow the user to specify both the name and value of a property.<table id="dynamic-properties"><tr><th>Name</th><th>Value</th><th>Description</th></tr><tr><td id="name">Header Name</td><td id="value">Attribute Expression Language</td><td>Send request header with a key matching the Dynamic Property Key and a value created by evaluating the Attribute Expression Language set in the value of the Dynamic Property.<br/><strong>Supports Expression Language: true</strong></td></tr></table></p><h3>Relationships: </h3><table id="relationships"><tr><th>Name</th><th>Description</th></tr><tr><td>Retry</td><td>The original FlowFile will be routed on any status code that can be retried (5xx status codes). It will have new attributes detailing the request.</td></tr><tr><td>No Retry</td><td>The original FlowFile will be routed on any status code that should NOT be retried (1xx, 3xx, 4xx status codes).  It will have new attributes detailing the request.</td></tr><tr><td>Response</td><td>A Response FlowFile will be routed upon success (2xx status codes). If the 'Output Response Regardless' property is true then the response will be sent to this relationship regardless of the status code received.</td></tr><tr><td>Failure</td><td>The original FlowFile will be routed on any type of connection failure, timeout or general exception. It will have new attributes detailing the request.</td></tr><tr><td>Original</td><td>The original FlowFile will be routed upon success (2xx status codes). It will have new attributes detailing the success of the request.</td></tr></table><h3>Reads Attributes: </h3>None specified.<h3>Writes Attributes: </h3><table id="writes-attributes"><tr><th>Name</th><th>Description</th></tr><tr><td>invokehttp.status.code</td><td>The status code that is returned</td></tr><tr><td>invokehttp.status.message</td><td>The status message that is returned</td></tr><tr><td>invokehttp.response.body</td><td>In the instance where the status code received is not a success (2xx) then the response body will be put to the 'invokehttp.response.body' attribute of the request FlowFile.</td></tr><tr><td>invokehttp.request.url</td><td>The request URL</td></tr><tr><td>invokehttp.tx.id</td><td>The transaction ID that is returned after reading the response</td></tr><tr><td>invokehttp.remote.dn</td><td>The DN of the remote server</td></tr><tr><td>user-defined</td><td>If the 'Put Response Body In Attribute' property is set then whatever it is set to will become the attribute key and the value would be the body of the HTTP response.</td></tr></table></body></html>