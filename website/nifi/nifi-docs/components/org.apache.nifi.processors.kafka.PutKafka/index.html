<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"></meta><title>PutKafka</title><link rel="stylesheet" href="../../css/component-usage.css" type="text/css"></link></head><body><h2>Description: </h2><p>Sends the contents of a FlowFile as a message to Apache Kafka. The messages to send may be individual FlowFiles or may be delimited, using a user-specified delimiter, such as a new-line.</p><p><a href="additionalDetails.html">Additional Details...</a></p><h3>Tags: </h3><p>Apache, Kafka, Put, Send, Message, PubSub</p><h3>Properties: </h3><p>In the list below, the names of required properties appear in <strong>bold</strong>. Any other properties (not in bold) are considered optional. The table also indicates any default values, and whether a property supports the <a href="../../html/expression-language-guide.html">NiFi Expression Language</a>.</p><table id="properties"><tr><th>Name</th><th>Default Value</th><th>Allowable Values</th><th>Description</th></tr><tr><td id="name"><strong>Known Brokers</strong></td><td id="default-value"></td><td id="allowable-values"></td><td id="description">A comma-separated list of known Kafka Brokers in the format &lt;host&gt;:&lt;port&gt;</td></tr><tr><td id="name"><strong>Topic Name</strong></td><td id="default-value"></td><td id="allowable-values"></td><td id="description">The Kafka Topic of interest<br/><strong>Supports Expression Language: true</strong></td></tr><tr><td id="name"><strong>Partition Strategy</strong></td><td id="default-value">Round Robin</td><td id="allowable-values"><ul><li>Round Robin <img src="../../html/images/iconInfo.png" alt="Messages will be assigned partitions in a round-robin fashion, sending the first message to Partition 1, the next Partition to Partition 2, and so on, wrapping as necessary." title="Messages will be assigned partitions in a round-robin fashion, sending the first message to Partition 1, the next Partition to Partition 2, and so on, wrapping as necessary."></img></li><li>Random <img src="../../html/images/iconInfo.png" alt="Messages will be assigned to random partitions." title="Messages will be assigned to random partitions."></img></li><li>User-Defined <img src="../../html/images/iconInfo.png" alt="The &lt;Partition&gt; property will be used to determine the partition. All messages within the same FlowFile will be assigned to the same partition." title="The &lt;Partition&gt; property will be used to determine the partition. All messages within the same FlowFile will be assigned to the same partition."></img></li></ul></td><td id="description">Specifies how messages should be partitioned when sent to Kafka</td></tr><tr><td id="name">Partition</td><td id="default-value"></td><td id="allowable-values"></td><td id="description">Specifies which Kafka Partition to add the message to. If using a message delimiter, all messages in the same FlowFile will be sent to the same partition. If a partition is specified but is not valid, then all messages within the same FlowFile will use the same partition but it remains undefined which partition is used.<br/><strong>Supports Expression Language: true</strong></td></tr><tr><td id="name">Kafka Key</td><td id="default-value"></td><td id="allowable-values"></td><td id="description">The Key to use for the Message<br/><strong>Supports Expression Language: true</strong></td></tr><tr><td id="name"><strong>Delivery Guarantee</strong></td><td id="default-value">0</td><td id="allowable-values"><ul><li>Best Effort <img src="../../html/images/iconInfo.png" alt="FlowFile will be routed to success after successfully writing the content to a Kafka node, without waiting for a response. This provides the best performance but may result in data loss." title="FlowFile will be routed to success after successfully writing the content to a Kafka node, without waiting for a response. This provides the best performance but may result in data loss."></img></li><li>Guarantee Single Node Delivery <img src="../../html/images/iconInfo.png" alt="FlowFile will be routed to success if the message is received by a single Kafka node, whether or not it is replicated. This is faster than &lt;Guarantee Replicated Delivery&gt; but can result in data loss if a Kafka node crashes" title="FlowFile will be routed to success if the message is received by a single Kafka node, whether or not it is replicated. This is faster than &lt;Guarantee Replicated Delivery&gt; but can result in data loss if a Kafka node crashes"></img></li><li>Guarantee Replicated Delivery <img src="../../html/images/iconInfo.png" alt="FlowFile will be routed to failure unless the message is replicated to the appropriate number of Kafka Nodes according to the Topic configuration" title="FlowFile will be routed to failure unless the message is replicated to the appropriate number of Kafka Nodes according to the Topic configuration"></img></li></ul></td><td id="description">Specifies the requirement for guaranteeing that a message is sent to Kafka</td></tr><tr><td id="name">Message Delimiter</td><td id="default-value"></td><td id="allowable-values"></td><td id="description">Specifies the delimiter to use for splitting apart multiple messages within a single FlowFile. If not specified, the entire content of the FlowFile will be used as a single message. If specified, the contents of the FlowFile will be split on this delimiter and each section sent as a separate Kafka message. Note that if messages are delimited and some messages for a given FlowFile are transferred successfully while others are not, the messages will be split into individual FlowFiles, such that those messages that were successfully sent are routed to the 'success' relationship while other messages are sent to the 'failure' relationship.<br/><strong>Supports Expression Language: true</strong></td></tr><tr><td id="name"><strong>Max Buffer Size</strong></td><td id="default-value">5 MB</td><td id="allowable-values"></td><td id="description">The maximum amount of data to buffer in memory before sending to Kafka</td></tr><tr><td id="name"><strong>Max Record Size</strong></td><td id="default-value">1 MB</td><td id="allowable-values"></td><td id="description">The maximum size that any individual record can be.</td></tr><tr><td id="name"><strong>Communications Timeout</strong></td><td id="default-value">30 secs</td><td id="allowable-values"></td><td id="description">The amount of time to wait for a response from Kafka before determining that there is a communications error</td></tr><tr><td id="name"><strong>Batch Size</strong></td><td id="default-value">200</td><td id="allowable-values"></td><td id="description">The number of messages to send in one batch. The producer will wait until either this number of messages are ready to send or "Queue Buffering Max Time" is reached.</td></tr><tr><td id="name"><strong>Queue Buffering Max Time</strong></td><td id="default-value">5 secs</td><td id="allowable-values"></td><td id="description">Maximum time to buffer data before sending to Kafka. For example a setting of 100 ms will try to batch together 100 milliseconds' worth of messages to send at once. This will improve throughput but adds message delivery latency due to the buffering.</td></tr><tr><td id="name"><strong>Compression Codec</strong></td><td id="default-value">none</td><td id="allowable-values"><ul><li>None <img src="../../html/images/iconInfo.png" alt="Compression will not be used for any topic." title="Compression will not be used for any topic."></img></li><li>GZIP <img src="../../html/images/iconInfo.png" alt="Compress messages using GZIP" title="Compress messages using GZIP"></img></li><li>Snappy <img src="../../html/images/iconInfo.png" alt="Compress messages using Snappy" title="Compress messages using Snappy"></img></li></ul></td><td id="description">This parameter allows you to specify the compression codec for all data generated by this producer.</td></tr><tr><td id="name"><strong>Client Name</strong></td><td id="default-value">NiFi-mock-processor</td><td id="allowable-values"></td><td id="description">Client Name to use when communicating with Kafka</td></tr></table><h3>Dynamic Properties: </h3><p>Dynamic Properties allow the user to specify both the name and value of a property.<table id="dynamic-properties"><tr><th>Name</th><th>Value</th><th>Description</th></tr><tr><td id="name">The name of a Kafka configuration property.</td><td id="value">The value of a given Kafka configuration property.</td><td>These properties will be added on the Kafka configuration after loading any provided configuration properties. In the event a dynamic property represents a property that was already set as part of the static properties, its value wil be overriden with warning message describing the override. For the list of available Kafka properties please refer to: http://kafka.apache.org/documentation.html#configuration.</td></tr></table></p><h3>Relationships: </h3><table id="relationships"><tr><th>Name</th><th>Description</th></tr><tr><td>failure</td><td>Any FlowFile that cannot be sent to Kafka will be routed to this Relationship</td></tr><tr><td>success</td><td>Any FlowFile that is successfully sent to Kafka will be routed to this Relationship</td></tr></table><h3>Reads Attributes: </h3>None specified.<h3>Writes Attributes: </h3>None specified.</body></html>