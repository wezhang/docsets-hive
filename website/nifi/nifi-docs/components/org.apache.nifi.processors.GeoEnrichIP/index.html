<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"></meta><title>GeoEnrichIP</title><link rel="stylesheet" href="../../css/component-usage.css" type="text/css"></link></head><body><h2>Description: </h2><p>Looks up geolocation information for an IP address and adds the geo information to FlowFile attributes. The geo data is provided as a MaxMind database. The attribute that contains the IP address to lookup is provided by the 'IP Address Attribute' property. If the name of the attribute provided is 'X', then the the attributes added by enrichment will take the form X.geo.&lt;fieldName&gt;</p><h3>Tags: </h3><p>geo, enrich, ip, maxmind</p><h3>Properties: </h3><p>In the list below, the names of required properties appear in <strong>bold</strong>. Any other properties (not in bold) are considered optional. The table also indicates any default values.</p><table id="properties"><tr><th>Name</th><th>Default Value</th><th>Allowable Values</th><th>Description</th></tr><tr><td id="name"><strong>Geo Database File</strong></td><td id="default-value"></td><td id="allowable-values"></td><td id="description">Path to Maxmind Geo Enrichment Database File</td></tr><tr><td id="name"><strong>IP Address Attribute</strong></td><td id="default-value"></td><td id="allowable-values"></td><td id="description">The name of an attribute whose value is a dotted decimal IP address for which enrichment should occur</td></tr></table><h3>Relationships: </h3><table id="relationships"><tr><th>Name</th><th>Description</th></tr><tr><td>not found</td><td>Where to route flow files after unsuccessfully enriching attributes because no geo data was found</td></tr><tr><td>found</td><td>Where to route flow files after successfully enriching attributes with geo data</td></tr></table><h3>Reads Attributes: </h3>None specified.<h3>Writes Attributes: </h3><table id="writes-attributes"><tr><th>Name</th><th>Description</th></tr><tr><td>X.geo.lookup.micros</td><td>The number of microseconds that the geo lookup took</td></tr><tr><td>X.geo.city</td><td>The city identified for the IP address</td></tr><tr><td>X.geo.latitude</td><td>The latitude identified for this IP address</td></tr><tr><td>X.geo.longitude</td><td>The longitude identified for this IP address</td></tr><tr><td>X.geo.subdivision.N</td><td>Each subdivision that is identified for this IP address is added with a one-up number appended to the attribute name, starting with 0</td></tr><tr><td>X.geo.subdivision.isocode.N</td><td>The ISO code for the subdivision that is identified by X.geo.subdivision.N</td></tr><tr><td>X.geo.country</td><td>The country identified for this IP address</td></tr><tr><td>X.geo.country.isocode</td><td>The ISO Code for the country identified</td></tr><tr><td>X.geo.postalcode</td><td>The postal code for the country identified</td></tr></table></body></html>