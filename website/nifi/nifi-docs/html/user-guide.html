<!--
                        Licensed to the Apache Software Foundation (ASF) under one or more
                        contributor license agreements.  See the NOTICE file distributed with
                        this work for additional information regarding copyright ownership.
                        The ASF licenses this file to You under the Apache License, Version 2.0
                        (the "License"); you may not use this file except in compliance with
                        the License.  You may obtain a copy of the License at

                        http://www.apache.org/licenses/LICENSE-2.0

                        Unless required by applicable law or agreed to in writing, software
                        distributed under the License is distributed on an "AS IS" BASIS,
                        WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
                        See the License for the specific language governing permissions and
                        limitations under the License.
                        -->
                        <!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.2">
<meta name="author" content="Apache NiFi Team">
<title>Apache NiFi User Guide</title>
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Copyright (C) 2012-2015 Dan Allen, Ryan Waldron and the Asciidoctor Project

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE. */
/* Remove the comments around the @import statement below when using this as a custom stylesheet */
@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400";
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
body{margin:0}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
#map_canvas img,#map_canvas embed,#map_canvas object,.map_canvas img,.map_canvas embed,.map_canvas object{max-width:none!important}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
.antialiased,body{-webkit-font-smoothing:antialiased}
img{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9);padding-right: 1px;}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol,ul.no-bullet,ol.no-bullet{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.no-bullet{list-style:none}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
.keyseq{color:rgba(51,51,51,.8)}
kbd{display:inline-block;color:rgba(0,0,0,.8);font-size:.75em;line-height:1.4;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:-.15em .15em 0 .15em;padding:.2em .6em .2em .5em;vertical-align:middle;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menu{color:rgba(0,0,0,.8)}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.05em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.spread{width:100%}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all th.tableblock,table.grid-all td.tableblock{border-width:0 1px 1px 0}
table.grid-all tfoot>tr>th.tableblock,table.grid-all tfoot>tr>td.tableblock{border-width:1px 1px 0 0}
table.grid-cols th.tableblock,table.grid-cols td.tableblock{border-width:0 1px 0 0}
table.grid-all *>tr>.tableblock:last-child,table.grid-cols *>tr>.tableblock:last-child{border-right-width:0}
table.grid-rows th.tableblock,table.grid-rows td.tableblock{border-width:0 0 1px 0}
table.grid-all tbody>tr:last-child>th.tableblock,table.grid-all tbody>tr:last-child>td.tableblock,table.grid-all thead:last-child>tr>th.tableblock,table.grid-rows tbody>tr:last-child>th.tableblock,table.grid-rows tbody>tr:last-child>td.tableblock,table.grid-rows thead:last-child>tr>th.tableblock{border-bottom-width:0}
table.grid-rows tfoot>tr>th.tableblock,table.grid-rows tfoot>tr>td.tableblock{border-width:1px 0 0 0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.unstyled,ol.unnumbered,ul.checklist,ul.none{list-style-type:none}
ul.unstyled,ol.unnumbered,ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1em;font-size:.85em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{width:1em;position:relative;top:1px}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1{padding-right:.75em;font-weight:bold}
td.hdlist1,td.hdlist2{vertical-align:top}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:0 .75em;line-height:1}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none}
span.footnote,span.footnoteref{vertical-align:super;font-size:.875em}
span.footnote a,span.footnoteref a{text-decoration:none}
span.footnote a:active,span.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em;line-height:1.3;font-size:.875em;margin-left:1.2em;text-indent:-1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
h1,h2{letter-spacing:-.01em}
dt,th.tableblock,td.content{text-rendering:optimizeLegibility}
p,td.content{letter-spacing:-.01em}
p strong,td.content strong{letter-spacing:-.005em}
p,blockquote,dt,td.content{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img{page-break-inside:avoid}
thead{display:table-header-group}
img{max-width:100%!important}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.2.0/css/font-awesome.min.css">
</head>
<body class="article">
<div id="header">
<h1>Apache NiFi User Guide</h1>
<div class="details">
<span id="author" class="author">Apache NiFi Team</span><br>
<span id="email" class="email"><a href="mailto:dev@nifi.apache.org">dev@nifi.apache.org</a></span><br>
</div>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="user-guide.html#introduction">Introduction</a></li>
<li><a href="user-guide.html#terminology">Terminology</a></li>
<li><a href="user-guide.html#User_Interface">NiFi User Interface</a></li>
<li><a href="user-guide.html#logging-in">Logging In</a></li>
<li><a href="user-guide.html#building-dataflow">Building a DataFlow</a>
<ul class="sectlevel2">
<li><a href="user-guide.html#adding-components-to-the-canvas">Adding Components to the Canvas</a></li>
<li><a href="user-guide.html#Configuring_a_Processor">Configuring a Processor</a></li>
<li><a href="user-guide.html#additional-help">Additional Help</a></li>
<li><a href="user-guide.html#Controller_Services_and_Reporting_Tasks">Controller Services and Reporting Tasks</a></li>
<li><a href="user-guide.html#Connecting_Components">Connecting Components</a></li>
<li><a href="user-guide.html#processor-validation">Processor Validation</a></li>
<li><a href="user-guide.html#site-to-site">Site-to-Site</a></li>
<li><a href="user-guide.html#example-dataflow">Example Dataflow</a></li>
</ul>
</li>
<li><a href="user-guide.html#command-and-control-of-the-dataflow">Command and Control of the DataFlow</a>
<ul class="sectlevel2">
<li><a href="user-guide.html#starting-a-component">Starting a Component</a></li>
<li><a href="user-guide.html#stopping-a-component">Stopping a Component</a></li>
<li><a href="user-guide.html#enabling-disabling-a-component">Enabling/Disabling a Component</a></li>
<li><a href="user-guide.html#Remote_Group_Transmission">Remote Process Group Transmission</a></li>
</ul>
</li>
<li><a href="user-guide.html#navigating">Navigating within a DataFlow</a></li>
<li><a href="user-guide.html#monitoring">Monitoring of DataFlow</a>
<ul class="sectlevel2">
<li><a href="user-guide.html#processor_anatomy">Anatomy of a Processor</a></li>
<li><a href="user-guide.html#process_group_anatomy">Anatomy of a Process Group</a></li>
<li><a href="user-guide.html#remote_group_anatomy">Anatomy of a Remote Process Group</a></li>
<li><a href="user-guide.html#Summary_Page">Summary Page</a></li>
<li><a href="user-guide.html#Stats_History">Historical Statistics of a Component</a></li>
</ul>
</li>
<li><a href="user-guide.html#templates">Templates</a>
<ul class="sectlevel2">
<li><a href="user-guide.html#Create_Template">Creating a Template</a></li>
<li><a href="user-guide.html#instantiating-a-template">Instantiating a Template</a></li>
<li><a href="user-guide.html#Manage_Templates">Managing Templates</a></li>
</ul>
</li>
<li><a href="user-guide.html#data-provenance">Data Provenance</a>
<ul class="sectlevel2">
<li><a href="user-guide.html#searching-for-events">Searching for Events</a></li>
<li><a href="user-guide.html#event_details">Details of an Event</a></li>
<li><a href="user-guide.html#replaying-a-flowfile">Replaying a FlowFile</a></li>
<li><a href="user-guide.html#viewing-flowfile-lineage">Viewing FlowFile Lineage</a></li>
</ul>
</li>
<li><a href="user-guide.html#other_management_features">Other Management Features</a></li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="introduction"><a class="anchor" href="user-guide.html#introduction"></a>Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Apache NiFi is a dataflow system based on the concepts of flow-based programming. It supports
powerful and scalable directed graphs of data routing, transformation, and system mediation logic. NiFi has
a web-based user interface for design, control, feedback, and monitoring of dataflows. It is highly configurable
along several dimensions of quality of service, such as loss-tolerant versus guaranteed delivery, low latency versus
high throughput, and priority-based queuing. NiFi provides fine-grained data provenance for all data received, forked, joined
cloned, modified, sent, and ultimately dropped upon reaching its configured end-state.</p>
</div>
<div class="paragraph">
<p>See the Admin Guide for information about system requirements, installation, and configuration. Once NiFi is installed,
use a supported web browser to view the User Interface. Supported web browsers include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Internet Explorer 9+ (see note below)</p>
</li>
<li>
<p>Mozilla FireFox 24+</p>
</li>
<li>
<p>Google Chrome 36+</p>
</li>
<li>
<p>Safari 8</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note that there is a known issue in Internet Explorer (IE) 10 and 11 that can cause problems when moving items on the NiFi canvas. If you encounter this problem, we suggest using a browser other than IE. This known issue is described here: <a href="https://connect.microsoft.com/IE/Feedback/Details/1050422" class="bare">https://connect.microsoft.com/IE/Feedback/Details/1050422</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="terminology"><a class="anchor" href="user-guide.html#terminology"></a>Terminology</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>DataFlow Manager</strong>: A DataFlow Manager (DFM) is a NiFi user who has permissions to add, remove, and modify components of a NiFi dataflow.</p>
</div>
<div class="paragraph">
<p><strong>FlowFile</strong>: The FlowFile represents a single piece of data in NiFi. A FlowFile is made up of two components:
	FlowFile Attributes and FlowFile Content.
	Content is the data that is represented by the FlowFile. Attributes are characteristics that provide information or
	context about the data; they are made up of key-value pairs.
	All FlowFiles have the following Standard Attributes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>uuid</strong>: A unique identifier for the FlowFile</p>
</li>
<li>
<p><strong>filename</strong>: A human-readable filename that may be used when storing the data to disk or in an external service</p>
</li>
<li>
<p><strong>path</strong>: A hierarchically structured value that can be used when storing data to disk or an external service so that the data is not stored in a single directory</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Processor</strong>: The Processor is the NiFi component that is used to listen for incoming data; pull data from external sources;
	publish data to external sources; and route, transform, or extract information from FlowFiles.</p>
</div>
<div class="paragraph">
<p><strong>Relationship</strong>: Each Processor has zero or more Relationships defined for it. These Relationships are named to indicate the result of processing a FlowFile.
	After a Processor has finished processing a FlowFile, it will route (or “transfer”) the FlowFile to one of the Relationships.
	A DFM is then able to connect each of these Relationships to other components in order to specify where the FlowFile should
	go next under each potential processing result.</p>
</div>
<div class="paragraph">
<p><strong>Connection</strong>: A DFM creates an automated dataflow by dragging components from the Components part of the NiFi toolbar to the canvas
	and then connecting the components together via Connections. Each connection consists of one or more Relationships.
	For each Connection that is drawn, a DFM can determine which Relationships should be used for the Connection.
	This allows data to be routed in different ways based on its processing outcome. Each connection houses a FlowFile Queue.
	When a FlowFile is transferred to a particular Relationship, it is added to the queue belonging to the associated Connection.</p>
</div>
<div class="paragraph">
<p><strong>Controller Service</strong>: Controller Services are extension points that, after being added and configured by a DFM in the User Interface, will start up when NiFi starts up and provide information for use by other components (such as processors or other controller services). A common Controller Service used by several components is the StandardSSLContextService. It provides the ability to configure keystore and/or truststore properties once and reuse that configuration throughout the application. The idea is that, rather than configure this information in every processor that might need it, the controller service provides it for any processor to use as needed.</p>
</div>
<div class="paragraph">
<p><strong>Reporting Task</strong>: Reporting Tasks run in the background to provide statistical reports about what is happening in the NiFi instance. The DFM adds and configures Reporting Tasks in the User Interface as desired. Common reporting tasks include the ControllerStatusReportingTask, MonitorDiskUsage reporting task, MonitorMemory reporting task, and the StandardGangliaReporter.</p>
</div>
<div class="paragraph">
<p><strong>Funnel</strong>: A funnel is a NiFi component that is used to combine the data from several Connections into a single Connection.</p>
</div>
<div class="paragraph">
<p><strong>Process Group</strong>: When a dataflow becomes complex, it often is beneficial to reason about the dataflow at a higher, more abstract level.
	NiFi allows multiple components, such as Processors, to be grouped together into a Process Group.
	The NiFi User Interface then makes it easy for a DFM to connect together multiple Process Groups into a logical dataflow,
	as well as allowing the DFM to enter a Process Group in order to see and manipulate the components within the Process Group.</p>
</div>
<div class="paragraph">
<p><strong>Port</strong>: Dataflows that are constructed using one or more Process Groups need a way to connect a Process Group to other dataflow components.
	This is achieved by using Ports. A DFM can add any number of Input Ports and Output Ports to a Process Group and name these ports appropriately.</p>
</div>
<div class="paragraph">
<p><strong>Remote Process Group</strong>: Just as data is transferred into and out of a Process Group, it is sometimes necessary to transfer data from one instance of NiFi to another.
	While NiFi provides many different mechanisms for transferring data from one system to another, Remote Process Groups are often the easiest way to accomplish
	this if transferring data to another instance of NiFi.</p>
</div>
<div class="paragraph">
<p><strong>Bulletin</strong>: The NiFi User Interface provides a significant amount of monitoring and feedback about the current status of the application.
	In addition to rolling statistics and the current status provided for each component, components are able to report Bulletins.
	Whenever a component reports a Bulletin, a bulletin icon is displayed on that component. System-level bulletins are displayed on the Status bar near the top of the page.
	Using the mouse to hover over that icon will provide a tool-tip that shows the time and severity (Debug, Info, Warning, Error) of the Bulletin,
	as well as the message of the Bulletin.
	Bulletins from all components can also be viewed and filtered in the Bulletin Board Page, available in the Management Toolbar.</p>
</div>
<div class="paragraph">
<p><strong>Template</strong>: Often times, a dataflow is comprised of many sub-flows that could be reused. NiFi allows DFMs to select a part of the dataflow
	(or the entire dataflow) and create a Template. This Template is given a name and can then be dragged onto the canvas just like the other components.
	As a result, several components may be combined together to make a larger building block from which to create a dataflow.
	These templates can also be exported as XML and imported into another NiFi instance, allowing these building blocks to be shared.</p>
</div>
<div class="paragraph">
<p><strong>flow.xml.gz</strong>: Everything the DFM puts onto the NiFi User Interface canvas is written, in real time, to one file called the flow.xml.gz. This file is located in the nifi/conf directory.
	Any change made on the canvas is automatically saved to this file, without the user needing to click a "save" button. In addition, the user may create a back-up copy of this file at any time
	by selecting the Controller Settings button in the far-right section of the tool bar and clicking "Back-up flow" on the General tab. By default, this action saves a copy of the current flow in the nifi/conf/archive directory.
	See <a href="user-guide.html#Controller_Settings">Controller Settings</a> for a description of where the "Back-up flow" button may be found. (Note that in a NiFi Cluster, the NiFi Cluster Manager&#8217;s copy of this file is named flow.tar, whereas this file is still named flow.xml.gz on the nodes.)</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="User_Interface"><a class="anchor" href="user-guide.html#User_Interface"></a>NiFi User Interface</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The NiFi User Interface (UI) provides mechanisms for creating automated dataflows, as well as visualizing,
editing, monitoring, and administering those dataflows. The UI can be broken down into several segments,
each responsible for different functionality of the application. This section provides screenshots of the
application and highlights the different segments of the UI. Each segment is discussed in further detail later
in the document.</p>
</div>
<div class="paragraph">
<p>When the application is started, the user is able to navigate to the User Interface by going to the default address of
<code>http://&lt;hostname&gt;:8080/nifi</code> in a web browser. There are no permissions configured by default, so anyone is
able to view and modify the dataflow. For information on securing the system, see the Systems Administrator guide.</p>
</div>
<div class="paragraph">
<p>When a DFM navigates to the UI for the first time, a blank canvas is provided on which a dataflow can be built:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/new-flow.png" alt="Empty Flow">
</div>
</div>
<div class="paragraph">
<p>Along the top of the of the screen is a toolbar that contains several of these segments.
To the left is the Components Toolbar. This toolbar consists of the different components that can be dragged onto the canvas.</p>
</div>
<div class="paragraph">
<p>Next to the Components Toolbar is the Actions Toolbar. This toolbar consists of buttons to manipulate the existing
components on the canvas. To the right of the Actions Toolbar is the Search Toolbar. This toolbar consists of a single
Search field that allows users to easily find components on the canvas. Users are able to search by component name,
type, identifier, configuration properties, and their values.</p>
</div>
<div class="paragraph">
<p>The Management Toolbar sits to the right-hand side of the screen. This toolbar consists of buttons that are
used by DFMs to manage the flow as well as by administrators who manage user access
and configure system properties, such as how many system resources should be provided to the application.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/nifi-toolbar-components.png" alt="NiFi Components Toolbar">
</div>
</div>
<div class="paragraph">
<p>Next, we have segments that provide capabilities to easily navigate around the canvas. On the left-hand side is a toolbar that
provides the ability to pan around the canvas and zoom in and out. On the right-hand side is a “Birds-Eye View” of the dataflow.
This provides a high-level view of the dataflow and allows the user to quickly and easily pan across large portions of the dataflow.
Along the top of the screen is a trail of breadcrumbs. As users navigate into and out of Process Groups, the breadcrumbs show
the depth in the flow and each Process Group that was entered to reach this depth. Each of the Process Groups listed in the breadcrumbs
is a link that will take you back up to that level in the flow.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/nifi-navigation.png" alt="NiFi Navigation">
</div>
</div>
<div id="status_bar" class="paragraph">
<p>Below the breadcrumbs lives the Status bar. The Status bar provides information about how many Processors exist on the canvas in
each state (Stopped, Running, Invalid, Disabled), how many Remote Process Groups exist on the canvas in each state
(Transmitting, Not Transmitting), the number of threads that are currently active in the flow, the amount of data that currently
exists in the flow, and the timestamp at which all of this information was last refreshed. If there are any System-Level bulletins,
these are shown in the Status bar as well. Additionally, if the instance of NiFi is clustered, the Status bar shows how many nodes
are in the cluster and how many are currently connected.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/status-bar.png" alt="NiFi Status Bar">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="logging-in"><a class="anchor" href="user-guide.html#logging-in"></a>Logging In</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If NiFi is configured to run securely, users will be able to request access to the DataFlow. For information on configuring NiFi to run
securely, see the <a href="administration-guide.html">Admin Guide</a>. If NiFi supports anonymous access, users will be given access
accordingly and given an option to log in.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/anonymous-access.png" alt="Anonymous Access">
</div>
</div>
<div class="paragraph">
<p>Clicking the <em>login</em> link will open the log in page. If the user is logging in with their username/password they will be presented with
a form to do so. If NiFi is not configured to support anonymous access and the user is logging in with their username/password, they will
be immediately sent to the login form bypassing the canvas.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/login.png" alt="Log In">
</div>
</div>
<div class="paragraph">
<p>Once the user has logged in or if they are accessing NiFi using a client certificate loaded in their browser, they will be prompted
to request access by submitting a justification if this is the first time they have accessed this NiFi. Fill in an optional justification
that the administrator will review while granting the account access. If NiFi is not configured to support anonymous access and the
user is using a client certificate, they will be immediately sent to the form to request access bypassing the canvas and login form.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/request-access.png" alt="Request Access">
</div>
</div>
<div class="paragraph">
<p>Press Submit to send the account request. If NiFi supports anonymous access, the user can continue accessing the DataFlow by closing the
login page. Returning to the login page will check the status of the account request. If access has been granted, press the home link or
reload the page to assume the new roles.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="building-dataflow"><a class="anchor" href="user-guide.html#building-dataflow"></a>Building a DataFlow</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A DFM is able to build an automated dataflow using the NiFi User Interface (UI). Simply drag components from the toolbar to the canvas, configure the components to meet specific needs, and connect
the components together.</p>
</div>
<div class="sect2">
<h3 id="adding-components-to-the-canvas"><a class="anchor" href="user-guide.html#adding-components-to-the-canvas"></a>Adding Components to the Canvas</h3>
<div class="paragraph">
<p>In the User Interface section above outlined the different segments of the UI and pointed out a Components Toolbar.
This section looks at each of the Components in that toolbar:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/components.png" alt="Components">
</div>
</div>
<div id="processor" class="paragraph">
<p><span class="image"><img src="images/iconProcessor.png" alt="Processor" width="32"></span>
<strong>Processor</strong>: The Processor is the most commonly used component, as it is responsible for data ingress, egress, routing, and
	manipulating. There are many different types of Processors. In fact, this is a very common Extension Point in NiFi,
	meaning that many vendors may implement their own Processors to perform whatever functions are necessary for their use case.
	When a Processor is dragged onto the canvas, the user is presented with a dialog to choose which type of Processor to use:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/add-processor.png" alt="Add Processor Dialog">
</div>
</div>
<div class="paragraph">
<p>In the top-right corner, the user is able to filter the list based on the Processor Type or the Tags associated with a Processor.
Processor developers have the ability to add Tags to their Processors. These tags are used in this dialog for filtering and are
displayed on the left-hand side in a Tag Cloud. The more Processors that exist with a particular Tag, the larger the Tag appears
in the Tag Cloud. Clicking a Tag in the Cloud will filter the available Processors to only those that contain that Tag. If multiple
Tags are selected, only those Processors that contain all of those Tags are shown. For example, if we want to show only those
Processors that allow us to ingest data via HTTP, we can select both the <code>http</code> Tag and the <code>ingest</code> Tag:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/add-processor-with-tag-cloud.png" alt="Add Processor with Tag Cloud">
</div>
</div>
<div class="paragraph">
<p>Clicking the <code>Add</code> button or double-clicking on a Processor Type will add the selected Processor to the canvas at the
location that it was dropped.</p>
</div>
<div class="paragraph">
<p><strong>Note</strong>: For any component added to the canvas, it is possible to select it with the mouse and move it anywhere on the canvas. Also, it is possible to select multiple items at once by either holding down the Shift key and selecting each item or by holding down the Shift key and dragging a selection box around the desired components.</p>
</div>
<div class="paragraph">
<p>Once a Processor has been dragged onto the canvas, the user may interact with it by right-clicking on the Processor and selecting an option from
context menu.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/nifi-processor-menu.png" alt="Processor Menu" width="300">
</div>
</div>
<div class="paragraph">
<p>The following options are available:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Configure</strong>: This option allows the user to establish or change the configuration of the Processor. (See <a href="user-guide.html#Configuring_a_Processor">Configuring a Processor</a>.)</p>
</li>
<li>
<p><strong>Start</strong> or <strong>Stop</strong>: This option allows the user to start or stop a Processor; the option will be either Start or Stop, depending on the current state of the Processor.</p>
</li>
<li>
<p><strong>Stats</strong>: This option opens a graphical representation of the Processor&#8217;s statistical information over time.</p>
</li>
<li>
<p><strong>Upstream connections</strong>: This option allows the user to see and "jump to" upstream connections that are coming into the Processor. This is particularly useful when processors connect into and out of other Process Groups.</p>
</li>
<li>
<p><strong>Downstream connections</strong>: This option allows the user to see and "jump to" downstream connections that are going out of the Processor. This is particularly useful when processors connect into and out of other Process Groups.</p>
</li>
<li>
<p><strong>Usage</strong>: This option takes the user to the Processor&#8217;s usage documentation.</p>
</li>
<li>
<p><strong>Change color</strong>: This option allows the user to change the color of the Processor, which can make the visual management of large flows easier.</p>
</li>
<li>
<p><strong>Center in view</strong>: This option centers the view of the canvas on the given Processor.</p>
</li>
<li>
<p><strong>Copy</strong>: This option places a copy of the selected Processor on the clipboard, so that it may be pasted elsewhere on the canvas by right-clicking on the canvas and selecting Paste. The Copy/Paste actions also may be done using the keystrokes Ctrl-C (Command-C) and Ctrl-V (Command-V).</p>
</li>
<li>
<p><strong>Delete</strong>: This option allows the DFM to delete a Processor from the canvas.</p>
</li>
</ul>
</div>
<div id="input_port" class="paragraph">
<p><span class="image"><img src="images/iconInputPort.png" alt="Input Port" width="32"></span>
<strong>Input Port</strong>: Input Ports provide a mechanism for transferring data into a Process Group. When an Input Port is dragged
onto the canvas, the DFM is prompted to name the Port. All Ports within a Process Group must have unique names.</p>
</div>
<div class="paragraph">
<p>All components exist only within a Process Group. When a user initially navigates to the NiFi page, the user is placed
in the Root Process Group. If the Input Port is dragged onto the Root Process Group, the Input Port provides a mechanism
to receive data from remote instances of NiFi via <a href="user-guide.html#site-to-site">Site-to-Site</a>. In this case, the Input Port can be configured
to restrict access to appropriate users, if NiFi is configured to run securely. For information on configuring NiFi to run
securely, see the
<a href="administration-guide.html">Admin Guide</a>.</p>
</div>
<div id="output_port" class="paragraph">
<p><span class="image"><img src="images/iconOutputPort.png" alt="Output Port" width="32"></span>
<strong>Output Port</strong>: Output Ports provide a mechanism for transferring data from a Process Group to destinations outside
of the Process Group. When an Output Port is dragged onto the canvas, the DFM is prompted to name the Port. All Ports
within a Process Group must have unique names.</p>
</div>
<div class="paragraph">
<p>If the Output Port is dragged onto the Root Process Group, the Output Port provides a mechanism for sending data to
remote instances of NiFi via <a href="user-guide.html#site-to-site">Site-to-Site</a>. In this case, the Port acts as a queue. As remote instances
of NiFi pull data from the port, that data is removed from the queues of the incoming Connections. If NiFi is configured
to run securely, the Output Port can be configured to restrict access to appropriate users. For information on configuring
NiFi to run securely, see the
<a href="administration-guide.html">Admin Guide</a>.</p>
</div>
<div id="process_group" class="paragraph">
<p><span class="image"><img src="images/iconProcessGroup.png" alt="Process Group" width="32"></span>
<strong>Process Group</strong>: Process Groups can be used to logically group a set of components so that the dataflow is easier to understand
and maintain. When a Process Group is dragged onto the canvas, the DFM is prompted to name the Process Group. All Process
Groups within the same parent group must have unique names. The Process Group will then be nested within that parent group.</p>
</div>
<div class="paragraph">
<p>Once a Process Group has been dragged onto the canvas, the user may interact with it by right-clicking on the Process Group and selecting an option from
context menu.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/nifi-process-group-menu.png" alt="Process Group Menu" width="300">
</div>
</div>
<div class="paragraph">
<p>The following options are available:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Configure</strong>: This option allows the user to establish or change the configuration of the Process Group.</p>
</li>
<li>
<p><strong>Enter group</strong>: This option allows the user to enter the Process Group. It is also possible to double-click on the Process Group to enter it.</p>
</li>
<li>
<p><strong>Start</strong>: This option allows the user to start a Process Group.</p>
</li>
<li>
<p><strong>Stop</strong>: This option allows the user to stop a Process Group.</p>
</li>
<li>
<p><strong>Stats</strong>: This option opens a graphical representation of the Process Group&#8217;s statistical information over time.</p>
</li>
<li>
<p><strong>Upstream connections</strong>: This option allows the user to see and "jump to" upstream connections that are coming into the Process Group.</p>
</li>
<li>
<p><strong>Downstream connections</strong>: This option allows the user to see and "jump to" downstream connections that are going out of the Process Group.</p>
</li>
<li>
<p><strong>Center in view</strong>: This option centers the view of the canvas on the given Process Group.</p>
</li>
<li>
<p><strong>Copy</strong>: This option places a copy of the selected Process Group on the clipboard, so that it may be pasted elsewhere on the canvas by right-clicking on the canvas and selecting Paste. The Copy/Paste actions also may be done using the keystrokes Ctrl-C (Command-C) and Ctrl-V (Command-V).</p>
</li>
<li>
<p><strong>Delete</strong>: This option allows the DFM to delete a Process Group.</p>
</li>
</ul>
</div>
<div id="remote_process_group" class="paragraph">
<p><span class="image"><img src="images/iconRemoteProcessGroup.png" alt="Remote Process Group" width="32"></span>
<strong>Remote Process Group</strong>: Remote Process Groups appear and behave similar to Process Groups. However, the Remote Process Group (RPG)
references a remote instance of NiFi. When an RPG is dragged onto the canvas, rather than being prompted for a name, the DFM
is prompted for the URL of the remote NiFi instance. If the remote NiFi is a clustered instance, the URL that should be used
is the URL of the remote instance&#8217;s NiFi Cluster Manager (NCM). When data is transferred to a clustered instance of NiFi
via an RPG, the RPG it will first connect to the remote instance&#8217;s NCM to determine which nodes are in the cluster and
how busy each node is. This information is then used to load balance the data that is pushed to each node. The remote NCM is
then interrogated periodically to determine information about any nodes that are dropped from or added to the cluster and to
recalculate the load balancing based on each node&#8217;s load. For more information, see the section on <a href="user-guide.html#site-to-site">Site-to-Site</a>.</p>
</div>
<div class="paragraph">
<p>Once a Remote Process Group has been dragged onto the canvas, the user may interact with it by right-clicking on the Remote Process Group and selecting an option from
context menu.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/nifi-rpg-menu.png" alt="Remote Process Group Menu" width="300">
</div>
</div>
<div class="paragraph">
<p>The following options are available:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Configure</strong>: This option allows the user to establish or change the configuration of the Remote Process Group.</p>
</li>
<li>
<p><strong>Remote Ports</strong>: This option allows the user to see input ports and/or output ports that exist on the remote instance of NiFi that the Remote Process Group is connected to. Note that if the Site-to-Site configuration is secure, only the ports that the connecting NiFi has been given accessed to will be visible.</p>
</li>
<li>
<p><strong>Enable transmission</strong>: Makes the transmission of data between NiFi instances active. (See <a href="user-guide.html#Remote_Group_Transmission">Remote Process Group Transmission</a> )</p>
</li>
<li>
<p><strong>Disable transmission</strong>: Disables the transmission of data between NiFi instances.</p>
</li>
<li>
<p><strong>Stats</strong>: This option opens a graphical representation of the Remote Process Group&#8217;s statistical information over time.</p>
</li>
<li>
<p><strong>Upstream connections</strong>: This option allows the user to see and "jump to" upstream connections that are coming into the Remote Process Group.</p>
</li>
<li>
<p><strong>Downstream connections</strong>: This option allows the user to see and "jump to" downstream connections that are going out of the Remote Process Group.</p>
</li>
<li>
<p><strong>Refresh</strong>: This option refreshes the view of the status of the remote NiFi instance.</p>
</li>
<li>
<p><strong>Go to</strong>: This option opens a view of the remote NiFi instance in a new tab of the browser. Note that if the Site-to-Site configuration is secure, the user must have access to the remote NiFi instance in order to view it.</p>
</li>
<li>
<p><strong>Center in view</strong>: This option centers the view of the canvas on the given Remote Process Group.</p>
</li>
<li>
<p><strong>Copy</strong>: This option places a copy of the selected Process Group on the clipboard, so that it may be pasted elsewhere on the canvas by right-clicking on the canvas and selecting Paste. The Copy/Paste actions also may be done using the keystrokes Ctrl-C (Command-C) and Ctrl-V (Command-V).</p>
</li>
<li>
<p><strong>Delete</strong>: This option allows the DFM to delete a Remote Process Group from the canvas.</p>
</li>
</ul>
</div>
<div id="funnel" class="paragraph">
<p><span class="image"><img src="images/iconFunnel.png" alt="Funnel" width="32"></span>
<strong>Funnel</strong>: Funnels are used to combine the data from many Connections into a single Connection. This has two advantages.
First, if many Connections are created with the same destination, the canvas can become cluttered if those Connections
have to span a large space. By funneling these Connections into a single Connection, that single Connection can then be
drawn to span that large space instead. Secondly, Connections can be configured with FlowFile Prioritizers. Data from
several Connections can be funneled into a single Connection, providing the ability to Prioritize all of the data on that
one Connection, rather than prioritizing the data on each Connection independently.</p>
</div>
<div id="template" class="paragraph">
<p><span class="image"><img src="images/iconTemplate.png" alt="Template" width="32"></span>
<strong>Template</strong>: Templates can be created by DFMs from sections of the flow, or they can be imported from other
dataflows. These Templates provide larger building blocks for creating a  complex flow quickly. When the Template is
dragged onto the canvas, the DFM is provided a dialog to choose which Template to add to the canvas:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/instantiate-template.png" alt="Instantiate Template Dialog">
</div>
</div>
<div class="paragraph">
<p>Clicking the drop-down box shows all available Templates. Any Template that was created with a description will show a question mark
icon, indicating that there is more information. Hovering over the icon with the mouse will show this description:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/instantiate-template-description.png" alt="Instantiate Template Dialog">
</div>
</div>
<div id="label" class="paragraph">
<p><span class="image"><img src="images/iconLabel.png" alt="Label"></span>
<strong>Label</strong>: Labels are used to provide documentation to parts of a dataflow. When a Label is dropped onto the canvas,
it is created with a default size. The Label can then be resized by dragging the handle in the bottom-right corner.
The Label has no text when initially created. The text of the Label can be added by right-clicking on the Label and
choosing <code>Configure...</code></p>
</div>
</div>
<div class="sect2">
<h3 id="Configuring_a_Processor"><a class="anchor" href="user-guide.html#Configuring_a_Processor"></a>Configuring a Processor</h3>
<div class="paragraph">
<p>To configure a processor, right-click on the Processor and select the <code>Configure...</code> option from the context menu. The configuration dialog is opened with four
different tabs, each of which is discussed below. Once you have finished configuring the Processor, you can apply
the changes by clicking the <code>Apply</code> button or cancel all changes by clicking the <code>Cancel</code> button.</p>
</div>
<div class="paragraph">
<p>Note that after a Processor has been started, the context menu shown for the Processor no longer has a <code>Configure...</code>
option but rather has a <code>View Configuration</code> option. Processor configuration cannot be changed while the Processor is
running. You must first stop the Processor and wait for all of its active tasks to complete before configuring
the Processor again.</p>
</div>
<div class="sect3">
<h4 id="settings-tab"><a class="anchor" href="user-guide.html#settings-tab"></a>Settings Tab</h4>
<div class="paragraph">
<p>The first tab in the Processor Configuration dialog is the Settings tab:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/settings-tab.png" alt="Settings Tab">
</div>
</div>
<div class="paragraph">
<p>This tab contains several different configuration items. First, it allows the DFM to change the name of the Processor.
The name of a Processor by default is the same as the Processor type. Next to the Processor Name is a checkbox, indicating
 whether the Processor is Enabled. When a Processor is added to the canvas, it is enabled. If the
Processor is disabled, it cannot be started. The disabled state is used to indicate that when a group of Processors is started,
such as when a DFM starts an entire Process Group, this (disabled) Processor should be excluded.</p>
</div>
<div class="paragraph">
<p>Below the Name configuration, the Processor&#8217;s unique identifier is displayed along with the Processor&#8217;s type. These
values cannot be modified.</p>
</div>
<div class="paragraph">
<p>Next are two dialogues for configuring &#8216;Penalty duration&#8217; and &#8216;Yield duration&#8217;. During the normal course of processing a
piece of data (a FlowFile), an event may occur that indicates that the data cannot be processed at this time but the
data may be processable at a later time. When this occurs, the Processor may choose to Penalize the FlowFile. This will
prevent the FlowFile from being Processed for some period of time. For example, if the Processor is to push the data
to a remote service, but the remote service already has a file with the same name as the filename that the Processor
is specifying, the Processor may penalize the FlowFile. The &#8216;Penalty duration&#8217; allows the DFM to specify how long the
FlowFile should be penalized. The default value is 30 seconds.</p>
</div>
<div class="paragraph">
<p>Similarly, the Processor may determine that some situation exists such that the Processor can no longer make any progress,
regardless of the data that it is processing. For example, if a Processor is to push data to a remote service and that
service is not responding, the Processor cannot make any progress. As a result, the Processor should &#8216;yield,&#8217; which will
prevent the Processor from being scheduled to run for some period of time. That period of time is specified by setting
the &#8216;Yield duration.&#8217; The default value is 1 second.</p>
</div>
<div class="paragraph">
<p>The last configurable option on the left-hand side of the Settings tab is the Bulletin level. Whenever the Processor writes
to its log, the Processor also will generate a Bulletin. This setting indicates the lowest level of Bulletin that should be
shown in the User Interface. By default, the Bulletin level is set to WARN, which means it will display all warning and error-level
bulletins.</p>
</div>
<div class="paragraph">
<p>The right-hand side of the Settings tab contains an &#8216;Auto-terminate relationships&#8217; section. Each of the Relationships that is
defined by the Processor is listed here, along with its description. In order for a Processor to be considered valid and
able to run, each Relationship defined by the Processor must be either connected to a downstream component or auto-terminated.
If a Relationship is auto-terminated, any FlowFile that is routed to that Relationship will be removed from the flow and
its processing considered complete. Any Relationship that is already connected to a downstream component cannot be auto-terminated.
The Relationship must first be removed from any Connection that uses it. Additionally, for any Relationship that is selected to be
auto-terminated, the auto-termination status will be cleared (turned off) if the Relationship is added to a Connection.</p>
</div>
</div>
<div class="sect3">
<h4 id="scheduling-tab"><a class="anchor" href="user-guide.html#scheduling-tab"></a>Scheduling Tab</h4>
<div class="paragraph">
<p>The second tab in the Processor Configuration dialog is the Scheduling Tab:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/scheduling-tab.png" alt="Scheduling Tab">
</div>
</div>
<div class="paragraph">
<p>The first configuration option is the Scheduling Strategy. There are three options for scheduling components:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Timer driven</strong>: This is the default mode. The Processor will be scheduled to run on a regular interval. The interval
at which the Processor is run is defined by the &#8216;Run schedule&#8217; option (see below).</p>
</li>
<li>
<p><strong>Event driven</strong>: When this mode is selected, the Processor will be triggered to run by an event, and that event occurs when FlowFiles enter Connections
feeding this Processor. This mode is currently considered experimental and is not supported by all Processors. When this mode is
selected, the &#8216;Run schedule&#8217; option is not configurable, as the Processor is not triggered to run periodically but
    as the result of an event. Additionally, this is the only mode for which the &#8216;Concurrent tasks&#8217;
option can be set to 0. In this case, the number of threads is limited only by the size of the Event-Driven Thread Pool that
the administrator has configured.</p>
</li>
<li>
<p><strong>CRON driven</strong>: When using the CRON driven scheduling mode, the Processor is scheduled to run periodically, similar to the
Timer driven scheduling mode. However, the CRON driven mode provides significantly more flexibility at the expense of
increasing the complexity of the configuration. This value is made up of six fields, each separated by a space. These
fields include:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Seconds</p>
</li>
<li>
<p>Minutes</p>
</li>
<li>
<p>Hours</p>
</li>
<li>
<p>Day of Month</p>
</li>
<li>
<p>Month</p>
</li>
<li>
<p>Day of Week</p>
</li>
<li>
<p>Year</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The value for each of these fields should be a number, range, or increment.
Range here refers to a syntax of &lt;number&gt;-&lt;number&gt;.
For example,the Seconds field could be set to 0-30, meaning that the Processor should only be scheduled if the time is 0 to 30 seconds
after the minute. Additionally, a value of <code>*</code> indicates that all values are valid for this field. Multiple values can also
be entered using a <code>,</code> as a separator: <code>0,5,10,15,30</code>.
An increment is written as &lt;start value&gt;/&lt;increment&gt;. For example, settings a value of <code>0/10</code> for the seconds fields means that valid
values are 0, 10, 20, 30, 40, and 50. However, if we change this to <code>5/10</code>, valid values become 5, 15, 25, 35, 45, and 55.</p>
</div>
<div class="paragraph">
<p>For the Month field, valid values are 1 (January) through 12 (December).</p>
</div>
<div class="paragraph">
<p>For the Day of Week field, valid values are 1 (Sunday) through 7 (Saturday). Additionally, a value of <code>L</code> may be appended to one of these
values to indicate the last occurrence of this day in the month. For example, <code>1L</code> can be used to indicate the last Monday of the month.</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Next, the Scheduling Tab provides a configuration option named &#8216;Concurrent tasks.&#8217; This controls how many threads the Processor
will use. Said a different way, this controls how many FlowFiles should be processed by this Processor at the same time. Increasing
this value will typically allow the Processor to handle more data in the same amount of time. However, it does this by using system
resources that then are not usable by other Processors. This essentially provides a relative weighting of Processors&#8201;&#8212;&#8201;it controls
how much of the system&#8217;s resources should be allocated to this Processor instead of other Processors. This field is available for
most Processors. There are, however, some types of Processors that can only be scheduled with a single Concurrent task.</p>
</div>
<div class="paragraph">
<p>The &#8220;Run schedule&#8221; dictates how often the Processor should be scheduled to run. The valid values for this field depend on the selected
Scheduling Strategy (see above). If using the Event driven Scheduling Strategy, this field is not available. When using the Timer driven
Scheduling Strategy, this value is a time duration specified by a number followed by a time unit. For example, <code>1 second</code> or <code>5 mins</code>.
The default value of <code>0 sec</code> means that the Processor should run as often as possible as long as it has data to process. This is true
for any time duration of 0, regardless of the time unit (i.e., <code>0 sec</code>, <code>0 mins</code>, <code>0 days</code>). For an explanation of values that are
applicable for the CRON driven Scheduling Strategy, see the description of the CRON driven Scheduling Strategy itself.</p>
</div>
<div class="paragraph">
<p>The right-hand side of the tab contains a slider for choosing the &#8216;Run duration.&#8217; This controls how long the Processor should be scheduled
to run each time that it is triggered. On the left-hand side of the slider, it is marked &#8216;Lower latency&#8217; while the right-hand side
is marked &#8216;Higher throughput.&#8217; When a Processor finishes running, it must update the repository in order to transfer the FlowFiles to
the next Connection. Updating the repository is expensive, so the more work that can be done at once before updating the repository,
the more work the Processor can handle (Higher throughput). However, this means that the next Processor cannot start processing
those FlowFiles until the previous Process updates this repository. As a result, the latency will be longer (the time required to process
the FlowFile from beginning to end will be longer). As a result, the slider provides a spectrum from which the DFM can choose to favor
Lower Latency or Higher Throughput.</p>
</div>
</div>
<div class="sect3">
<h4 id="properties-tab"><a class="anchor" href="user-guide.html#properties-tab"></a>Properties Tab</h4>
<div class="paragraph">
<p>The Properties Tab provides a mechanism to configure Processor-specific behavior. There are no default properties. Each type of Processor
must define which Properties make sense for its use case. Below, we see the Properties Tab for a RouteOnAttribute Processor:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/properties-tab.png" alt="Properties Tab">
</div>
</div>
<div class="paragraph">
<p>This Processor, by default, has only a single property: &#8216;Routing Strategy.&#8217; The default value is &#8216;Route on Property name.&#8217; Next to
the name of this property is a small question-mark symbol (
<span class="image"><img src="images/iconInfo.png" alt="Question Mark"></span>
). This help symbol is seen in other places throughout the User Interface, and it indicates that more information is available.
Hovering over this symbol with the mouse will provide additional details about the property and the default value, as well as
historical values that have been set for the Property.</p>
</div>
<div class="paragraph">
<p>Clicking on the value for the property will allow a DFM to change the value. Depending on the values that are allowed for the property,
the user is either provided a drop-down from which to choose a value or is given a text area to type a value:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/edit-property-dropdown.png" alt="Edit Property with Dropdown">
</div>
</div>
<div class="paragraph">
<p>In the top-right corner of the tab is a button for adding a New Property. Clicking this button will provide the DFM with a dialog to
enter the name and value of a new property. Not all Processors allow User-Defined properties. In processors that do not allow them,
the Processor becomes invalid when User-Defined properties are applied. RouteOnAttribute, however, does allow User-Defined properties.
In fact, this Processor will not be valid until the user has added a property.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/edit-property-textarea.png" alt="Edit Property with Text Area"></span></p>
</div>
<div class="paragraph">
<p>Note that after a User-Defined property has been added, an icon will appear on the right-hand side of that row (
<span class="image"><img src="images/iconDelete.png" alt="Delete Icon"></span>
). Clicking this button will remove the User-Defined property from the Processor.</p>
</div>
<div class="paragraph">
<p>Some processors also have an Advanced User Interface (UI) built into them. For example, the UpdateAttribute processor has an Advanced UI. To access the Advanced UI, click the <code>Advanced</code> button that appears at the bottom of the Configure Processor window. Only processors that have an Advanced UI will have this button.</p>
</div>
<div class="paragraph">
<p>Some processors have properties that refer to other components, such as Controller Services, which also need to be configured. For example, the GetHTTP processor has an SSLContextService property, which refers to the StandardSSLContextService controller service. When DFMs want to configure this property but have not yet created and configured the controller service, they have the option to create the service on the spot, as depicted in the image below. For more information about configuring Controller Services, see the <a href="user-guide.html#Controller_Services_and_Reporting_Tasks">Controller Services and Reporting Tasks</a> section.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/create-service-ssl-context.png" alt="Create Service" width="700"></span></p>
</div>
</div>
<div class="sect3">
<h4 id="comments-tab"><a class="anchor" href="user-guide.html#comments-tab"></a>Comments Tab</h4>
<div class="paragraph">
<p>The last tab in the Processor configuration dialog is the Comments tab. This tab simply provides an area for users to include
whatever comments are appropriate for this component. Use of the Comments tab is optional:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/comments-tab.png" alt="Comments Tab">
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="additional-help"><a class="anchor" href="user-guide.html#additional-help"></a>Additional Help</h3>
<div class="paragraph">
<p>The user may access additional documentation about each Processor&#8217;s usage by right-clicking
on the Processor and then selecting &#8216;Usage&#8217; from the context menu. Alternatively, clicking the &#8216;Help&#8217; link in the top-right
corner of the User Interface will provide a Help page with all of the documentation, including usage documentation
for all the Processors that are available. Clicking on the desired Processor in the list will display its usage documentation.</p>
</div>
</div>
<div class="sect2">
<h3 id="Controller_Services_and_Reporting_Tasks"><a class="anchor" href="user-guide.html#Controller_Services_and_Reporting_Tasks"></a>Controller Services and Reporting Tasks</h3>
<div class="paragraph">
<p>While DFMs have the ability to create Controller Services from the Configure Processor window, there is also a central place within the User Interface for adding and configuring both Controller Services and Reporting Tasks. To get there, click on the Controller Settings button in the Management section of the toolbar.</p>
</div>
<div class="sect3">
<h4 id="Controller_Settings"><a class="anchor" href="user-guide.html#Controller_Settings"></a>Controller Settings</h4>
<div class="paragraph">
<p><span class="image"><img src="images/controller-settings-button.png" alt="Controller Settings Button" width="200"></span></p>
</div>
<div class="paragraph">
<p>The Controller Settings window has three tabs across the top: General, Controller Services, and Reporting Tasks. The General tab is for settings that pertain to general information about the NiFi instance. For example, here, the DFM can provide a unique name for the overall dataflow, as well as comments that describe the flow. Be aware that this information is visible to any other NiFi instance that connects remotely to this instance (using Remote Process Groups, a.k.a., Site-to-Site).</p>
</div>
<div class="paragraph">
<p>The General tab also provides settings for the overall maximum thread counts of the instance, as well as the ability to click "Back-up flow" to create a backup copy of the current flow, which is saved by default in the /conf/archive directory.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/settings-general-tab.png" alt="Controller Settings General Tab" width="700"></span></p>
</div>
<div class="paragraph">
<p>To the right of the General tab is the Controller Services tab. From this tab, the DFM may click the "+" button in the upper-right corner to create a new Controller Service.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/controller-services-tab.png" alt="Controller Services Tab" width="900"></span></p>
</div>
<div class="paragraph">
<p>The Add Controller Service window opens. This window is similar to the Add Processor window. It provides a list of the available Controller Services on the right and a tag cloud, showing the most common category tags used for Controller Services, on the left. The DFM may click any tag in the tag cloud in order to narrow down the list of Controller Services to those that fit the categories desired. The DFM may also use the Filter field at the top of the window to search for the desired Controller Service. Upon selecting a Controller Service from the list, the DFM can see a description of the the service below. Select the desired controller service and click Add, or simply double-click the name of the service to add it.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/add-controller-service-window.png" alt="Add Controller Service Window" width="700"></span></p>
</div>
<div class="paragraph">
<p>Once a Controller Service has been added, the DFM may configure it by clicking the Edit button (pencil icon) in the far-right column. Other buttons in this column include the Enable button (to enable a configured service), the Remove button, and the Usage button, which links to the documentation for the particular Controller Service.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/controller-services-edit-buttons.png" alt="Controller Services Buttons"></span></p>
</div>
<div class="paragraph">
<p>When the DFM clicks the Edit button, a Configure Controller Service window opens. It has three tabs: Settings, Properties, and Comments. This window is similar to the Configure Processor window. The Settings tab provides a place for the DFM to give the Controller Service a unique name (if desired). It also lists the UUID for the service and provides a list of other components (processors or other controller services) that reference the service.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/configure-controller-service-settings.png" alt="Configure Controller Service Settings" width="700"></span></p>
</div>
<div class="paragraph">
<p>The Properties tab lists the various properties that apply to the particular controller service. As with configuring processors, the DFM may hover the mouse over the question mark icons to see more information about each property.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/configure-controller-service-properties.png" alt="Configure Controller Service Properties" width="700"></span></p>
</div>
<div class="paragraph">
<p>The Comments tab is just an open-text field, where the DFM may include comments about the service. After configuring a Controller Service, click the Apply button to apply the configuration and close the window, or click the Cancel button to cancel the changes and close the window.</p>
</div>
<div class="paragraph">
<p>Note that after a Controller Service has been configured, it must be enabled in order to run. Do this using the Enable button in the far-right column of the Controller Services tab of the Controller Settings window. Then, in order to modify an existing/running controller service, the DFM needs to stop/disable it (as well as all referencing processors, reporting tasks, and controller services). Rather than having to hunt down each component that is referenced by that controller service, the DFM has the ability to stop/disable them when disabling the controller service in question. Likewise, when enabling a controller service, the DFM has the option to start/enable all referencing processors, reporting tasks, and controller services.</p>
</div>
<div class="paragraph">
<p>The Reporting Tasks tab behaves similarly to the Controller Services tab. The DFM has the option to add Reporting Tasks and configure them in the same way as Controller Services.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/reporting-tasks-tab.png" alt="Reporting Tasks Tab" width="900"></span></p>
</div>
<div class="paragraph">
<p>Once a Reporting Task has been added, the DFM may configure it by clicking the Edit (pencil icon) in the far-right column. Other buttons in this column include the Start button, Remove button, and Usage button, which links to the documentation for the particular Reporting Task.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/reporting-tasks-edit-buttons2.png" alt="Reporting Tasks Buttons"></span></p>
</div>
<div class="paragraph">
<p>When the DFM clicks the Edit button, a Configure Reporting Task window opens. It has three tabs: Settings, Properties, and Comments. This window is also similar to the Configure Processor window. The Settings tab provides a place for the DFM to give the Reporting Task a unique name (if desired). It also lists a UUID for the Reporting Task and provides settings for the task&#8217;s Scheduling Strategy and Run Schedule (similar to the same settings in a processor). The DFM may hover the mouse over the question mark icons to see more information about each setting.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/configure-reporting-task-settings.png" alt="Configure Reporting Task Settings" width="700"></span></p>
</div>
<div class="paragraph">
<p>The Properties tab for a Reporting Task lists the properties that may be configured for the task. The DFM may hover the mouse over the question mark icons to see more information about each property.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/configure-reporting-task-properties.png" alt="Configure Reporting Task Properties" width="700"></span></p>
</div>
<div class="paragraph">
<p>The Comments tab is just an open-text field, where the DFM may include comments about the task. After configuring the Reporting Task, click the Apply button to apply the configuration and close the window, or click Cancel to cancel the changes and close the window.</p>
</div>
<div class="paragraph">
<p>When you want to run the Reporting Task, click the Start button in the far-right column of the Reporting Tasks tab.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="Connecting_Components"><a class="anchor" href="user-guide.html#Connecting_Components"></a>Connecting Components</h3>
<div class="paragraph">
<p>Once processors and other components have been added to the canvas and configured, the next step is to connect them
to one another so that NiFi knows what to do with each FlowFile after it has been processed. This is accomplished by creating a
Connection between each component. When the user hovers the mouse over the center of a component, a new Connection icon (
<span class="image"><img src="images/addConnect.png" alt="Connection Bubble"></span>
) appears:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/processor-connection-bubble.png" alt="Processor with Connection Bubble"></span></p>
</div>
<div class="paragraph">
<p>The user drags the Connection bubble from one component to another until the second component is highlighted. When the user
releases the mouse, a &#8216;Create Connection&#8217; dialog appears. This dialog consists of two tabs: &#8216;Details&#8217; and &#8216;Settings&#8217;. They are
discussed in detail below. Note that it is possible to draw a connection so that it loops back on the same processor. This can be
useful if the DFM wants the processor to try to re-process FlowFiles if they go down a failure Relationship. To create this type of looping
connection, simply drag the connection bubble away and then back to the same processor until it is highlighted. Then release the mouse and the same <em>Create Connection</em> dialog appears.</p>
</div>
<div class="sect3">
<h4 id="details-tab"><a class="anchor" href="user-guide.html#details-tab"></a>Details Tab</h4>
<div class="paragraph">
<p>The Details Tab of the <em>Create Connection</em> dialog provides information about the source and destination components, including the component name, the
component type, and the Process Group in which the component lives:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/create-connection.png" alt="Create Connection">
</div>
</div>
<div class="paragraph">
<p>Additionally, this tab provides the ability to choose which Relationships should be included in this Connection. At least one
Relationship must be selected. If only one Relationship is available, it is automatically selected.</p>
</div>
<div class="paragraph">
<p><strong>Note</strong>: If multiple Connections are added with the same Relationship, any FlowFile that is routed to that Relationship will
automatically be &#8216;cloned&#8217;, and a copy will be sent to each of those Connections.</p>
</div>
</div>
<div class="sect3">
<h4 id="settings"><a class="anchor" href="user-guide.html#settings"></a>Settings</h4>
<div class="paragraph">
<p>The Settings Tab provides the ability to configure the Connection&#8217;s name, FlowFile expiration, Back Pressure thresholds, and
Prioritization:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/connection-settings.png" alt="Connection Settings"></span></p>
</div>
<div class="paragraph">
<p>The Connection name is optional. If not specified, the name shown for the Connection will be names of the Relationships
that are active for the Connection.</p>
</div>
<div class="paragraph">
<p>File expiration is a concept by which data that cannot be processed in a timely fashion can be automatically removed from the flow.
This is useful, for example, when the volume of data is expected to exceed the volume that can be sent to a remote site.
In this case, the expiration can be used in conjunction with Prioritizers to ensure that the highest priority data is
processed first and then anything that cannot be processed within a certain time period (one hour, for example) can be dropped. The expiration period is based on the time that the data entered the NiFi instance. In other words, if the file expiration on a given connection is set to <em>1 hour</em>, and a file that has been in the NiFi instance for one hour reaches that connection, it will expire. The default
value of <code>0 sec</code> indicates that the data will never expire. When a file expiration other than <em>0 sec</em> is set, a small clock icon appears on the connection label, so the DFM can see it at-a-glance when looking at a flow on the canvas.</p>
</div>
<div class="paragraph">
<p>NiFi provides two configuration elements for Back Pressure. These thresholds indicate how much data should be
allowed to exist in the queue before the component that is the source of the Connection is no longer scheduled to run.
This allows the system to avoid being overrun with data. The first option provided is the &#8220;Back pressure object threshold.&#8221;
This is the number of FlowFiles that can be in the queue before back pressure is applied. The second configuration option
is the &#8220;Back pressure data size threshold.&#8221;
This specifies the maximum amount of data (in size) that should be queued up before
applying back pressure. This value is configured by entering a number followed by a data size (<code>B</code> for bytes, <code>KB</code> for
kilobytes, <code>MB</code> for megabytes, <code>GB</code> for gigabytes, or <code>TB</code> for terabytes).</p>
</div>
<div class="paragraph">
<p>The right-hand side of the tab provides the ability to prioritize the data in the queue so that higher priority data is
processed first. Prioritizers can be dragged from the top (&#8216;Available prioritizers&#8217;) to the bottom (&#8216;Selected prioritizers&#8217;).
Multiple prioritizers can be selected. The prioritizer that is at the top of the &#8216;Selected prioritizers&#8217; list is the highest
priority. If two FlowFiles have the same value according to this prioritizer, the second prioritizer will determine which
FlowFile to process first, and so on. If a prioritizer is no longer desired, it can then be dragged from the &#8216;Selected
prioritizers&#8217; list to the &#8216;Available prioritizers&#8217; list.</p>
</div>
<div class="paragraph">
<p>The following prioritizers are available:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>FirstInFirstOutPrioritizer</strong>: Given two FlowFiles, the on that reached the connection first will be processed first.</p>
</li>
<li>
<p><strong>NewestFlowFileFirstPrioritizer</strong>: Given two FlowFiles, the one that is newest in the dataflow will be processed first.</p>
</li>
<li>
<p><strong>OldestFlowFileFirstPrioritizer</strong>: Given two FlowFiles, the on that is oldest in the dataflow will be processed first. This is the default scheme that is used if no prioritizers are selected.</p>
</li>
<li>
<p><strong>PriorityAttributePrioritizer</strong>: Given two FlowFiles that both have a "priority" attribute, the one that has the highest priority value will be processed first. Note that an UpdateAttribute processor should be used to add the "priority" attribute to the FlowFiles before they reach a connection that has this prioritizer set. Values for the "priority" attribute may be alphanumeric, where "a" is a higher priority than "z", and "1" is a higher priority than "9", for example.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Note</strong>: After a connection has been drawn between two components, the connection&#8217;s configuration may be changed, and the connection may be moved to a new destination; however, the processors on either side of the connection must be stopped before a configuration or destination change may be made.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/nifi-connection.png" alt="Connection" width="300"></span></p>
</div>
<div class="paragraph">
<p>To change a connection&#8217;s configuration or interact with the connection in other ways, right-click on the connection to open the connection context menu.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/nifi-connection-menu.png" alt="Connection Menu" width="200"></span></p>
</div>
<div class="paragraph">
<p>The following options are available:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Configure</strong>: This option allows the user to change the configuration of the connection.</p>
</li>
<li>
<p><strong>Stats</strong>: This option opens a graphical representation of the connection&#8217;s statistical information over time.</p>
</li>
<li>
<p><strong>Bring to front</strong>: This option brings the connection to the front of the canvas if something else (such as another connection) is overlapping it.</p>
</li>
<li>
<p><strong>Go to source</strong>: This option can be useful if there is a long distance between the connection&#8217;s source and destination components on the canvas. By clicking this option, the view of the canvas will jump to the source of the connection.</p>
</li>
<li>
<p><strong>Go to destination</strong>: Similar to the "Go to source" option, this option changes the view to the destination component on the canvas and can be useful if there is a long distance between two connected components.</p>
</li>
<li>
<p><strong>Empty queue</strong>: This option allows the DFM to clear the queue of FlowFiles that may be waiting to be processed. This option can be especially useful during testing, when the DFM is not concerned about deleting data from the queue. When this option is selected, users must confirm that they want to delete the data in the queue.</p>
</li>
<li>
<p><strong>Delete</strong>: This option allows the DFM to delete a connection between two components. Note that the components on both sides of the connection must be stopped and the connection must be empty before it can be deleted.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="processor-validation"><a class="anchor" href="user-guide.html#processor-validation"></a>Processor Validation</h3>
<div class="paragraph">
<p>Before trying to start a Processor, it&#8217;s important to make sure that the Processor&#8217;s configuration is valid.
A status indicator is shown in the top-left of the Processor. If the Processor is invalid, the indicator
will show a yellow Warning indicator with an exclamation mark indicating that there is a problem:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/invalid-processor.png" alt="Invalid Processor">
</div>
</div>
<div class="paragraph">
<p>In this case, hovering over the indicator icon with the mouse will provide a tooltip showing all of the validation
errors for the Processor. Once all of the validation errors have been addressed, the status indicator will change
to a Stop icon, indicating that the Processor is valid and ready to be started but currently is not running:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/valid-processor.png" alt="Valid Processor">
</div>
</div>
</div>
<div class="sect2">
<h3 id="site-to-site"><a class="anchor" href="user-guide.html#site-to-site"></a>Site-to-Site</h3>
<div class="paragraph">
<p>When sending data from one instance of NiFi to another, there are many different protocols that can be used. The preferred
protocol, though, is the NiFi Site-to-Site Protocol. Site-to-Site makes it easy to transfer data from one NiFi instance to
another easily, efficiently, and securely.</p>
</div>
<div class="paragraph">
<p>Using Site-to-Site provides the following benefits:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Easy to configure</p>
<div class="ulist">
<ul>
<li>
<p>After entering the URL of the remote NiFi instance, the available ports (endpoints) are automatically discovered and provided in a drop-down list</p>
</li>
</ul>
</div>
</li>
<li>
<p>Secure</p>
<div class="ulist">
<ul>
<li>
<p>Site-to-Site optionally makes use of Certificates in order to encrypt data and provide authentication and authorization. Each port can be configured
   to allow only specific users, and only those users will be able to see that the port even exists. For information on configuring the Certificates,
   see the
<a href="administration-guide.html#security-configuration">Security Configuration</a> section of the
<a href="administration-guide.html">Admin Guide</a>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Scalable</p>
<div class="ulist">
<ul>
<li>
<p>As nodes in the remote cluster change, those changes are automatically detected and data is scaled out across all nodes in the cluster.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Efficient</p>
<div class="ulist">
<ul>
<li>
<p>Site-to-Site allows batches of FlowFiles to be sent at once in order to avoid the overhead of establishing connections and making multiple
round-trip requests between peers.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Reliable</p>
<div class="ulist">
<ul>
<li>
<p>Checksums are automatically produced by both the sender and receiver and compared after the data has been transmitted, in order
to ensure that no corruption has occurred. If the checksums don&#8217;t match, the transaction will simply be canceled and tried again.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Automatically load balanced</p>
<div class="ulist">
<ul>
<li>
<p>As nodes come online or drop out of the remote cluster, or a node&#8217;s load becomes heavier or lighter, the amount of data that is directed
to that node will automatically be adjusted.</p>
</li>
</ul>
</div>
</li>
<li>
<p>FlowFiles maintain attributes</p>
<div class="ulist">
<ul>
<li>
<p>When a FlowFile is transferred over this protocol, all of the FlowFile&#8217;s attributes
are automatically transferred with it. This can be very advantageous in many situations, as all of the context and enrichment
that has been determined by one instance of NiFi travels with the data, making for easy routing of the data and allowing users
to easily inspect the data.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Adaptable</p>
<div class="ulist">
<ul>
<li>
<p>As new technologies and ideas emerge, the protocol for handling Site-to-Site communications are able to change with them. When a connection is
made to a remote NiFi instance, a handshake is performed in order to negotiate which protocol and which version of the protocol will be used.
This allows new capabilities to be added while still maintaining backward compatibility with all older instances. Additionally, if a vulnerability
or deficiency is ever discovered in a protocol, it allows a newer version of NiFi to forbid communication over the compromised versions of the protocol.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>In order to communicate with a remote NiFi instance via Site-to-Site, simply drag a <a href="user-guide.html#remote_process_group">Remote Process Group</a> onto the canvas
and enter the URL of the remote NiFi instance (for more information on the components of a Remote Process Group, see
<a href="user-guide.html#Remote_Group_Transmission">Remote Process Group Transmission</a> section of this guide.) The URL is the same
URL you would use to go to that instance&#8217;s User Interface. At that point, you can drag a connection to or from the Remote Process Group
in the same way you would drag a connection to or from a Processor or a local Process Group. When you drag the connection, you will have
a chance to choose which Port to connect to. Note that it may take up to one minute for the Remote Process Group to determine
which ports are available.</p>
</div>
<div class="paragraph">
<p>If the connection is dragged starting from the Remote Process Group, the ports shown will be the Output Ports of the remote group,
as this indicates that you will be pulling data from the remote instance. If the connection instead ends on the Remote Process Group,
the ports shown will be the Input Ports of the remote group, as this implies that you will be pushing data to the remote instance.</p>
</div>
<div class="paragraph">
<p><strong>Note</strong>: if the remote instance is configured to use secure data transmission, you will see only ports that you are authorized to
communicate with. For information on configuring NiFi to run securely, see the
<a href="administration-guide.html">Admin Guide</a>.</p>
</div>
<div class="paragraph">
<p>In order to allow another NiFi instance to push data to your local instance, you can simply drag an <a href="user-guide.html#input_port">Input Port</a> onto the Root Process Group
of your canvas. After entering a name for the port, it will be added to your flow. You can now right-click on the Input Port and choose Configure in order
to adjust the name and the number of concurrent tasks that are used for the port. If Site-to-Site is configured to run securely, you will also be given
the ability to adjust who has access to the port. If secure, only those who have been granted access to communicate with the port will be able to see
that the port exists.</p>
</div>
<div class="paragraph">
<p>After being given access to a particular port, in order to see that port, the operator of a remote NiFi instance may need to right-click on their Remote
Process Group and choose to "Refresh" the flow.</p>
</div>
<div class="paragraph">
<p>Similar to an Input Port, a DataFlow Manager may choose to add an <a href="user-guide.html#output_port">Output Port</a> to the Root Process Group. The Output Port allows an
authorized NiFi instance to remotely connect to your instance and pull data from the Output Port. Configuring the Output Port will again allow the
DFM to control how many concurrent tasks are allowed, as well as which NiFi instances are authorized to pull data from the instance being configured.</p>
</div>
<div class="paragraph">
<p>In addition to other instances of NiFi, some other applications may use a Site-to-Site client in order to push data to or receive data from a NiFi instance.
For example, NiFi provides an Apache Storm spout and an Apache Spark Receiver that are able to pull data from NiFi&#8217;s Root Group Output Ports.</p>
</div>
<div class="paragraph">
<p>If your instance of NiFi is running securely, the first time that a client establishes a connection to your instance, the client will be forbidden and
a request for an account for that client will automatically be generated. The client will need to be granted the <em>NiFi</em> role in order to communicate
via Site-to-Site. For more information on managing user accounts, see the
<a href="administration-guide.html#controlling-levels-of-access">Controlling Levels of Access</a>
section of the <a href="administration-guide.html">Admin Guide</a>.</p>
</div>
<div class="paragraph">
<p>For information on how to enable and configure Site-to-Site on a NiFi instance, see the
<a href="administration-guide.html#site_to_site_properties">Site-to-Site Properties</a> section of the
<a href="administration-guide.html">Admin Guide</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="example-dataflow"><a class="anchor" href="user-guide.html#example-dataflow"></a>Example Dataflow</h3>
<div class="paragraph">
<p>This section has described the steps required to build a dataflow. Now, to put it all together. The following example dataflow
consists of just two processors: GenerateFlowFile and LogAttribute. These processors are normally used for testing, but they can also be used
to build a quick flow for demonstration purposes and see NiFi in action.</p>
</div>
<div class="paragraph">
<p>After you drag the GenerateFlowFile and LogAttribute processors to the canvas and connect them (using the guidelines provided above), configure them as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Generate FlowFile</p>
<div class="ulist">
<ul>
<li>
<p>On the Scheduling tab, set Run schedule to: 5 sec. Note that the GenerateFlowFile processor can create many FlowFiles very quickly; that&#8217;s why setting the Run schedule is important so that this flow does not overwhelm the system NiFi is running on.</p>
</li>
<li>
<p>On the Properties tab, set File Size to: 10 kb</p>
</li>
</ul>
</div>
</li>
<li>
<p>Log Attribute</p>
<div class="ulist">
<ul>
<li>
<p>On the Settings tab, under Auto-terminate relationships, select the checkbox next to Success. This will terminate FlowFiles after this processor has successfully processed them.</p>
</li>
<li>
<p>Also on the Settings tab, set the Bulletin level to Info. This way, when the dataflow is running, this processor will display the bulletin icon (see <a href="user-guide.html#processor_anatomy">Anatomy of a Processor</a>), and the user may hover over it with the mouse to see the attributes that the processor is logging.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The dataflow should look like the following:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/simple-flow.png" alt="Simple Flow" width="900">
</div>
</div>
<div class="paragraph">
<p>Now see the following section on how to start and stop the dataflow. When the dataflow is running, be sure to note the statistical information that is displayed on the face of each processor (see <a href="user-guide.html#processor_anatomy">Anatomy of a Processor</a>).</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="command-and-control-of-the-dataflow"><a class="anchor" href="user-guide.html#command-and-control-of-the-dataflow"></a>Command and Control of the DataFlow</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When a component is added to the NiFi canvas, it is in the Stopped state. In order to cause the component to
be triggered, the component must be started. Once started, the component can be stopped at any time. From a
Stopped state, the component can be configured, started, or disabled.</p>
</div>
<div class="sect2">
<h3 id="starting-a-component"><a class="anchor" href="user-guide.html#starting-a-component"></a>Starting a Component</h3>
<div class="paragraph">
<p>In order to start a component, the following conditions must be met:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The component&#8217;s configuration must be valid.</p>
</li>
<li>
<p>All defined Relationships for the component must be connected to another component or auto-terminated.</p>
</li>
<li>
<p>The component must be stopped.</p>
</li>
<li>
<p>The component must be enabled.</p>
</li>
<li>
<p>The component must have no active tasks. For more information about active tasks, see the &#8220;Anatomy of &#8230;&#8203;&#8221;
sections under <a href="user-guide.html#monitoring">Monitoring of DataFlow</a> (<a href="user-guide.html#processor_anatomy">Anatomy of a Processor</a>, <a href="user-guide.html#process_group_anatomy">Anatomy of a Process Group</a>, <a href="user-guide.html#remote_group_anatomy">Anatomy of a Remote Process Group</a>).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Components can be started by selecting all of the components to start and then clicking the Start icon (
<span class="image"><img src="images/iconRun.png" alt="Start"></span>
) in the
Actions Toolbar or by right-clicking a single component and choosing Start from the context menu.</p>
</div>
<div class="paragraph">
<p>If starting a Process Group, all components within that Process Group (including child Process Groups) will
be started, with the exception of those components that are invalid or disabled.</p>
</div>
<div class="paragraph">
<p>Once started, the status indicator of a Processor will change to a Play symbol (
<span class="image"><img src="images/iconRun.png" alt="Run"></span>
).</p>
</div>
</div>
<div class="sect2">
<h3 id="stopping-a-component"><a class="anchor" href="user-guide.html#stopping-a-component"></a>Stopping a Component</h3>
<div class="paragraph">
<p>A component can be stopped any time that it is running. A component is stopped by right-clicking on the component
and clicking Stop from the context menu, or by selecting the component and clicking the Stop icon (
<span class="image"><img src="images/iconStop.png" alt="Stop"></span>
) in the Actions Toolbar.</p>
</div>
<div class="paragraph">
<p>If a Process Group is stopped, all of the components within the Process Group (including child Process Groups)
will be stopped.</p>
</div>
<div class="paragraph">
<p>Once stopped, the status indicator of a component will change to the Stop symbol (
<span class="image"><img src="images/iconStop.png" alt="Stop"></span>
).</p>
</div>
<div class="paragraph">
<p>Stopping a component does not interrupt its currently running tasks. Rather, it stops scheduling new tasks to
be performed. The number of active tasks is shown in the top-right corner of the Processor (see <a href="user-guide.html#processor_anatomy">Anatomy of a Processor</a>
for more information).</p>
</div>
</div>
<div class="sect2">
<h3 id="enabling-disabling-a-component"><a class="anchor" href="user-guide.html#enabling-disabling-a-component"></a>Enabling/Disabling a Component</h3>
<div class="paragraph">
<p>When a component is enabled, it is able to be started. Users may choose to disable components when they are part of a
dataflow that is still being assembled, for example. Typically, if a component is not intended to be run, the component
is disabled, rather than being left in the Stopped state. This helps to distinguish between components that are
intentionally not running and those that may have been stopped temporarily (for instance, to change the component&#8217;s
configuration) and inadvertently were never restarted.</p>
</div>
<div class="paragraph">
<p>When it is desirable to re-enable a component, it can be enabled by selecting the component and
clicking the Enable icon (
<span class="image"><img src="images/iconEnable.png" alt="Enable"></span>
) in the Actions Toolbar. This is available only when the selected component or components are disabled.
Alternatively, a component can be enabled by checking the checkbox next  to the &#8220;Enabled&#8221; option in
the Settings tab of the Processor configuration dialog or the configuration dialog for a Port.</p>
</div>
<div class="paragraph">
<p>Once enabled, the component&#8217;s status indicator will change to either Invalid (
<span class="image"><img src="images/iconAlert.png" alt="Invalid"></span>
) or Stopped (
<span class="image"><img src="images/iconStop.png" alt="Stopped"></span>
), depending on whether or not the component is valid.</p>
</div>
<div class="paragraph">
<p>A component is then disabled by selecting the component and clicking the Disable icon (
<span class="image"><img src="images/iconDisable.png" alt="Disable"></span>
) in the Actions Toolbar, or by clearing the checkbox next to the &#8220;Enabled&#8221; option in the Settings tab
of the Processor configuration dialog or the configuration dialog for a Port.</p>
</div>
<div class="paragraph">
<p>Only Ports and Processors can be enabled and disabled.</p>
</div>
</div>
<div class="sect2">
<h3 id="Remote_Group_Transmission"><a class="anchor" href="user-guide.html#Remote_Group_Transmission"></a>Remote Process Group Transmission</h3>
<div class="paragraph">
<p>Remote Process Groups provide a mechanism for sending data to or retrieving data from a remote instance
of NiFi. When a Remote Process Group (RPG) is added to the canvas, it is added with the Transmission Disabled,
as indicated by the icon (
<span class="image"><img src="images/iconTransmissionInactive.png" alt="Transmission Disabled"></span>
) in the top-left corner. When Transmission is Disabled, it can be enabled by right-clicking on the
RPG and clicking the &#8220;Enable Transmission&#8221; menu item. This will cause all ports for which there is a Connection
to begin transmitting data. This will cause the status indicator to then change to the Transmission Enabled icon (
<span class="image"><img src="images/iconTransmissionActive.png" alt="Transmission Enabled"></span>
).</p>
</div>
<div class="paragraph">
<p>If there are problems communicating with the Remote Process Group, a Warning indicator (
<span class="image"><img src="images/iconAlert.png" alt="Warning"></span>
) may instead be present in the top-left corner. Hovering over this Warning indicator with the mouse will provide
more information about the problem.</p>
</div>
<div class="sect3">
<h4 id="Remote_Port_Configuration"><a class="anchor" href="user-guide.html#Remote_Port_Configuration"></a>Individual Port Transmission</h4>
<div class="paragraph">
<p>There are times when the DFM may want to either enable or disable transmission for only a specific
Port within the Remote Process Group. This can be accomplished by right-clicking on the Remote Process Group
and choosing the &#8220;Remote ports&#8221; menu item. This provides a configuration dialog from which each Port can be
configured:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/remote-group-ports-dialog.png" alt="Remote Process Groups">
</div>
</div>
<div class="paragraph">
<p>The left-hand side lists all of the Input Ports that the remote instance of NiFi allows data to be sent to.
The right-hand side lists all of the Output Ports from which this instance is able to pull data.
If the remote instance is using secure communications (the URL of the NiFi instance begins with <code>https://</code>,
rather than <code>http://</code>), any Ports that the remote instance has not made available to this instance will not
be shown.</p>
</div>
<div class="paragraph">
<p><strong>Note</strong>: If a Port that is expected to be shown is not shown in this dialog, ensure that the instance has proper
permissions and that the Remote Process Group&#8217;s flow is current. This can be checked by closing the Port
Configuration Dialog and looking at the bottom-right corner of the Remote Process Group. The date at which
the flow was last refreshed is shown. If the flow appears to be outdated, it can be updated by right-clicking
on the Remote Process Group and selecting &#8220;Refresh flow.&#8221; (See <a href="user-guide.html#remote_group_anatomy">Anatomy of a Remote Process Group</a> for more information).</p>
</div>
<div class="paragraph">
<p>Each Port is shown with the Port name, followed by its description, currently configured number of Concurrent
tasks, and whether or not data sent to this port will be compressed. To the left of this information is a switch
to turn the Port on or off. Those Ports that have no Connections attached to them are grayed out:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/remote-port-connection-status.png" alt="Remote Port Statuses">
</div>
</div>
<div class="paragraph">
<p>The on/off switch provides a mechanism to enable and disable transmission for each Port in the Remote
Process Group independently. Those Ports that are connected but are not currently transmitting can be
configured by clicking the pencil icon (
<span class="image"><img src="images/iconEdit.png" alt="Edit"></span>
) below the on/off switch. Clicking this icon will allow the DFM to change the number of Concurrent tasks and whether
or not compression should be used when transmitting data to or from this Port.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="navigating"><a class="anchor" href="user-guide.html#navigating"></a>Navigating within a DataFlow</h2>
<div class="sectionbody">
<div class="paragraph">
<p>NiFi provides various mechanisms for getting around a dataflow. The <a href="user-guide.html#User_Interface">NiFi User Interface</a> section discussed various ways to navigate around
the NiFi canvas; however, once a flow exists on the canvas, there are additional ways to get from one component to another. The <a href="user-guide.html#User Interface">[User Interface]</a> section showed that when multiple Process Groups exist in a flow, breadcrumbs appear under the toolbar, providing a way to navigate between them. In addition, to enter a Process Group that is currently visible on the canvas, simply double-click it, thereby "drilling down" into it. Connections also provide a way to jump from one location to another within the flow. Right-click on a connection and select "Go to source" or "Go to destination" in order to jump to one end of the connection or another. This can be very useful in large, complex dataflows, where the connection lines may be long and span large areas of the canvas. Finally, all components provide the ability to jump forward or backward within the flow. Right-click any component (e.g., a processor, process group, port, etc.) and select either "Upstream connections" or "Downstream connections". A dialog window will open, showing the available upstream or downstream connections that the user may jump to. This can be especially useful when trying to follow a dataflow in a backward direction. It is typically easy to follow the path of a dataflow from start to finish, drilling down into nested process groups; however, it can be more difficult to follow the dataflow in the other direction.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="monitoring"><a class="anchor" href="user-guide.html#monitoring"></a>Monitoring of DataFlow</h2>
<div class="sectionbody">
<div class="paragraph">
<p>NiFi provides a great deal of information about the status of the DataFlow in order to monitor the
health and status. The Status bar provides information about the overall system health
(See <a href="user-guide.html#status_bar">[status_bar]</a> above for more information). Processors, Process Groups, and Remote Process Groups
provide fine-grained details about their operations. Connections and Process Groups provide information
about the amount of data in their queues. The Summary Page provides information about all of the components
on the canvas in a tabular format and also provides System Diagnostics information that includes disk usage,
CPU utilization, and Java Heap and Garbage Collection information. In a clustered environment, this
information is available per-node or as aggregates across the entire cluster. We will explore each of these
monitoring artifacts below.</p>
</div>
<div class="sect2">
<h3 id="processor_anatomy"><a class="anchor" href="user-guide.html#processor_anatomy"></a>Anatomy of a Processor</h3>
<div class="paragraph">
<p>NiFi provides a significant amount of information about each Processor on the canvas. The following diagram
shows the anatomy of a Processor:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/processor-anatomy.png" alt="Anatomy of a Processor"></span></p>
</div>
<div class="paragraph">
<p>The image outlines the following elements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Processor Type</strong>: NiFi provides several different types of Processors in order to allow for a wide range
of tasks to be performed. Each type of Processor is designed to perform one specific task. The Processor
type (PutFile, in this example) describes the task that this Processor performs. In this case, the
Processor writes a FlowFile to disk - or &#8220;Puts&#8221; a FlowFile to a File.</p>
</li>
<li>
<p><strong>Bulletin Indicator</strong>: When a Processor logs that some event has occurred, it generates a Bulletin to notify
those who are monitoring NiFi via the User Interface. The DFM is able to configure which
bulletins should be displayed in the User Interface by updating the &#8220;Bulletin level&#8221; field in the
&#8220;Settings&#8221; tab of the Processor configuration dialog. The default value is <code>WARN</code>, which means that only
warnings and errors will be displayed in the UI. This icon is not present unless a Bulletin exists for this
Processor. When it is present, hovering over the icon with the mouse will provide a tooltip explaining the
message provided by the Processor as well as the Bulletin level. If the instance of NiFi is clustered,
it will also show the Node that emitted the Bulletin. Bulletins automatically expire after five minutes.</p>
</li>
<li>
<p><strong>Status Indicator</strong>: Shows the current Status of the Processor. The following indicators are possible:</p>
<div class="ulist">
<ul>
<li>
<p><span class="image"><img src="images/iconRun.png" alt="Running"></span>
<strong>Running</strong>: The Processor is currently running.</p>
</li>
<li>
<p><span class="image"><img src="images/iconStop.png" alt="Stopped"></span>
<strong>Stopped</strong>: The Processor is valid and enabled but is not running.</p>
</li>
<li>
<p><span class="image"><img src="images/iconAlert.png" alt="Invalid"></span>
<strong>Invalid</strong>: The Processor is enabled but is not currently valid and cannot be started.
Hovering over this icon will provide a tooltip indicating why the Processor is not valid.</p>
</li>
<li>
<p><span class="image"><img src="images/iconDisable.png" alt="Disabled"></span>
<strong>Disabled</strong>: The Processor is not running and cannot be started until it has been enabled.
This status does not indicate whether or not the Processor is valid.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Processor Name</strong>: This is the user-defined name of the Processor. By default, the name of the Processor is
the same as the Processor Type. In the example, this value is "Copy to /review".</p>
</li>
<li>
<p><strong>Active Tasks</strong>: The number of tasks that this Processor is currently executing. This number is constrained
by the &#8220;Concurrent tasks&#8221; setting in the &#8220;Scheduling&#8221; tab of the Processor configuration dialog.
Here, we can see that the Processor is currently performing two tasks. If the NiFi instance is clustered,
this value represents the number of tasks that are currently executing across all nodes in the cluster.</p>
</li>
<li>
<p><strong>5-Minute Statistics</strong>: The Processor shows several different statistics in tabular form. Each of these
statistics represents the amount of work that has been performed in the past five minutes. If the NiFi
instance is clustered, these values indicate how much work has been done by all of the Nodes combined
in the past five minutes. These metrics are:</p>
<div class="ulist">
<ul>
<li>
<p><strong>In</strong>: The amount of data that the Processor has pulled from the queues of its incoming Connections.
This value is represented as &lt;count&gt; / &lt;size&gt; where &lt;count&gt; is the number of FlowFiles that have been
pulled from the queues and &lt;size&gt; is the total size of those FlowFiles' content. In this example,
the Processor has pulled 884 FlowFiles from the input queues, for a total of 8.85 megabytes (MB).</p>
</li>
<li>
<p><strong>Read/Write</strong>: The total size of the FlowFile content that the Processor has read from disk and written
to disk. This provides valuable information about the I/O performance that this Processor requires.
Some Processors may only read the data without writing anything while some will not read the data but
will only write data. Others will neither read nor write data, and some Processors will both read
and write data. In this example, we see that in the past five minutes, this Processor has read 4.7
MB of the FlowFile content and has written 4.7 MB as well. This is what we would expect,
since this Processor simply copies the contents of a FlowFile to disk. Note, however, that this is
not the same as the amount of data that it pulled from its input queues. This is because some of
the files that it pulled from the input queues already exist in the output directory, and the
Processor is configured to route FlowFiles to failure when this occurs. Therefore, for those files
which already existed in the output directory, data was neither read nor written to disk.</p>
</li>
<li>
<p><strong>Out</strong>: The amount of data that the Processor has transferred to its outbound Connections. This does
not include FlowFiles that the Processor removes itself, or FlowFiles that are routed to connections
that are auto-terminated. Like the &#8220;In&#8221; metric above, this value is represented as &lt;count&gt; / &lt;size&gt;
where &lt;count&gt; is the number of FlowFiles that have been transferred to outbound Connections and &lt;size&gt;
is the total size of those FlowFiles' content. In this example, all of the Relationships are configured to be
auto-terminated, so no FlowFiles are reported as having been transferred Out.</p>
</li>
<li>
<p><strong>Tasks/Time</strong>: The number of times that this Processor has been triggered to run in the past 5 minutes, and
the amount of time taken to perform those tasks. The format of the time is &lt;hour&gt;:&lt;minute&gt;:&lt;second&gt;. Note
that the amount of time taken can exceed five minutes, because many tasks can be executed in parallel. For
instance, if the Processor is scheduled to run with 60 Concurrent tasks, and each of those tasks takes one
second to complete, it is possible that all 60 tasks will be completed in a single second. However, in this
case we will see the Time metric showing that it took 60 seconds, instead of 1 second. This time can be
thought of as &#8220;System Time,&#8221; or said another way, this value is 60 seconds because that&#8217;s the amount of
time it would have taken to perform the action if only a single concurrent task were used.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="process_group_anatomy"><a class="anchor" href="user-guide.html#process_group_anatomy"></a>Anatomy of a Process Group</h3>
<div class="paragraph">
<p>The Process Group provides a mechanism for grouping components together into a logical construct in order
to organize the DataFlow in a way that makes it more understandable from a higher level.
The following image highlights the different elements that make up the anatomy of a Process Group:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/process-group-anatomy.png" alt="Anatomy of a Process Group">
</div>
</div>
<div class="paragraph">
<p>The Process Group consists of the following elements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: This is the user-defined name of the Process Group. This name is set when the Process Group
is added to the canvas. The name can later by changed by right-clicking on the Process Group and clicking
the &#8220;Configure&#8221; menu option. In this example, the name of the Process Group is &#8220;Process Group ABC.&#8221;</p>
</li>
<li>
<p><strong>Bulletin Indicator</strong>: When a child component of a Process Group emits a bulletin, that bulletin is propagated to
the component&#8217;s parent Process Group, as well. When any component has an active Bulletin, this indicator will appear,
allowing the user to hover over the icon with the mouse to see Bulletin.</p>
</li>
<li>
<p><strong>Active Tasks</strong>: The number of tasks that are currently executing by the components within this
Process Group. Here, we can see that the Process Group is currently performing one task. If the
NiFi instance is clustered, this value represents the number of tasks that are currently executing
across all nodes in the cluster.</p>
</li>
<li>
<p><strong>Comments</strong>: When the Process Group is added to the canvas, the user is given the option of specifying Comments in order
to provide information about the Process Group. The comments can later be changed by right-clicking on the Process
Group and clicking the &#8220;Configure&#8221; menu option. In this example, the Comments are set to &#8220;Example Process Group.&#8221;</p>
</li>
<li>
<p><strong>Statistics</strong>: Process Groups provide statistics about the amount of data that has been processed by the Process Group in
the past 5 minutes as well as the amount of data currently enqueued within the Process Group. The following elements
comprise the &#8220;Statistics&#8221; portion of a Process Group:</p>
<div class="ulist">
<ul>
<li>
<p><strong>Queued</strong>: The number of FlowFiles currently enqueued within the Process Group.
This field is represented as &lt;count&gt; / &lt;size&gt; where &lt;count&gt; is the number of FlowFiles that are
currently enqueued in the Process Group and &lt;size&gt; is the total size of those FlowFiles' content. In this example,
the Process Group currently has 1,738 FlowFiles enqueued; those FlowFiles have a total size of 350.03 megabytes (MB).</p>
</li>
<li>
<p><strong>In</strong>: The number of FlowFiles that have been transferred into the Process Group through all of its Input Ports
 over the past 5 minutes. This field is represented as &lt;count&gt; / &lt;size&gt; where &lt;count&gt; is the number of FlowFiles that
have entered the Process Group in the past 5 minutes and &lt;size&gt; is the total size of those FlowFiles' content.
In this example, 686 FlowFiles have entered the Process Group and their total size is 214.01 MB.</p>
</li>
<li>
<p><strong>Read/Write</strong>: The total size of the FlowFile content that the components within the Process Group have
read from disk and written to disk. This provides valuable information about the I/O performance that this
Process Group requires. In this example, we see that in the past five minutes, components within this
Process Group have read 72.9 MB of the FlowFile content and have written 686.65 MB.</p>
</li>
<li>
<p><strong>Out</strong>: The number of FlowFiles that have been transferred out of the Process Group through its Output Ports
over the past 5 minutes. This field is represented as &lt;count&gt; / &lt;size&gt; where &lt;count&gt; is the number of FlowFiles that
have exited the Process Group in the past 5 minutes and &lt;size&gt; is the total size of those FlowFiles' content.
In this example, 657 FlowFiles have exited the Process Group and their total size is 477.74 MB.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Component Counts</strong>: The Component Counts element provides information about how many components of each type exist
within the Process Group. The following provides information about each of these icons and their meanings:</p>
<div class="ulist">
<ul>
<li>
<p><span class="image"><img src="images/iconInputPortSmall.png" alt="Input Port" width="16"></span>
<strong>Input Ports</strong>: The number of Input Ports that exist directly within this Process Group. This does not include any
    Input Ports that exist within child Process Groups, as child groups' ports cannot be accessed directly.</p>
</li>
<li>
<p><span class="image"><img src="images/iconOutputPortSmall.png" alt="Output Port"></span>
<strong>Output Ports</strong>: The number of Output Ports that exist directly within this Process Group. This does not include any
     Output Ports that exist within child Process Group as child groups' ports cannot be accessed directly.</p>
</li>
<li>
<p><span class="image"><img src="images/iconTransmissionActive.png" alt="Transmission Active"></span>
<strong>Transmitting Ports</strong>: The number of Remote Process Group Ports that currently are configured to transmit data to remote
    instances of NiFi or pull data from remote instances of NiFi.</p>
</li>
<li>
<p><span class="image"><img src="images/iconTransmissionInactive.png" alt="Transmission Inactive"></span>
<strong>Non-Transmitting Ports</strong>: The number of Remote Process Group Ports that are currently connected to components within this
    Process Group but currently have their transmission disabled.</p>
</li>
<li>
<p><span class="image"><img src="images/iconRun.png" alt="Running"></span>
<strong>Running Components</strong>: The number of Processors, Input Ports, and Output Ports that are currently running within this
    Process Group.</p>
</li>
<li>
<p><span class="image"><img src="images/iconStop.png" alt="Stopped Components"></span>
<strong>Stopped Components</strong>: The number of Processors, Input Ports, and Output Ports that are currently not running but are
    valid and enabled. These components are ready to be started.</p>
</li>
<li>
<p><span class="image"><img src="images/iconAlert.png" alt="Invalid Components"></span>
<strong>Invalid Components</strong>: The number of Processors, Input Ports, and Output Ports that are enabled but are currently
    not in a valid state. This may be due to misconfigured properties or missing Relationships.</p>
</li>
<li>
<p><span class="image"><img src="images/iconDisable.png" alt="Disabled Components"></span>
<strong>Disabled Components</strong>: The number of Processors, Input Ports, and Output Ports that are currently disabled. These
    components may or may not be valid. If the Process Group is started, these components will not cause any errors
    but will not be started.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="remote_group_anatomy"><a class="anchor" href="user-guide.html#remote_group_anatomy"></a>Anatomy of a Remote Process Group</h3>
<div class="paragraph">
<p>When creating a DataFlow, it is often necessary to transfer data from one instance of NiFi to another.
In this case, the remote instance of NiFi can be thought of as a Process Group. For this reason, NiFi
provides the concept of a Remote Process Group. From the User Interface, the Remote Process Group
looks similar to the Process Group. However, rather than showing information about the inner workings
and state of a Remote Process Group, such as queue sizes, the information rendered about a Remote
Process Group is related to the interaction that occurs between this instance of NiFi and the remote
instance.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/remote-group-anatomy.png" alt="Anatomy of a Remote Process Group">
</div>
</div>
<div class="paragraph">
<p>The image above shows the different elements that make up a Remote Process Group. Here, we provide an
explanation of the icons and details about the information provided.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Transmission Status</strong>: The Transmission Status indicates whether or not data Transmission between this
	instance of NiFi and the remote instance is currently enabled. The icon shown will be the
	Transmission Enabled icon (
<span class="image"><img src="images/iconTransmissionActive.png" alt="Transmission Active"></span>
	) if any of the Input Ports or Output Ports is currently configured to transmit or the Transmission
	Disabled icon (
<span class="image"><img src="images/iconTransmissionInactive.png" alt="Transmission Inactive"></span>
	) if all of the Input Ports and Output Ports that are currently connected are stopped.</p>
</li>
<li>
<p><strong>Remote Instance Name</strong>: This is the name of the NiFi instance that was reported by the remote instance.
When the Remote Process Group is first created, before this information has been obtained, the URL
of the remote instance will be shown here instead.</p>
</li>
<li>
<p><strong>Remote Instance URL</strong>: This is the URL of the remote instance that the Remote Process Group points to.
This URL is entered when the Remote Process Group is added to the canvas and it cannot be changed.</p>
</li>
<li>
<p><strong>Secure Indicator</strong>: This icon indicates whether or not communications with the remote NiFi instance are
	secure. If communications with the remote instance are secure, this will be indicated by the &#8220;locked&#8221;
	icon (
<span class="image"><img src="images/iconSecure.png" alt="Secure"></span>
	). If the communications are not secure, this will be indicated by the &#8220;unlocked&#8221; icon (
<span class="image"><img src="images/iconNotSecure.png" alt="Not Secure"></span>
	). If the communications are secure, this instance of NiFi will not be able to communicate with the
	remote instance until an administrator for the remote instance grants access. Whenever the Remote Process
	Group is added to the canvas, this will automatically initiate a request to have a user for this instance of NiFi created on the
	remote instance. This instance will be unable to communicate with the remote instance until an administrator
	on the remote instance adds the user to the system and adds the &#8220;NiFi&#8221; role to the user.
	In the event that communications are not secure, the Remote Process Group is able to receive data from anyone,
	and the data is not encrypted while it is transferred between instances of NiFi.</p>
</li>
<li>
<p><strong>Input Ports</strong>: This section shows three pieces of information:</p>
<div class="ulist">
<ul>
<li>
<p><span class="image"><img src="images/iconInputPortSmall.png" alt="Input Ports"></span>
<strong>Input Ports</strong>: The number of Input Ports that are available to send data to on the remote instance of NiFi.
    If the remote instance is secure, only the ports to which this instance of NiFi has been granted access
    will be counted.</p>
</li>
<li>
<p><span class="image"><img src="images/iconTransmissionActive.png" alt="Transmitting"></span>
<strong>Transmitting Ports</strong>: The number of Input Ports to which this NiFi is connected and currently configured to
    send data to. Ports can be turned on and off by enabling and disabling transmission on the Remote Process
    Group (see <a href="user-guide.html#Remote_Group_Transmission">Remote Process Group Transmission</a>) or via the <a href="user-guide.html#Remote_Port_Configuration">Individual Port Transmission</a> dialog.</p>
</li>
<li>
<p><span class="image"><img src="images/iconTransmissionInactive.png" alt="Not Transmitting"></span>
<strong>Non-Transmitting Ports</strong>: The number of Input Ports to which this NiFi is connected but is not currently configured
    to send data to. Ports can be turned on and off by enabling and disabling transmission on the Remote Process
    Group (see <a href="user-guide.html#Remote_Group_Transmission">Remote Process Group Transmission</a>) or via the <a href="user-guide.html#Remote_Port_Configuration">Individual Port Transmission</a> dialog.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Output Ports</strong>: Similar to the &#8220;Input Ports&#8221; section above, this element shows three pieces of information:</p>
<div class="ulist">
<ul>
<li>
<p><span class="image"><img src="images/iconOutputPortSmall.png" alt="Output Ports"></span>
<strong>Output Ports</strong>: The number of Output Ports that are available to pull data from the remote instance of NiFi.
    If the remote instance is secure, only the ports to which this instance of NiFi has been granted access
    will be counted.</p>
</li>
<li>
<p><span class="image"><img src="images/iconTransmissionActive.png" alt="Transmitting"></span>
<strong>Transmitting Ports</strong>: The number of Output Ports from which this NiFi is connected and currently configured
    to pull data from. Ports can be turned on and off by enabling and disabling transmission on the Remote Process
    Group (see <a href="user-guide.html#Remote_Group_Transmission">Remote Process Group Transmission</a>) or via the <a href="user-guide.html#Remote_Port_Configuration">Individual Port Transmission</a> dialog.</p>
</li>
<li>
<p><span class="image"><img src="images/iconTransmissionInactive.png" alt="Not Transmitting"></span>
<strong>Non-Transmitting Ports</strong>: The number of Output Ports to which this NiFi is connected but is not currently configured
    to pull data from. Ports can be turned on and off by enabling and disabling transmission on the Remote Process
    Group (see <a href="user-guide.html#Remote_Group_Transmission">Remote Process Group Transmission</a>) or via the <a href="user-guide.html#Remote_Port_Configuration">Individual Port Transmission</a> dialog.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>5-Minute Statistics</strong>: Two statistics are shown for Remote Process Groups: <strong>Sent</strong> and <strong>Received</strong>. Both of these are
in the format &lt;count&gt; / &lt;size&gt; where &lt;count&gt; is the number of FlowFiles that have been sent or received in the previous
five minutes and &lt;size&gt; is the total size of those FlowFiles' content.</p>
</li>
<li>
<p><strong>Comments</strong>: The Comments that are provided for a Remote Process Group are not comments added by the users of this NiFi but
rather the Comments added by the administrators of the remote instance. These comments indicate the purpose of the NiFi
instance as a whole.</p>
</li>
<li>
<p><strong>Last Refreshed Time</strong>: The information that is pulled from a remote instance and rendered on the Remote Process Group
in the User Interface is periodically refreshed in the background. This element indicates the time at which that refresh
last happened, or if the information has not been refreshed for a significant amount of time, the value will change to
indicate <em>Remote flow not current</em>. NiFi can be triggered to initiate a refresh of this information by right-clicking
on the Remote Process Group and choosing the &#8220;Refresh flow&#8221; menu item.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="Summary_Page"><a class="anchor" href="user-guide.html#Summary_Page"></a>Summary Page</h3>
<div class="paragraph">
<p>While the NiFi canvas is useful for understanding how the configured DataFlow is laid out, this view is not always optimal
when trying to discern the status of the system. In order to help the user understand how the DataFlow is functioning
at a higher level, NiFi provides a Summary page. This page is available in the Management Toolbar in the top-right corner
of the User Interface. See the <a href="user-guide.html#User_Interface">NiFi User Interface</a> section for more information about the location of this toolbar.</p>
</div>
<div class="paragraph">
<p>The Summary Page is opened by clicking the Summary icon (
<span class="image"><img src="images/iconSummary.png" alt="Summary"></span>
) from the Management Toolbar. This opens the Summary table dialog:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/summary-table.png" alt="Summary Table">
</div>
</div>
<div class="paragraph">
<p>This dialog provides a great deal of information about each of the components on the canvas. Below, we have annotated
the different elements within the dialog in order to make the discussion of the dialog easier.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/summary-annotated.png" alt="Summary Table Annotated">
</div>
</div>
<div class="paragraph">
<p>The Summary page consists mostly of a table that provides information about each of the components on the canvas. Above this
table is a set of five tabs that can be used to view the different types of components. The information provided in the table
is the same information that is provided for each component on the canvas. Each of the columns in the table may be sorted by
double-clicking on the heading of the column. For more on the types of information displayed, see the sections
<a href="user-guide.html#processor_anatomy">Anatomy of a Processor</a>, <a href="user-guide.html#process_group_anatomy">Anatomy of a Process Group</a>, and <a href="user-guide.html#remote_group_anatomy">Anatomy of a Remote Process Group</a> above.</p>
</div>
<div class="paragraph">
<p>The Summary page also includes the following elements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Bulletin Indicator</strong>: As in other places throughout the User Interface, when this icon is present, hovering over the icon will
provide information about the Bulletin that was generated, including the message, the severity level, the time at which
the Bulletin was generated, and (in a clustered environment) the node that generated the Bulletin. Like all the columns in the
Summary table, this column where bulletins are shown may be sorted
by double-clicking on the heading so that all the currently existing bulletins are shown at the top of the list.</p>
</li>
<li>
<p><strong>Details</strong>: Clicking the Details icon will provide the user with the details of the component. This dialog is the same as the
dialog provided when the user right-clicks on the component and chooses the &#8220;View configuration&#8221; menu item.</p>
</li>
<li>
<p><strong>Go To</strong>: Clicking this button will close the Summary page and take the user directly to the component on the NiFi canvas. This
may change the Process Group that the user is currently in. This icon is not available if the Summary page has been opened
in a new browser tab or window (by clicking the &#8220;Pop Out&#8221; button, as described below).</p>
</li>
<li>
<p><strong>Stats History</strong>: Clicking the Stats History icon will open a new dialog that shows a historical view of the statistics that
are rendered for this component. See the section <a href="user-guide.html#Stats_History">Historical Statistics of a Component</a> for more information.</p>
</li>
<li>
<p><strong>Refresh</strong>: The Refresh button allows the user to refresh the information displayed without closing the dialog and opening it
again. The time at which the information was last refreshed is shown just to the right of the Refresh button. The information
on the page is not automatically refreshed.</p>
</li>
<li>
<p><strong>Filter</strong>: The Filter element allows users to filter the contents of the Summary table by typing in all or part of some criteria,
such as a Processor Type or Processor Name. The types of filters available differ according to the selected tab. For instance,
if viewing the Processor tab, the user is able to filter by name or by type. When viewing the Connections tab, the user
is able to filter by source name, destination name, or Connection name. The filter is automatically applied when the contents
of the text box are changed. Below the text box is an indicator of how many entries in the table match the filter and how many
entries exist in the table.</p>
</li>
<li>
<p><strong>Pop-Out</strong>: When monitoring a flow, it is helpful to be able to open the Summary table in a separate browser tab or window. The
Pop-Out button, next to the Close button, will cause the entire Summary dialog to be opened in a new browser tab or window
(depending on the configuration of the browser). Once the page is &#8220;popped out&#8221;, the dialog is closed in the original
browser tab/window. In the new tab/window, the Pop-Out button and the Go-To button will no longer be available.</p>
</li>
<li>
<p><strong>System Diagnostics</strong>: The System Diagnostics window provides information about how the system is performing with respect to
system resource utilization. While this is intended mostly for administrators, it is provided in this view because it
does provide a summary of the system. This dialog shows information such as CPU utilization, how full the disks are,
and Java-specific metrics, such as memory size and utilization, as well as Garbage Collection information.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="Stats_History"><a class="anchor" href="user-guide.html#Stats_History"></a>Historical Statistics of a Component</h3>
<div class="paragraph">
<p>While the Summary table and the canvas show numeric statistics pertaining to the performance of a component over the
past five minutes, it is often useful to have a view of historical statistics as well. This information is available
by right-clicking on a component and choosing the &#8220;Stats&#8221; menu option or by clicking on the Stats History in the Summary page (see <a href="user-guide.html#Summary_Page">Summary Page</a>
for more information).</p>
</div>
<div class="paragraph">
<p>The amount of historical information that is stored is configurable in the NiFi properties but defaults to 24 hours.
When the Stats dialog is opened, it provides a graph of historical statistics:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/stats-history.png" alt="Stats History">
</div>
</div>
<div class="paragraph">
<p>The left-hand side of the dialog provides information about the component that the stats are for, as well as a textual
representation of the statistics being graphed. The following information is provided on the left-hand side:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Id</strong>: The ID of the component for which the stats are being shown.</p>
</li>
<li>
<p><strong>Group Id</strong>: The ID of the Process Group in which the component resides.</p>
</li>
<li>
<p><strong>Name</strong>: The Name of the Component for which the stats are being shown.</p>
</li>
<li>
<p><strong>Component-Specific Entries</strong>: Information is shown for each different type of component. For example, for a Processor,
the type of Processor is displayed. For a Connection, the source and destination names and IDs are shown.</p>
</li>
<li>
<p><strong>Start</strong>: The earliest time shown on the graph.</p>
</li>
<li>
<p><strong>End</strong>: The latest time shown on the graph.</p>
</li>
<li>
<p><strong>Min/Max/Mean</strong>: The minimum, maximum, and mean (arithmetic mean, or average) values are shown. These values are based
only on the range of time selected, if any time range is selected. If this instance of NiFi is clustered, these values
are shown for the cluster as a whole, as well as each individual node. In a clustered environment, each node is shown
in a different color. This also serves as the graph&#8217;s legend, showing the color of each node that is shown in the graph.
Hovering the mouse over the Cluster or one of the nodes in the legend will also make the corresponding node bold in the graph.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The right-hand side of the dialog provides a drop-down list of the different types of metrics to render in the graphs below.
The top graph is larger so as to provide an easier-to-read rendering of the information. In the bottom-right corner of
this graph is a small handle (
<span class="image"><img src="images/iconResize.png" alt="Resize"></span>
) that can be dragged to resize the graph. The blank area of the dialog above this graph can also be dragged around
to move the entire dialog.</p>
</div>
<div class="paragraph">
<p>The bottom graph is much shorter and provides the ability to select a time range. Selecting a time range here will
cause the top graph to show only the time range selected, but in a more detailed manner. Additionally, this will cause the
Min/Max/Mean values on the left-hand side to be recalculated. Once a selection has been created by dragging a
rectangle over the graph, double-clicking on the selected portion will cause the selection to fully expand in the
vertical direction. I.e., it will select all values in this time range. Clicking on the bottom graph without dragging
will remove the selection.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="templates"><a class="anchor" href="user-guide.html#templates"></a>Templates</h2>
<div class="sectionbody">
<div class="paragraph">
<p>DFMs have the ability to build very large and complex DataFlows using NiFi. This is achieved
by using the basic components: Processor, Funnel, Input/Output Port, Process Group, and Remote Process Group. These
can be thought of as the most basic building blocks for constructing a DataFlow. At times, though, using these
small building blocks can become tedious if the same logic needs to be repeated several times.</p>
</div>
<div class="paragraph">
<p>To solve this issue, NiFi provides the concept of a Template. A Template is a way of combining these basic building
blocks into larger building blocks. Once a DataFlow has been created, parts of it can be formed into a Template.
This Template can then be dragged onto the canvas, or can be exported as an XML file and shared with others. Templates
received from others can then be imported into an instance of NiFi and dragged onto the canvas.</p>
</div>
<div class="sect2">
<h3 id="Create_Template"><a class="anchor" href="user-guide.html#Create_Template"></a>Creating a Template</h3>
<div class="paragraph">
<p>To create a Template, select the components that are to be a part of the template, and then click the
&#8220;Create Template&#8221; (
<span class="image"><img src="images/iconNewTemplate.png" alt="Create Template"></span>
) button in the Actions Toolbar (See <a href="user-guide.html#User_Interface">NiFi User Interface</a> for more information on the Actions Toolbar).</p>
</div>
<div class="paragraph">
<p>Clicking this button without selecting anything will create a Template that contains all of the contents of the
current Process Group. This means that creating a Template with nothing selected while on the Root Process Group
will create a single Template that contains the entire flow.</p>
</div>
<div class="paragraph">
<p>After clicking this button, the user is prompted to provide a name and an optional description for the template.
Each template must have a unique name. After entering the name and optional description, clicking the Create button
will generate the template and notify the user that the template was successfully created, or provide an appropriate
error message if unable to create the template for some reason.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>It is important to note that if any Processor that is Templated has a sensitive property (such as a password), the value of that
sensitive property is not included in the Template. As a result, when dragging the Template onto the canvas, newly
created Processors may not be valid if they are missing values for their sensitive properties. Additionally, any
Connection that was selected when making the Template is not included in the Template if either the source or the
destination of the Connection is not also included in the Template.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="instantiating-a-template"><a class="anchor" href="user-guide.html#instantiating-a-template"></a>Instantiating a Template</h3>
<div class="paragraph">
<p>Once a Template has been created (see <a href="user-guide.html#Create_Template">Creating a Template</a>) or imported (see <a href="user-guide.html#Import_Template">Importing a Template</a>), it is ready to be
instantiated, or added to the canvas. This is accomplished by dragging the Template icon (
<span class="image"><img src="images/iconTemplate.png" alt="Template"></span>
) from the Components Toolbar (see <a href="user-guide.html#User_Interface">NiFi User Interface</a>) onto the canvas.</p>
</div>
<div class="paragraph">
<p>This will present a dialog to choose which Template to add to the canvas. After choosing the Template to add, simply
click the &#8220;Add&#8221; button. The Template will be added to the canvas with the upper-right-hand side of the Template
being placed wherever the user dropped the Template icon.</p>
</div>
<div class="paragraph">
<p>This leaves the contents of the newly instantiated Template selected. If there was a mistake, and this Template is no
longer wanted, it may be deleted.</p>
</div>
</div>
<div class="sect2">
<h3 id="Manage_Templates"><a class="anchor" href="user-guide.html#Manage_Templates"></a>Managing Templates</h3>
<div class="paragraph">
<p>One of the most powerful features of NiFi Templates is the ability to easily export a Template to an XML file
and to import a Template that has already been exported. This provides a very simple mechanism for sharing parts
of a DataFlow with others. The Management Toolbar (see <a href="user-guide.html#User_Interface">NiFi User Interface</a>) has a button for managing Templates (
<span class="image"><img src="images/iconTemplate.png" alt="Manage Templates"></span>
). Clicking this button opens a dialog that allows the user to see all of the Templates that are currently available,
filter the templates to see only those of interest, and import, export, and delete Templates.</p>
</div>
<div class="sect3">
<h4 id="Import_Template"><a class="anchor" href="user-guide.html#Import_Template"></a>Importing a Template</h4>
<div class="paragraph">
<p>After receiving a Template that has been exported from another NiFi, the first step needed to use the template is to import
the template into this instance of NiFi. From the Template Management dialog (see <a href="user-guide.html#Manage_Templates">Managing Templates</a>), click the
&#8220;Browse&#8221; button. This provides a File Selection dialog that allows the user to choose which template file to upload.
Select the file and click Open. The &#8220;Browse&#8221; button is replaced by an &#8220;Import&#8221; button and a &#8220;Cancel&#8221; button.
Clicking the &#8220;Import&#8221; button will attempt to import the Template into this instance of NiFi. If unable to import
the Template, an error message will appear in red next to the &#8220;Browse&#8221; button. Otherwise, the Template will be
added to the table and the &#8220;Browse&#8221; button will reappear.</p>
</div>
</div>
<div class="sect3">
<h4 id="Export_Template"><a class="anchor" href="user-guide.html#Export_Template"></a>Exporting a Template</h4>
<div class="paragraph">
<p>Once a Template has been created, it can be shared with others in the Template Management page (see <a href="user-guide.html#Manage_Templates">Managing Templates</a>).
To export a Template, locate the Template in the table. The Filter in the top-right corner
can be used to help find the appropriate Template if several are available. Then click the Export or Download button (
<span class="image"><img src="images/iconExport.png" alt="Export"></span>
). This will download the template as an XML file to your computer. This XML file can then be sent to others and imported
into other instances of NiFi (see <a href="user-guide.html#Import_Template">Importing a Template</a>).</p>
</div>
</div>
<div class="sect3">
<h4 id="removing-a-template"><a class="anchor" href="user-guide.html#removing-a-template"></a>Removing a Template</h4>
<div class="paragraph">
<p>Once it is decided that a Template is no longer needed, it can be easily removed from the Template Management page
(see <a href="user-guide.html#Manage_Templates">Managing Templates</a>). To delete a Template, locate it in the table (the Filter in the top-right corner
may be used to find the appropriate Template if several are available) and click the Delete button (
<span class="image"><img src="images/iconDelete.png" alt="Delete"></span>
). This will prompt for confirmation. After confirming the deletion, the Template will be removed from this table
and will no longer be available to add to the canvas.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="data-provenance"><a class="anchor" href="user-guide.html#data-provenance"></a>Data Provenance</h2>
<div class="sectionbody">
<div class="paragraph">
<p>While monitoring a dataflow, users often need a way to determine what happened to a particular data object (FlowFile).
NiFi&#8217;s Data Provenance page provides that information. Because NiFi records and indexes data provenance details
as objects flow through the system, users may perform searches, conduct troubleshooting and evaluate things
like dataflow compliance and optimization in real time. By default, NiFi updates this information every five minutes, but that
is configurable.</p>
</div>
<div class="paragraph">
<p>To access the Data Provenance page, click the Data Provenance button in the Management Toolbar (see <a href="user-guide.html#User_Interface">NiFi User Interface</a>)
( <span class="image"><img src="images/iconProvenance.png" alt="Data Provenance" width="28"></span>
). Clicking this button opens a dialog window that allows the user to see the most recent Data Provenance information available,
search the information for specific items, and filter the search results. It is also possible to open additional dialog windows to see event details,
replay data at any point within the dataflow, and see a graphical representation of the data&#8217;s lineage, or path through the flow.
(These features are described in depth below.)</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/provenance-annotated.png" alt="Provenance Table"></span></p>
</div>
<div class="paragraph">
<p>Each point in a dataflow where a FlowFile is processed in some way is considered a "processing event". Various types of processing
events occur, depending on the dataflow design. For example, when data is brought into the flow, a RECEIVE event occurs, and when
data is sent out of the flow, a SEND event occurs. Other types of processing events may occur, such as if the data is cloned (CLONE event), routed (ROUTE event), modified (CONTENT_MODIFIED or ATTRIBUTES_MODIFIED event),
split (FORK event), combined with other data objects (JOIN event), and ultimately removed from the flow (DROP event).</p>
</div>
<div class="sect2">
<h3 id="searching-for-events"><a class="anchor" href="user-guide.html#searching-for-events"></a>Searching for Events</h3>
<div class="paragraph">
<p>One of the most common tasks performed in the Data Provenance page is a search for a given FlowFile to determine what happened to it. To do this,
click the <code>Search</code> button in the upper-right corner of the Data Provenance page. This opens a dialog window with parameters that the user can
define for the search. The parameters include the processing event of interest, distinguishing characteristics about the FlowFile or the component that produced the event, the timeframe within which to search, and the size of the FlowFile.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/search-events.png" alt="Search Events" width="400"></span></p>
</div>
<div class="paragraph">
<p>For example, to determine if a particular FlowFile was received, search for an Event Type of "RECEIVE" and include an
identifier for the FlowFile, such as its uuid or filename. The asterisk (*) may be used as a wildcard for any number of characters.
So, to determine whether a FlowFile with "ABC" anywhere in its filename was received at any time on Jan. 6, 2015, the search shown in the following
image could be performed:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/search-receive-event-abc.png" alt="Search for RECEIVE Event" width="400"></span></p>
</div>
</div>
<div class="sect2">
<h3 id="event_details"><a class="anchor" href="user-guide.html#event_details"></a>Details of an Event</h3>
<div class="paragraph">
<p>In the far-left column of the Data Provenance page, there is a View Details icon for each event ( <span class="image"><img src="images/iconViewDetails.png" alt="View Details" width="32"></span> ).
Clicking this button opens a dialog window with three tabs: Details, Attributes, and Content.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/event-details.png" alt="Event Details" width="700"></span></p>
</div>
<div class="paragraph">
<p>The Details tab shows various details about the event, such as when it occurred, what type of event it was, and the component that produced the event.
The information that is displayed will vary according to the event type. This tab also shows information about the FlowFile that was processed. In
addition to the FlowFile&#8217;s UUID, which is displayed on the left side of the Details tab, the UUIDs of any parent or children FlowFiles that are related
to that FlowFile are displayed on the right side of the Details tab.</p>
</div>
<div class="paragraph">
<p>The Attributes tab shows the attributes that exist on the FlowFile as of that point in the flow. In order to see only the attributes that were modified as
a result of the processing event, the user may select the checkbox next to "Only show modified" in the upper-right corner of the Attributes tab.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/event-attributes.png" alt="Event Attributes" width="700"></span></p>
</div>
</div>
<div class="sect2">
<h3 id="replaying-a-flowfile"><a class="anchor" href="user-guide.html#replaying-a-flowfile"></a>Replaying a FlowFile</h3>
<div class="paragraph">
<p>A DFM may need to inspect a FlowFile&#8217;s content at some point in the dataflow to ensure that it is being processed as expected. And if it
is not being processed properly, the DFM may need to make adjustments to the dataflow and replay the FlowFile again. The Content tab of the View Details dialog window is where the DFM can do these things. The Content tab shows information about the FlowFile&#8217;s content, such as its location in the Content Repository
and its size. In addition, it is here that the user may click the <code>Download</code> button in order to download a copy of the FlowFile&#8217;s content as it existed
at this point in the flow. The user may also click the <code>Submit</code> button to replay the FlowFile at this point in the flow. Upon clicking <code>Submit</code>,
the FlowFile is sent to the connection feeding the component that produced this processing event.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/event-content.png" alt="Event Content" width="700"></span></p>
</div>
</div>
<div class="sect2">
<h3 id="viewing-flowfile-lineage"><a class="anchor" href="user-guide.html#viewing-flowfile-lineage"></a>Viewing FlowFile Lineage</h3>
<div class="paragraph">
<p>It is often useful to see a graphical representation of the lineage or path a FlowFile took within the dataflow. To see a FlowFile&#8217;s lineage, click on the "Show Lineage" icon ( <span class="image"><img src="images/iconLineage.png" alt="Show Lineage" width="28"></span> ) in the far-right column
of the Data Provenance table. This opens a graph displaying the FlowFile ( <span class="image"><img src="images/lineage-flowfile.png" alt="FlowFile" width="32"></span> ) and the various processing events that have occurred. The selected event will be highlighted in yellow. It is possible to right-click on any event to see that event&#8217;s details (See <a href="user-guide.html#event_details">Details of an Event</a>)
To see how the lineage evolved over time, click the slider at the bottom-left of the window and move it to the left to see the state of the lineage at earlier stages in the dataflow.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/lineage-graph-annotated.png" alt="Lineage Graph" width="900"></span></p>
</div>
<div class="sect3">
<h4 id="find-parents"><a class="anchor" href="user-guide.html#find-parents"></a>Find Parents</h4>
<div class="paragraph">
<p>Sometimes, a user may need to track down the original FlowFile that another FlowFile was spawned from. For example, when a FORK or CLONE event occurs, NiFi keeps
track of the parent FlowFile that produced other FlowFiles, and it is possible to find that parent FlowFile in the Lineage. Right-click on the event in the
lineage graph and select "Find parents" from the context menu.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/find-parents.png" alt="Find Parents" width="250"></span></p>
</div>
<div class="paragraph">
<p>Once "Find parents" is selected, the graph is re-drawn to show the parent FlowFile and its lineage as well as the child and its lineage.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/parent-found.png" alt="Parent Found" width="250"></span></p>
</div>
</div>
<div class="sect3">
<h4 id="expanding-an-event"><a class="anchor" href="user-guide.html#expanding-an-event"></a>Expanding an Event</h4>
<div class="paragraph">
<p>In the same way that it is useful to find a parent FlowFile, the user may also want to determine what children were spawned from a given FlowFile. To do this, right-click on the event in the lineage graph and select "Expand" from the context menu.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/expand-event.png" alt="Expand Event" width="250"></span></p>
</div>
<div class="paragraph">
<p>Once "Expand" is selected, the graph is re-drawn to show the children and their lineage.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/expanded-events.png" alt="Expanded Events" width="300"></span></p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="other_management_features"><a class="anchor" href="user-guide.html#other_management_features"></a>Other Management Features</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In addition to the Summary Page, Data Provenance Page, Template Management Page, and Bulletin Board Page, there are other tools in the Management Toolbar (See <a href="user-guide.html#User_Interface">NiFi User Interface</a>) that are useful to the DFM. The Flow Configuration History, which is available by clicking on the clock icon ( <span class="image"><img src="images/iconFlowHistory.png" alt="Flow History" width="28"></span> ) in the Management Toolbar, shows all the changes that have been made to the dataflow. The history can aid in troubleshooting, such as if a recent change to the dataflow has caused a problem and needs to be fixed. The DFM can see what changes have been made and adjust the flow as needed to fix the problem. While NiFi does not have an "undo" feature, the DFM can make new changes to the dataflow that will fix the problem.</p>
</div>
<div class="paragraph">
<p>Two other tools in the Management Toolbar are the Controller Settings page ( <span class="image"><img src="images/iconSettings.png" alt="Settings" width="28"></span> ) and the Users page ( <span class="image"><img src="images/iconUsers.png" alt="Users" width="28"></span> ). The Controller Settings page provides the ability to change the name of the NiFi instance, add comments describing the NiFi instance, set the maximum number of threads that are available to the application, and create a back-up copy of the dataflow(s) currently on the canvas. It also provides tabs where DFMs may add and configure Controller Services and Reporting Tasks (see <a href="user-guide.html#Controller_Services_and_Reporting_Tasks">Controller Services and Reporting Tasks</a>). The Users page is used to manage user access, which is described in the Admin Guide.</p>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2015-12-23 18:08:47 UTC
</div>
</div>
</body>
</html>